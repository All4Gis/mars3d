function a0_0x276b(_0x36d04b,_0x4198cf){var _0x214579=a0_0x2145();return a0_0x276b=function(_0x276be3,_0x190200){_0x276be3=_0x276be3-0x155;var _0x599116=_0x214579[_0x276be3];return _0x599116;},a0_0x276b(_0x36d04b,_0x4198cf);}function a0_0x2145(){var _0x9ecd5a=['push','lighter','_map','fixedHeight','postProcessingSpeed','writable','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','toRadians','show','defaultValue','#ffffff','array','getColorTexture','_mountedHook','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','screen','drawWind','SCENE3D','default','Cesium','speedRate','particlesWind','createRenderingFramebuffers','randomBetween','windField','removeAll','segmentsColor','primitiveType','random','Color','getDirection','createParticlesTextures','lng','PrimitiveCollection','viewerParameters','toGridXY','STATIC_DRAW','clientWidth','sham','particles','tlng','clearFramebuffers','abs','frameTime','LINEAR','mars3d','uniformMap','WHEEL','absolute','ComputeCommand','source','amd','floor','now','145672SciMrJ','currentTrails','updateViewerParameters','maxAge','rgba(0,\x200,\x200,\x200.97)','ShaderSource','cancelAnimationFrame','1827790oHWtFh','fromGeometry','width','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','globe','setPrototypeOf','data','particlesTextureSize','applyUserInput','class','toDegrees','dimensions','2XPRuvP','context','updatePosition','defined','container','_addedHook','autoClear','forEach','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','postProcessingPosition','wgs84ToWindowCoordinates','IDENTITY','execute','DISABLE_GL_POSITION_LOG_DEPTH','FLOAT','dropRateBump','UNSIGNED_INT','SceneTransforms','canvas','globeBoundingSphere','getContext','rawRenderState','redraw','updateSpeed','getRandomLatLng','globalCompositeOperation','Math','ScreenSpaceEventType','particleSystem','_particlesNumber','log','prototype','Appearance','fragmentShaderSource','createFramebuffer','requestAnimationFrame','appendChild','applyViewerParameters','8MSZMVC','layer','fromDegrees','xmin','Cartesian2','ceil','pow','Module','setAttribute','userInput','_bilinearInterpolation','lineWidth','unbindEvent','44KPyGgS','canvasResize','WindUtil','beginPath','maxParticles','globalAlpha','particlesComputing','resize','canrefresh','PrimitiveType','Rectangle','age','_maxAge','lonRange','DrawCommand','none','addEventListener','ymax','camera','exports','create','west','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','7KNZqhG','VertexArray','hasOwnProperty','DEPTH_COMPONENT','destroyParticlesTextures','configurable','updateDate','_drawLines','RIGHT_DOWN','height','update','preRender','commandToExecute','pointerEvents','408069xSdxjJ','fillStyle','ShaderProgram','randomParticle','reverseY','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','destination-in','TWO_PI','particlesTextures','mars3d-cesium','destroy','hidden','dropRate','arrayBufferView','preExecute','WMS_URL','particleHeight','mars3dWind','PixelFormat','primitives','setInputAction','sqrt','TextureMinificationFilter','pointer-events','zIndex','segments','randomizeParticles','reverse','LEFT_UP','depthTest','setOptions','addPrimitives','cols','PixelDatatype','WindLayer','drawingBufferHeight','trails','apply','createComputingPrimitives','computeViewRectangle','vertexArray','createSegmentsGeometry','DepthFunction','removeEventListener','nextParticlesSpeed','lat','length','round','getV','lon','style','EllipsoidalOccluder','createWindTextures','__esModule','3025660JHqHlG','ClearCommand','PI_OVER_TWO','remove','outputTexture','Draw','calc_speedRate','Texture','Compute','createRenderingTextures','_calcUV','segmentsDepth','undefined','call','geometry','createRenderingPrimitives','attributeLocations','max','NEAREST','vertexShaderSource','ComponentDatatype','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','UNSIGNED_BYTE','scene','_showHook','all','_createCanvas','BufferUsage','add','RenderState','removeChild','viewRectangleToLonLatRange','162JucfrX','TextureMagnificationFilter','createTexture','windTextures','isDestroyed','cos','CanvasWindLayer','top','BaseLayer','grid','getUserInput','clearCommand','Framebuffer','windData','defineProperty','particlesRendering','speedFactor','particlesNumber','_removedHook','__proto__','SceneMode','east','LayerUtil','canvasWidth','mod','pixelSize','_pointerEvents','north','1424634qDwAYo','getFullscreenQuad','destroyObject','fillRect','ymin','RIGHT_UP','TRIANGLES','commandList','getU','Cartesian3','getUVByXY','THREE_PI_OVER_TWO','toStringTag','clientHeight','ScreenSpaceEventHandler','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','GeometryAttributes','south','visible','udata','100%','framebuffer','setData','currentParticlesSpeed','getUVByPoint','getWind','PI_OVER_THREE','LEFT_DOWN','commandType','animateFrame','createCommand','min','options','refreshParticles','textures','handler','Matrix4','shaderProgram','moveTo','atan2','latRange','_calcStep','nextParticlesPosition','color','framebuffers','Sampler','Pass','canvasHeight','keys','createRawRenderState','isInExtent','getPrototypeOf','currentParticlesPosition','canvasContext','drawingBufferWidth','fadeOpacity','setupEventListeners','getSpeed','currentTrailsDepth','ellipsoid','function','LUMINANCE','construct','register','RGB','tlat','rows','_tomap','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','lev','viewport','OPAQUE','_speedRate','strokeStyle','0px','bind','enumerable','colorTable','valueOf','clear','GeometryAttribute','Geometry','568714sGZTQD','constructor','object','clampToLatitudeRange','nextTrails','mode','lineTo','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','150252MdaxfP','canvasWindy','xmax'];a0_0x2145=function(){return _0x9ecd5a;};return a0_0x2145();}(function(_0x15b1ce,_0x24df77){var _0x4cb5fc=a0_0x276b,_0xfefd89=_0x15b1ce();while(!![]){try{var _0x476b33=-parseInt(_0x4cb5fc(0x1f9))/0x1*(-parseInt(_0x4cb5fc(0x24d))/0x2)+parseInt(_0x4cb5fc(0x2a5))/0x3+parseInt(_0x4cb5fc(0x273))/0x4*(parseInt(_0x4cb5fc(0x241))/0x5)+-parseInt(_0x4cb5fc(0x1a7))/0x6*(parseInt(_0x4cb5fc(0x297))/0x7)+parseInt(_0x4cb5fc(0x23a))/0x8*(-parseInt(_0x4cb5fc(0x18b))/0x9)+-parseInt(_0x4cb5fc(0x16b))/0xa+parseInt(_0x4cb5fc(0x280))/0xb*(-parseInt(_0x4cb5fc(0x201))/0xc);if(_0x476b33===_0x24df77)break;else _0xfefd89['push'](_0xfefd89['shift']());}catch(_0x2872a4){_0xfefd89['push'](_0xfefd89['shift']());}}}(a0_0x2145,0x7e772),!function(_0x58e913,_0x191781){var _0x1918fc=a0_0x276b;_0x1918fc(0x1fb)==typeof exports&&_0x1918fc(0x1fb)==typeof module?module[_0x1918fc(0x293)]=_0x191781(require(_0x1918fc(0x2ae)),require(_0x1918fc(0x231))):'function'==typeof define&&define[_0x1918fc(0x237)]?define(_0x1918fc(0x2b6),['mars3d-cesium',_0x1918fc(0x231)],_0x191781):_0x1918fc(0x1fb)==typeof exports?exports[_0x1918fc(0x2b6)]=_0x191781(require('mars3d-cesium'),require(_0x1918fc(0x231))):_0x58e913[_0x1918fc(0x2b6)]=_0x191781(_0x58e913[_0x1918fc(0x217)],_0x58e913[_0x1918fc(0x231)]);}(window,function(_0xdf13ce,_0xa12652){return function(_0x4ff968){var _0x486572={};function _0x231a4d(_0x5a588f){var _0x5689e0=a0_0x276b;if(_0x486572[_0x5a588f])return _0x486572[_0x5a588f]['exports'];var _0x2d3b77=_0x486572[_0x5a588f]={'i':_0x5a588f,'l':!0x1,'exports':{}};return _0x4ff968[_0x5a588f][_0x5689e0(0x178)](_0x2d3b77[_0x5689e0(0x293)],_0x2d3b77,_0x2d3b77[_0x5689e0(0x293)],_0x231a4d),_0x2d3b77['l']=!0x0,_0x2d3b77[_0x5689e0(0x293)];}return _0x231a4d['m']=_0x4ff968,_0x231a4d['c']=_0x486572,_0x231a4d['d']=function(_0xc22110,_0xee8d56,_0xb71f28){var _0x45eb13=a0_0x276b;_0x231a4d['o'](_0xc22110,_0xee8d56)||Object[_0x45eb13(0x199)](_0xc22110,_0xee8d56,{'enumerable':!0x0,'get':_0xb71f28});},_0x231a4d['r']=function(_0x9646b6){var _0x7b1109=a0_0x276b;_0x7b1109(0x177)!=typeof Symbol&&Symbol[_0x7b1109(0x1b3)]&&Object[_0x7b1109(0x199)](_0x9646b6,Symbol[_0x7b1109(0x1b3)],{'value':_0x7b1109(0x27a)}),Object[_0x7b1109(0x199)](_0x9646b6,_0x7b1109(0x16a),{'value':!0x0});},_0x231a4d['t']=function(_0x853ab1,_0x1150ea){var _0x27c24b=a0_0x276b;if(0x1&_0x1150ea&&(_0x853ab1=_0x231a4d(_0x853ab1)),0x8&_0x1150ea)return _0x853ab1;if(0x4&_0x1150ea&&_0x27c24b(0x1fb)==typeof _0x853ab1&&_0x853ab1&&_0x853ab1[_0x27c24b(0x16a)])return _0x853ab1;var _0x93d704=Object[_0x27c24b(0x294)](null);if(_0x231a4d['r'](_0x93d704),Object[_0x27c24b(0x199)](_0x93d704,_0x27c24b(0x216),{'enumerable':!0x0,'value':_0x853ab1}),0x2&_0x1150ea&&'string'!=typeof _0x853ab1){for(var _0x39b708 in _0x853ab1)_0x231a4d['d'](_0x93d704,_0x39b708,function(_0x39e649){return _0x853ab1[_0x39e649];}[_0x27c24b(0x1f2)](null,_0x39b708));}return _0x93d704;},_0x231a4d['n']=function(_0x18d438){var _0x235c81=a0_0x276b,_0x2c9a86=_0x18d438&&_0x18d438[_0x235c81(0x16a)]?function(){return _0x18d438['default'];}:function(){return _0x18d438;};return _0x231a4d['d'](_0x2c9a86,'a',_0x2c9a86),_0x2c9a86;},_0x231a4d['o']=function(_0x579402,_0x377df3){var _0xcf0b44=a0_0x276b;return Object['prototype'][_0xcf0b44(0x299)][_0xcf0b44(0x178)](_0x579402,_0x377df3);},_0x231a4d['p']='',_0x231a4d(_0x231a4d['s']=0x14);}([function(_0x2dbf1d,_0x5bfe1d){_0x2dbf1d['exports']=_0xdf13ce;},function(_0x24de22,_0x40e686){var _0x583f32=a0_0x276b;_0x24de22[_0x583f32(0x293)]=function(_0x4b01bc,_0x4e3825){var _0x253e9b=_0x583f32;if(!(_0x4b01bc instanceof _0x4e3825))throw new TypeError(_0x253e9b(0x20a));},_0x24de22['exports'][_0x583f32(0x216)]=_0x24de22['exports'],_0x24de22[_0x583f32(0x293)][_0x583f32(0x16a)]=!0x0;},function(_0x36a1f7,_0x28e43e){var _0x39e266=a0_0x276b;function _0x35a62f(_0x2dd315,_0x4a5b20){var _0x3172e8=a0_0x276b;for(var _0x5cafc7=0x0;_0x5cafc7<_0x4a5b20['length'];_0x5cafc7++){var _0x538a33=_0x4a5b20[_0x5cafc7];_0x538a33[_0x3172e8(0x1f3)]=_0x538a33[_0x3172e8(0x1f3)]||!0x1,_0x538a33[_0x3172e8(0x29c)]=!0x0,'value'in _0x538a33&&(_0x538a33[_0x3172e8(0x209)]=!0x0),Object[_0x3172e8(0x199)](_0x2dd315,_0x538a33['key'],_0x538a33);}}_0x36a1f7['exports']=function(_0x10c3db,_0x3d7c05,_0x229f9b){var _0x5e07fe=a0_0x276b;return _0x3d7c05&&_0x35a62f(_0x10c3db[_0x5e07fe(0x26c)],_0x3d7c05),_0x229f9b&&_0x35a62f(_0x10c3db,_0x229f9b),_0x10c3db;},_0x36a1f7[_0x39e266(0x293)][_0x39e266(0x216)]=_0x36a1f7['exports'],_0x36a1f7[_0x39e266(0x293)][_0x39e266(0x16a)]=!0x0;},function(_0x2560b8,_0x65d7bb){var _0x3a4114=a0_0x276b;_0x2560b8[_0x3a4114(0x293)]=_0xa12652;},function(_0xeb9a0d,_0x58df0b){var _0x1c4253=a0_0x276b;function _0x4e2406(_0x285e80){var _0x1d6d9c=a0_0x276b;return _0xeb9a0d[_0x1d6d9c(0x293)]=_0x4e2406=Object[_0x1d6d9c(0x246)]?Object['getPrototypeOf']:function(_0xb0fe88){var _0x196c15=_0x1d6d9c;return _0xb0fe88['__proto__']||Object[_0x196c15(0x1da)](_0xb0fe88);},_0xeb9a0d['exports'][_0x1d6d9c(0x216)]=_0xeb9a0d[_0x1d6d9c(0x293)],_0xeb9a0d[_0x1d6d9c(0x293)]['__esModule']=!0x0,_0x4e2406(_0x285e80);}_0xeb9a0d[_0x1c4253(0x293)]=_0x4e2406,_0xeb9a0d[_0x1c4253(0x293)][_0x1c4253(0x216)]=_0xeb9a0d['exports'],_0xeb9a0d[_0x1c4253(0x293)][_0x1c4253(0x16a)]=!0x0;},function(_0x559aa6,_0x4a9019,_0x6b913b){var _0x448f8c=a0_0x276b,_0x4ca9d0=_0x6b913b(0x11);_0x559aa6[_0x448f8c(0x293)]=function(_0x5e4714,_0x17afd0){var _0x38a40d=_0x448f8c;if(_0x38a40d(0x1e3)!=typeof _0x17afd0&&null!==_0x17afd0)throw new TypeError(_0x38a40d(0x244));_0x5e4714[_0x38a40d(0x26c)]=Object['create'](_0x17afd0&&_0x17afd0[_0x38a40d(0x26c)],{'constructor':{'value':_0x5e4714,'writable':!0x0,'configurable':!0x0}}),_0x17afd0&&_0x4ca9d0(_0x5e4714,_0x17afd0);},_0x559aa6[_0x448f8c(0x293)][_0x448f8c(0x216)]=_0x559aa6[_0x448f8c(0x293)],_0x559aa6[_0x448f8c(0x293)][_0x448f8c(0x16a)]=!0x0;},function(_0x720073,_0x553012,_0x4c5dc2){var _0x17c541=a0_0x276b,_0xe7ade8=_0x4c5dc2(0x12)[_0x17c541(0x216)],_0x3b71eb=_0x4c5dc2(0x13);_0x720073[_0x17c541(0x293)]=function(_0x8d2fd6,_0x1bb254){var _0x23b5a9=_0x17c541;if(_0x1bb254&&('object'===_0xe7ade8(_0x1bb254)||_0x23b5a9(0x1e3)==typeof _0x1bb254))return _0x1bb254;if(void 0x0!==_0x1bb254)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');return _0x3b71eb(_0x8d2fd6);},_0x720073[_0x17c541(0x293)][_0x17c541(0x216)]=_0x720073['exports'],_0x720073['exports']['__esModule']=!0x0;},function(_0x314e5d,_0x544d32){var _0x3d8979=a0_0x276b;_0x314e5d[_0x3d8979(0x293)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x1bd695,_0x515b14){var _0x54fd58=a0_0x276b;_0x1bd695[_0x54fd58(0x293)]=_0x54fd58(0x212);},function(_0x251d54,_0x22cc40){var _0x41d101=a0_0x276b;_0x251d54[_0x41d101(0x293)]=_0x41d101(0x200);},function(_0x2302df,_0x29af9a){var _0x500dfc=a0_0x276b;_0x2302df[_0x500dfc(0x293)]=_0x500dfc(0x1b6);},function(_0x12c8b5,_0x231163){var _0x14a9f6=a0_0x276b;_0x12c8b5[_0x14a9f6(0x293)]='uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}';},function(_0x7c0625,_0x1f23f3){var _0x484424=a0_0x276b;_0x7c0625[_0x484424(0x293)]='//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}';},function(_0x5222c5,_0x5486e3){var _0x4581f9=a0_0x276b;_0x5222c5[_0x4581f9(0x293)]=_0x4581f9(0x255);},function(_0xb01680,_0x31976b){var _0x11ad0c=a0_0x276b;_0xb01680[_0x11ad0c(0x293)]=_0x11ad0c(0x1eb);},function(_0x25fdf9,_0xd68570){var _0x541224=a0_0x276b;_0x25fdf9[_0x541224(0x293)]=_0x541224(0x2aa);},function(_0x5762cd,_0x29659f){var _0x59711c=a0_0x276b;_0x5762cd[_0x59711c(0x293)]=_0x59711c(0x296);},function(_0x1370aa,_0x2e6afa){var _0x5287a6=a0_0x276b;function _0x1091b6(_0x4244eb,_0x371e89){var _0x3e1077=a0_0x276b;return _0x1370aa[_0x3e1077(0x293)]=_0x1091b6=Object[_0x3e1077(0x246)]||function(_0x564691,_0x5b1078){var _0x347cba=_0x3e1077;return _0x564691[_0x347cba(0x19e)]=_0x5b1078,_0x564691;},_0x1370aa[_0x3e1077(0x293)][_0x3e1077(0x216)]=_0x1370aa[_0x3e1077(0x293)],_0x1370aa[_0x3e1077(0x293)][_0x3e1077(0x16a)]=!0x0,_0x1091b6(_0x4244eb,_0x371e89);}_0x1370aa[_0x5287a6(0x293)]=_0x1091b6,_0x1370aa[_0x5287a6(0x293)][_0x5287a6(0x216)]=_0x1370aa['exports'],_0x1370aa[_0x5287a6(0x293)]['__esModule']=!0x0;},function(_0x5b060e,_0x4f3246){var _0x454972=a0_0x276b;function _0xb4e64(_0x1c335d){var _0x2f9a28=a0_0x276b;return _0x2f9a28(0x1e3)==typeof Symbol&&'symbol'==typeof Symbol['iterator']?(_0x5b060e[_0x2f9a28(0x293)]=_0xb4e64=function(_0x124f9d){return typeof _0x124f9d;},_0x5b060e[_0x2f9a28(0x293)][_0x2f9a28(0x216)]=_0x5b060e[_0x2f9a28(0x293)],_0x5b060e[_0x2f9a28(0x293)][_0x2f9a28(0x16a)]=!0x0):(_0x5b060e[_0x2f9a28(0x293)]=_0xb4e64=function(_0x2d90fd){var _0x3de86d=_0x2f9a28;return _0x2d90fd&&_0x3de86d(0x1e3)==typeof Symbol&&_0x2d90fd[_0x3de86d(0x1fa)]===Symbol&&_0x2d90fd!==Symbol[_0x3de86d(0x26c)]?'symbol':typeof _0x2d90fd;},_0x5b060e[_0x2f9a28(0x293)][_0x2f9a28(0x216)]=_0x5b060e[_0x2f9a28(0x293)],_0x5b060e['exports'][_0x2f9a28(0x16a)]=!0x0),_0xb4e64(_0x1c335d);}_0x5b060e['exports']=_0xb4e64,_0x5b060e[_0x454972(0x293)][_0x454972(0x216)]=_0x5b060e['exports'],_0x5b060e[_0x454972(0x293)][_0x454972(0x16a)]=!0x0;},function(_0x47c3bc,_0x93f049){var _0x29d0ca=a0_0x276b;_0x47c3bc[_0x29d0ca(0x293)]=function(_0x4738d0){if(void 0x0===_0x4738d0)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x4738d0;},_0x47c3bc['exports'][_0x29d0ca(0x216)]=_0x47c3bc[_0x29d0ca(0x293)],_0x47c3bc[_0x29d0ca(0x293)][_0x29d0ca(0x16a)]=!0x0;},function(_0x221ed6,_0x30f198,_0x150f9c){'use strict';var _0x252f2c=a0_0x276b;_0x150f9c['r'](_0x30f198),_0x150f9c['d'](_0x30f198,_0x252f2c(0x157),function(){return _0x5a6139;}),_0x150f9c['d'](_0x30f198,_0x252f2c(0x191),function(){return _0x1e025e;}),_0x150f9c['d'](_0x30f198,'WindUtil',function(){return _0x2e49a8;});var _0x2e49a8={};_0x150f9c['r'](_0x2e49a8),_0x150f9c['d'](_0x2e49a8,_0x252f2c(0x1af),function(){return _0x44ab78;}),_0x150f9c['d'](_0x2e49a8,_0x252f2c(0x165),function(){return _0x344f0b;}),_0x150f9c['d'](_0x2e49a8,_0x252f2c(0x1e0),function(){return _0x28a324;}),_0x150f9c['d'](_0x2e49a8,_0x252f2c(0x222),function(){return _0x26341a;});var _0x37771b=_0x150f9c(0x3),_0x3fb89d=_0x150f9c(0x1),_0x50155c=_0x150f9c['n'](_0x3fb89d),_0x1b64f4=_0x150f9c(0x2),_0x13312d=_0x150f9c['n'](_0x1b64f4),_0x7ba72b=_0x150f9c(0x5),_0x3f9018=_0x150f9c['n'](_0x7ba72b),_0x2b1b2e=_0x150f9c(0x6),_0xd48299=_0x150f9c['n'](_0x2b1b2e),_0x41fcd0=_0x150f9c(0x4),_0x5a693a=_0x150f9c['n'](_0x41fcd0),_0x426b62=_0x150f9c(0x0),_0x23a746=function(){var _0xd048f6=_0x252f2c;function _0x2f423a(_0x423da8){var _0x49c253=a0_0x276b;_0x50155c()(this,_0x2f423a),this[_0x49c253(0x1c3)]=_0x423da8[_0x49c253(0x1c3)],this[_0x49c253(0x179)]=_0x423da8[_0x49c253(0x179)],this['attributeLocations']=_0x423da8[_0x49c253(0x17b)],this[_0x49c253(0x21f)]=_0x423da8['primitiveType'],this[_0x49c253(0x232)]=_0x423da8[_0x49c253(0x232)],this['vertexShaderSource']=_0x423da8[_0x49c253(0x17e)],this[_0x49c253(0x26e)]=_0x423da8[_0x49c253(0x26e)],this[_0x49c253(0x262)]=_0x423da8['rawRenderState'],this[_0x49c253(0x1bc)]=_0x423da8[_0x49c253(0x1bc)],this[_0x49c253(0x16f)]=_0x423da8[_0x49c253(0x16f)],this[_0x49c253(0x253)]=_0x426b62[_0x49c253(0x20d)](_0x423da8[_0x49c253(0x253)],!0x1),this[_0x49c253(0x2b3)]=_0x423da8[_0x49c253(0x2b3)],this[_0x49c253(0x20c)]=!0x0,this[_0x49c253(0x2a3)]=void 0x0,this['clearCommand']=void 0x0,this[_0x49c253(0x253)]&&(this[_0x49c253(0x196)]=new _0x426b62[(_0x49c253(0x16c))]({'color':new _0x426b62[(_0x49c253(0x221))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x49c253(0x1bc)],'pass':_0x426b62[_0x49c253(0x1d5)][_0x49c253(0x1ee)]}));}return _0x13312d()(_0x2f423a,[{'key':_0xd048f6(0x1c5),'value':function(_0x32db1a){var _0x44177a=_0xd048f6;switch(this[_0x44177a(0x1c3)]){case _0x44177a(0x170):var _0x4b971b=_0x426b62[_0x44177a(0x298)][_0x44177a(0x242)]({'context':_0x32db1a,'geometry':this['geometry'],'attributeLocations':this[_0x44177a(0x17b)],'bufferUsage':_0x426b62[_0x44177a(0x186)][_0x44177a(0x228)]}),_0x3e79ed=_0x426b62[_0x44177a(0x2a7)]['fromCache']({'context':_0x32db1a,'attributeLocations':this[_0x44177a(0x17b)],'vertexShaderSource':this[_0x44177a(0x17e)],'fragmentShaderSource':this['fragmentShaderSource']}),_0x1dea26=_0x426b62[_0x44177a(0x188)]['fromCache'](this[_0x44177a(0x262)]);return new _0x426b62[(_0x44177a(0x28e))]({'owner':this,'vertexArray':_0x4b971b,'primitiveType':this[_0x44177a(0x21f)],'uniformMap':this[_0x44177a(0x232)],'modelMatrix':_0x426b62[_0x44177a(0x1cb)][_0x44177a(0x258)],'shaderProgram':_0x3e79ed,'framebuffer':this[_0x44177a(0x1bc)],'renderState':_0x1dea26,'pass':_0x426b62[_0x44177a(0x1d5)][_0x44177a(0x1ee)]});case'Compute':return new _0x426b62[(_0x44177a(0x235))]({'owner':this,'fragmentShaderSource':this[_0x44177a(0x26e)],'uniformMap':this['uniformMap'],'outputTexture':this[_0x44177a(0x16f)],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x5c7f8c,_0x35dbd1){var _0x53a8a6=_0xd048f6;this[_0x53a8a6(0x179)]=_0x35dbd1;var _0x38c0bc=_0x426b62[_0x53a8a6(0x298)]['fromGeometry']({'context':_0x5c7f8c,'geometry':this[_0x53a8a6(0x179)],'attributeLocations':this[_0x53a8a6(0x17b)],'bufferUsage':_0x426b62[_0x53a8a6(0x186)][_0x53a8a6(0x228)]});this['commandToExecute'][_0x53a8a6(0x15d)]=_0x38c0bc;}},{'key':_0xd048f6(0x2a1),'value':function(_0x38d481){var _0xcc826=_0xd048f6;this[_0xcc826(0x20c)]&&_0x38d481['mode']==_0x426b62[_0xcc826(0x19f)]['SCENE3D']&&(_0x426b62[_0xcc826(0x250)](this[_0xcc826(0x2a3)])||(this[_0xcc826(0x2a3)]=this[_0xcc826(0x1c5)](_0x38d481[_0xcc826(0x24e)])),_0x426b62[_0xcc826(0x250)](this[_0xcc826(0x2b3)])&&this[_0xcc826(0x2b3)](),_0x426b62[_0xcc826(0x250)](this[_0xcc826(0x196)])&&_0x38d481[_0xcc826(0x1ae)][_0xcc826(0x204)](this[_0xcc826(0x196)]),_0x38d481[_0xcc826(0x1ae)]['push'](this['commandToExecute']));}},{'key':_0xd048f6(0x18f),'value':function(){return!0x1;}},{'key':_0xd048f6(0x2af),'value':function(){var _0x177d8d=_0xd048f6;return _0x426b62[_0x177d8d(0x250)](this[_0x177d8d(0x2a3)])&&(this['commandToExecute'][_0x177d8d(0x1cc)]=this[_0x177d8d(0x2a3)][_0x177d8d(0x1cc)]&&this[_0x177d8d(0x2a3)][_0x177d8d(0x1cc)][_0x177d8d(0x2af)]()),_0x426b62[_0x177d8d(0x1a9)](this);}}]),_0x2f423a;}(),_0x10264a={'getFullscreenQuad':function(){var _0x400f89=_0x252f2c;return new _0x426b62[(_0x400f89(0x1f8))]({'attributes':new _0x426b62[(_0x400f89(0x1b7))]({'position':new _0x426b62[(_0x400f89(0x1f7))]({'componentDatatype':_0x426b62['ComponentDatatype'][_0x400f89(0x25b)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x426b62[(_0x400f89(0x1f7))]({'componentDatatype':_0x426b62[_0x400f89(0x17f)]['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x496d26,_0x4237fc){var _0x3b6443=_0x252f2c;if(_0x426b62[_0x3b6443(0x250)](_0x4237fc)){var _0x4d3610={};_0x4d3610[_0x3b6443(0x2b2)]=_0x4237fc,_0x496d26[_0x3b6443(0x236)]=_0x4d3610;}return new _0x426b62[(_0x3b6443(0x172))](_0x496d26);},'createFramebuffer':function(_0x285503,_0x2ee746,_0x36ae4f){var _0x5aa0be=_0x252f2c;return new _0x426b62[(_0x5aa0be(0x197))]({'context':_0x285503,'colorTextures':[_0x2ee746],'depthTexture':_0x36ae4f});},'createRawRenderState':function(_0x40c9c2){var _0x176002=_0x252f2c,_0xd47486={'viewport':_0x40c9c2[_0x176002(0x1ed)],'depthTest':_0x40c9c2[_0x176002(0x2c2)],'depthMask':_0x40c9c2['depthMask'],'blending':_0x40c9c2['blending']};return _0x426b62[_0x176002(0x26d)]['getDefaultRenderState'](!0x0,!0x1,_0xd47486);},'viewRectangleToLonLatRange':function(_0x36567d){var _0x3b0ce2=_0x252f2c,_0x526fd8,_0x1448dc,_0xe48c5c={},_0x4810a8=_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x1a3)](_0x36567d[_0x3b0ce2(0x295)],_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x2ac)]),_0x5cf6aa=_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x1a3)](_0x36567d[_0x3b0ce2(0x1a0)],_0x426b62['Math'][_0x3b0ce2(0x2ac)]),_0x5e5ed2=_0x36567d[_0x3b0ce2(0x243)];_0x5e5ed2>_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x1b2)]?(_0x526fd8=0x0,_0x1448dc=_0x426b62[_0x3b0ce2(0x267)]['TWO_PI']):_0x5cf6aa-_0x4810a8<_0x5e5ed2?(_0x526fd8=_0x4810a8,_0x1448dc=_0x4810a8+_0x5e5ed2):(_0x526fd8=_0x4810a8,_0x1448dc=_0x5cf6aa),_0xe48c5c['lon']={'min':_0x426b62[_0x3b0ce2(0x267)]['toDegrees'](_0x526fd8),'max':_0x426b62['Math'][_0x3b0ce2(0x24b)](_0x1448dc)};var _0x209c56=_0x36567d[_0x3b0ce2(0x1b8)],_0x3c4283=_0x36567d[_0x3b0ce2(0x1a6)],_0x15d8cc=_0x36567d[_0x3b0ce2(0x2a0)],_0x208502=_0x15d8cc>_0x426b62[_0x3b0ce2(0x267)]['PI']/0xc?_0x15d8cc/0x2:0x0,_0x416f4b=_0x426b62['Math']['clampToLatitudeRange'](_0x209c56-_0x208502),_0x27f8c1=_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x1fc)](_0x3c4283+_0x208502);return _0x416f4b<-_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x1c1)]&&(_0x416f4b=-_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x16d)]),_0x27f8c1>_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x1c1)]&&(_0x27f8c1=_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x16d)]),_0xe48c5c[_0x3b0ce2(0x162)]={'min':_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x24b)](_0x416f4b),'max':_0x426b62[_0x3b0ce2(0x267)][_0x3b0ce2(0x24b)](_0x27f8c1)},_0xe48c5c;}},_0x72ffcc=_0x150f9c(0x8),_0x1e72ba=_0x150f9c['n'](_0x72ffcc),_0x34d68a=_0x150f9c(0x9),_0x1acc79=_0x150f9c['n'](_0x34d68a),_0x4961ce=_0x150f9c(0x7),_0x444504=_0x150f9c['n'](_0x4961ce),_0x5b966c=_0x150f9c(0xa),_0x3d2132=_0x150f9c['n'](_0x5b966c),_0x3bc88a=_0x150f9c(0xb),_0x2d919d=_0x150f9c['n'](_0x3bc88a),_0xf160e6=function(){var _0x175bdd=_0x252f2c;function _0x25f4b2(_0x19fd42,_0x2b9a5b,_0x4006d1,_0x53d422,_0x2c321c){var _0x3701d0=a0_0x276b;_0x50155c()(this,_0x25f4b2),this[_0x3701d0(0x174)](_0x19fd42,_0x2b9a5b),this[_0x3701d0(0x21a)](_0x19fd42),this[_0x3701d0(0x17a)](_0x19fd42,_0x4006d1,_0x53d422,_0x2c321c);}return _0x13312d()(_0x25f4b2,[{'key':'createRenderingTextures','value':function(_0x17b712,_0x3521d0){var _0x183b76=a0_0x276b,_0x98b0b4={'context':_0x17b712,'width':_0x17b712['drawingBufferWidth'],'height':_0x17b712[_0x183b76(0x158)],'pixelFormat':_0x426b62['PixelFormat']['RGBA'],'pixelDatatype':_0x426b62[_0x183b76(0x156)][_0x183b76(0x181)]},_0x617b83={'context':_0x17b712,'width':_0x17b712[_0x183b76(0x1dd)],'height':_0x17b712[_0x183b76(0x158)],'pixelFormat':_0x426b62[_0x183b76(0x2b7)][_0x183b76(0x29a)],'pixelDatatype':_0x426b62['PixelDatatype'][_0x183b76(0x25d)]},_0x413c8d={'context':_0x17b712,'width':_0x3521d0[_0x183b76(0x1f4)]['colorNum'],'height':0x1,'pixelFormat':_0x426b62[_0x183b76(0x2b7)][_0x183b76(0x1e7)],'pixelDatatype':_0x426b62[_0x183b76(0x156)][_0x183b76(0x25b)],'sampler':new _0x426b62[(_0x183b76(0x1d4))]({'minificationFilter':_0x426b62[_0x183b76(0x2bb)][_0x183b76(0x230)],'magnificationFilter':_0x426b62[_0x183b76(0x18c)][_0x183b76(0x230)]})};this[_0x183b76(0x1c9)]={'segmentsColor':_0x10264a['createTexture'](_0x98b0b4),'segmentsDepth':_0x10264a[_0x183b76(0x18d)](_0x617b83),'currentTrailsColor':_0x10264a[_0x183b76(0x18d)](_0x98b0b4),'currentTrailsDepth':_0x10264a['createTexture'](_0x617b83),'nextTrailsColor':_0x10264a[_0x183b76(0x18d)](_0x98b0b4),'nextTrailsDepth':_0x10264a['createTexture'](_0x617b83),'colorTable':_0x10264a[_0x183b76(0x18d)](_0x413c8d,_0x3521d0[_0x183b76(0x1f4)][_0x183b76(0x20f)])};}},{'key':_0x175bdd(0x21a),'value':function(_0x19dfb5){var _0x1cbaae=_0x175bdd;this[_0x1cbaae(0x1d3)]={'segments':_0x10264a[_0x1cbaae(0x26f)](_0x19dfb5,this[_0x1cbaae(0x1c9)][_0x1cbaae(0x21e)],this[_0x1cbaae(0x1c9)]['segmentsDepth']),'currentTrails':_0x10264a[_0x1cbaae(0x26f)](_0x19dfb5,this[_0x1cbaae(0x1c9)]['currentTrailsColor'],this[_0x1cbaae(0x1c9)][_0x1cbaae(0x1e1)]),'nextTrails':_0x10264a['createFramebuffer'](_0x19dfb5,this['textures']['nextTrailsColor'],this[_0x1cbaae(0x1c9)]['nextTrailsDepth'])};}},{'key':_0x175bdd(0x15e),'value':function(_0x3f3d02){var _0x3f8e46=_0x175bdd;for(var _0x1a8164=[],_0x16d100=0x0;_0x16d100<_0x3f3d02[_0x3f8e46(0x248)];_0x16d100++)for(var _0x6dd44e=0x0;_0x6dd44e<_0x3f3d02[_0x3f8e46(0x248)];_0x6dd44e++)for(var _0x43b68b=0x0;_0x43b68b<0x4;_0x43b68b++)_0x1a8164[_0x3f8e46(0x204)](_0x16d100/_0x3f3d02['particlesTextureSize']),_0x1a8164[_0x3f8e46(0x204)](_0x6dd44e/_0x3f3d02['particlesTextureSize']);_0x1a8164=new Float32Array(_0x1a8164);for(var _0x1a667e=[],_0x4a801c=[-0x1,0x1],_0x27364a=[-0x1,0x1],_0x181558=0x0;_0x181558<_0x3f3d02[_0x3f8e46(0x284)];_0x181558++)for(var _0x4c36da=0x0;_0x4c36da<0x2;_0x4c36da++)for(var _0x349f2a=0x0;_0x349f2a<0x2;_0x349f2a++)_0x1a667e[_0x3f8e46(0x204)](_0x4a801c[_0x4c36da]),_0x1a667e[_0x3f8e46(0x204)](_0x27364a[_0x349f2a]),_0x1a667e[_0x3f8e46(0x204)](0x0);_0x1a667e=new Float32Array(_0x1a667e);for(var _0x4dd1bc=0x6*_0x3f3d02['maxParticles'],_0xb06063=new Uint32Array(_0x4dd1bc),_0x846b92=0x0,_0x51b9b9=0x0,_0x109c66=0x0;_0x846b92<_0x3f3d02[_0x3f8e46(0x284)];_0x846b92++)_0xb06063[_0x51b9b9++]=_0x109c66+0x0,_0xb06063[_0x51b9b9++]=_0x109c66+0x1,_0xb06063[_0x51b9b9++]=_0x109c66+0x2,_0xb06063[_0x51b9b9++]=_0x109c66+0x2,_0xb06063[_0x51b9b9++]=_0x109c66+0x1,_0xb06063[_0x51b9b9++]=_0x109c66+0x3,_0x109c66+=0x4;return new _0x426b62[(_0x3f8e46(0x1f8))]({'attributes':new _0x426b62[(_0x3f8e46(0x1b7))]({'st':new _0x426b62['GeometryAttribute']({'componentDatatype':_0x426b62[_0x3f8e46(0x17f)][_0x3f8e46(0x25b)],'componentsPerAttribute':0x2,'values':_0x1a8164}),'normal':new _0x426b62['GeometryAttribute']({'componentDatatype':_0x426b62[_0x3f8e46(0x17f)][_0x3f8e46(0x25b)],'componentsPerAttribute':0x3,'values':_0x1a667e})}),'indices':_0xb06063});}},{'key':_0x175bdd(0x17a),'value':function(_0x3416a8,_0x193894,_0x357c90,_0x18d046){var _0xccde8f=_0x175bdd,_0x589db9=this;this['primitives']={'segments':new _0x23a746({'commandType':_0xccde8f(0x170),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this['createSegmentsGeometry'](_0x193894),'primitiveType':_0x426b62[_0xccde8f(0x289)][_0xccde8f(0x1ad)],'uniformMap':{'currentParticlesPosition':function(){var _0x4e5689=_0xccde8f;return _0x18d046[_0x4e5689(0x2ad)][_0x4e5689(0x1db)];},'postProcessingPosition':function(){var _0x2d170e=_0xccde8f;return _0x18d046[_0x2d170e(0x2ad)]['postProcessingPosition'];},'postProcessingSpeed':function(){var _0x45adec=_0xccde8f;return _0x18d046[_0x45adec(0x2ad)][_0x45adec(0x208)];},'colorTable':function(){var _0x521a56=_0xccde8f;return _0x589db9[_0x521a56(0x1c9)][_0x521a56(0x1f4)];},'aspect':function(){return _0x3416a8['drawingBufferWidth']/_0x3416a8['drawingBufferHeight'];},'pixelSize':function(){var _0x32379a=_0xccde8f;return _0x357c90[_0x32379a(0x1a4)];},'lineWidth':function(){var _0x5b7c4e=_0xccde8f;return _0x193894[_0x5b7c4e(0x27e)];},'particleHeight':function(){var _0x274fc3=_0xccde8f;return _0x193894[_0x274fc3(0x2b5)];}},'vertexShaderSource':new _0x426b62[(_0xccde8f(0x23f))]({'sources':[_0x1e72ba['a']]}),'fragmentShaderSource':new _0x426b62[(_0xccde8f(0x23f))]({'sources':[_0x1acc79['a']]}),'rawRenderState':_0x10264a[_0xccde8f(0x1d8)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0xccde8f(0x1d3)][_0xccde8f(0x2be)],'autoClear':!0x0}),'trails':new _0x23a746({'commandType':_0xccde8f(0x170),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x10264a[_0xccde8f(0x1a8)](),'primitiveType':_0x426b62['PrimitiveType'][_0xccde8f(0x1ad)],'uniformMap':{'segmentsColorTexture':function(){var _0xe446f5=_0xccde8f;return _0x589db9[_0xe446f5(0x1c9)][_0xe446f5(0x21e)];},'segmentsDepthTexture':function(){var _0xc2f790=_0xccde8f;return _0x589db9[_0xc2f790(0x1c9)][_0xc2f790(0x176)];},'currentTrailsColor':function(){var _0x572224=_0xccde8f;return _0x589db9['framebuffers'][_0x572224(0x23b)][_0x572224(0x210)](0x0);},'trailsDepthTexture':function(){var _0x3a602e=_0xccde8f;return _0x589db9[_0x3a602e(0x1d3)]['currentTrails']['depthTexture'];},'fadeOpacity':function(){return _0x193894['fadeOpacity'];}},'vertexShaderSource':new _0x426b62[(_0xccde8f(0x23f))]({'defines':[_0xccde8f(0x25a)],'sources':[_0x444504['a']]}),'fragmentShaderSource':new _0x426b62[(_0xccde8f(0x23f))]({'defines':[_0xccde8f(0x180)],'sources':[_0x3d2132['a']]}),'rawRenderState':_0x10264a['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x426b62[_0xccde8f(0x15f)]['ALWAYS']},'depthMask':!0x0}),'framebuffer':this[_0xccde8f(0x1d3)]['nextTrails'],'autoClear':!0x0,'preExecute':function(){var _0x133448=_0xccde8f,_0x253e3a;_0x253e3a=_0x589db9['framebuffers'][_0x133448(0x23b)],_0x589db9[_0x133448(0x1d3)]['currentTrails']=_0x589db9[_0x133448(0x1d3)][_0x133448(0x1fd)],_0x589db9['framebuffers'][_0x133448(0x1fd)]=_0x253e3a,_0x589db9['primitives']['trails'][_0x133448(0x2a3)][_0x133448(0x1bc)]=_0x589db9[_0x133448(0x1d3)]['nextTrails'],_0x589db9[_0x133448(0x2b8)][_0x133448(0x159)][_0x133448(0x196)]['framebuffer']=_0x589db9['framebuffers'][_0x133448(0x1fd)];}}),'screen':new _0x23a746({'commandType':'Draw','attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x10264a['getFullscreenQuad'](),'primitiveType':_0x426b62[_0xccde8f(0x289)][_0xccde8f(0x1ad)],'uniformMap':{'trailsColorTexture':function(){var _0x5136f2=_0xccde8f;return _0x589db9['framebuffers']['nextTrails'][_0x5136f2(0x210)](0x0);},'trailsDepthTexture':function(){var _0x4c6b14=_0xccde8f;return _0x589db9[_0x4c6b14(0x1d3)][_0x4c6b14(0x1fd)]['depthTexture'];}},'vertexShaderSource':new _0x426b62['ShaderSource']({'defines':[_0xccde8f(0x25a)],'sources':[_0x444504['a']]}),'fragmentShaderSource':new _0x426b62['ShaderSource']({'defines':[_0xccde8f(0x180)],'sources':[_0x2d919d['a']]}),'rawRenderState':_0x10264a[_0xccde8f(0x1d8)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x25f4b2;}(),_0x3bbc9d=_0x150f9c(0xc),_0x44e156=_0x150f9c['n'](_0x3bbc9d),_0x5a797d=_0x150f9c(0xd),_0x433e1f=_0x150f9c['n'](_0x5a797d),_0x57a6c6=_0x150f9c(0xe),_0x14abea=_0x150f9c['n'](_0x57a6c6),_0x5e523e=_0x150f9c(0xf),_0x54540e=_0x150f9c['n'](_0x5e523e),_0xf85f28=_0x150f9c(0x10),_0x15c601=_0x150f9c['n'](_0xf85f28),_0x46f30a=function(){var _0x59b2cf=_0x252f2c;function _0x481e36(_0x4c6633,_0x471683,_0x3e8032,_0xeb75ce){var _0x486790=a0_0x276b;_0x50155c()(this,_0x481e36),this[_0x486790(0x247)]=_0x471683,this[_0x486790(0x169)](_0x4c6633,_0x471683),this[_0x486790(0x223)](_0x4c6633,_0x3e8032,_0xeb75ce),this[_0x486790(0x15b)](_0x471683,_0x3e8032,_0xeb75ce);}return _0x13312d()(_0x481e36,[{'key':_0x59b2cf(0x169),'value':function(_0x1019d8,_0x46ba3c){var _0x366e11=_0x59b2cf,_0x306dfd={'context':_0x1019d8,'width':_0x46ba3c[_0x366e11(0x24c)]['lon'],'height':_0x46ba3c['dimensions'][_0x366e11(0x162)]*_0x46ba3c[_0x366e11(0x24c)]['lev'],'pixelFormat':_0x426b62[_0x366e11(0x2b7)][_0x366e11(0x1e4)],'pixelDatatype':_0x426b62[_0x366e11(0x156)][_0x366e11(0x25b)],'flipY':!0x1,'sampler':new _0x426b62[(_0x366e11(0x1d4))]({'minificationFilter':_0x426b62[_0x366e11(0x2bb)][_0x366e11(0x17d)],'magnificationFilter':_0x426b62[_0x366e11(0x18c)][_0x366e11(0x17d)]})};this[_0x366e11(0x18e)]={'U':_0x10264a[_0x366e11(0x18d)](_0x306dfd,_0x46ba3c['U'][_0x366e11(0x20f)]),'V':_0x10264a[_0x366e11(0x18d)](_0x306dfd,_0x46ba3c['V'][_0x366e11(0x20f)])};}},{'key':_0x59b2cf(0x223),'value':function(_0x2264aa,_0x42a822,_0x160820){var _0x5de9c1=_0x59b2cf,_0x3a9364={'context':_0x2264aa,'width':_0x42a822[_0x5de9c1(0x248)],'height':_0x42a822['particlesTextureSize'],'pixelFormat':_0x426b62[_0x5de9c1(0x2b7)]['RGBA'],'pixelDatatype':_0x426b62[_0x5de9c1(0x156)]['FLOAT'],'flipY':!0x1,'sampler':new _0x426b62['Sampler']({'minificationFilter':_0x426b62[_0x5de9c1(0x2bb)][_0x5de9c1(0x17d)],'magnificationFilter':_0x426b62[_0x5de9c1(0x18c)][_0x5de9c1(0x17d)]})},_0x3a9c03=this[_0x5de9c1(0x2bf)](_0x42a822[_0x5de9c1(0x284)],_0x160820),_0x2e3e0e=new Float32Array(0x4*_0x42a822['maxParticles'])['fill'](0x0);this[_0x5de9c1(0x2ad)]={'particlesWind':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364),'currentParticlesPosition':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364,_0x3a9c03),'nextParticlesPosition':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364,_0x3a9c03),'currentParticlesSpeed':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364,_0x2e3e0e),'nextParticlesSpeed':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364,_0x2e3e0e),'postProcessingPosition':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364,_0x3a9c03),'postProcessingSpeed':_0x10264a[_0x5de9c1(0x18d)](_0x3a9364,_0x2e3e0e)};}},{'key':_0x59b2cf(0x2bf),'value':function(_0x596d8b,_0xb79acf){var _0xa9f47=_0x59b2cf;for(var _0xcc64c7=new Float32Array(0x4*_0x596d8b),_0x30020c=0x0;_0x30020c<_0x596d8b;_0x30020c++)_0xcc64c7[0x4*_0x30020c]=_0x426b62[_0xa9f47(0x267)][_0xa9f47(0x21b)](_0xb79acf['lonRange']['x'],_0xb79acf[_0xa9f47(0x28d)]['y']),_0xcc64c7[0x4*_0x30020c+0x1]=_0x426b62[_0xa9f47(0x267)][_0xa9f47(0x21b)](_0xb79acf[_0xa9f47(0x1cf)]['x'],_0xb79acf[_0xa9f47(0x1cf)]['y']),_0xcc64c7[0x4*_0x30020c+0x2]=_0x426b62[_0xa9f47(0x267)]['randomBetween'](this[_0xa9f47(0x247)][_0xa9f47(0x1ec)][_0xa9f47(0x1c6)],this[_0xa9f47(0x247)][_0xa9f47(0x1ec)][_0xa9f47(0x17c)]),_0xcc64c7[0x4*_0x30020c+0x3]=0x0;return _0xcc64c7;}},{'key':_0x59b2cf(0x29b),'value':function(){var _0x2dbae6=_0x59b2cf,_0x3c34cb=this;Object[_0x2dbae6(0x1d7)](this[_0x2dbae6(0x2ad)])['forEach'](function(_0x281ef8){var _0x2bd955=_0x2dbae6;_0x3c34cb[_0x2bd955(0x2ad)][_0x281ef8]['destroy']();});}},{'key':_0x59b2cf(0x15b),'value':function(_0x25e5c4,_0x3de2b9,_0x5dde32){var _0x1590f9=_0x59b2cf,_0x3d4846=new _0x426b62['Cartesian3'](_0x25e5c4[_0x1590f9(0x24c)][_0x1590f9(0x166)],_0x25e5c4[_0x1590f9(0x24c)][_0x1590f9(0x162)],_0x25e5c4[_0x1590f9(0x24c)][_0x1590f9(0x1ec)]),_0x505619=new _0x426b62['Cartesian3'](_0x25e5c4[_0x1590f9(0x166)]['min'],_0x25e5c4['lat']['min'],_0x25e5c4[_0x1590f9(0x1ec)][_0x1590f9(0x1c6)]),_0x28e9c0=new _0x426b62[(_0x1590f9(0x1b0))](_0x25e5c4[_0x1590f9(0x166)][_0x1590f9(0x17c)],_0x25e5c4[_0x1590f9(0x162)][_0x1590f9(0x17c)],_0x25e5c4['lev'][_0x1590f9(0x17c)]),_0x1fabc7=new _0x426b62[(_0x1590f9(0x1b0))]((_0x28e9c0['x']-_0x505619['x'])/(_0x3d4846['x']-0x1),(_0x28e9c0['y']-_0x505619['y'])/(_0x3d4846['y']-0x1),_0x3d4846['z']>0x1?(_0x28e9c0['z']-_0x505619['z'])/(_0x3d4846['z']-0x1):0x1),_0x57be4c=new _0x426b62[(_0x1590f9(0x277))](_0x25e5c4['U']['min'],_0x25e5c4['U'][_0x1590f9(0x17c)]),_0x462159=new _0x426b62['Cartesian2'](_0x25e5c4['V'][_0x1590f9(0x1c6)],_0x25e5c4['V']['max']),_0x215cb0=this;this[_0x1590f9(0x2b8)]={'getWind':new _0x23a746({'commandType':_0x1590f9(0x173),'uniformMap':{'U':function(){var _0x19c978=_0x1590f9;return _0x215cb0[_0x19c978(0x18e)]['U'];},'V':function(){var _0x5ba139=_0x1590f9;return _0x215cb0[_0x5ba139(0x18e)]['V'];},'currentParticlesPosition':function(){var _0x183a79=_0x1590f9;return _0x215cb0[_0x183a79(0x2ad)][_0x183a79(0x1db)];},'dimension':function(){return _0x3d4846;},'minimum':function(){return _0x505619;},'maximum':function(){return _0x28e9c0;},'interval':function(){return _0x1fabc7;}},'fragmentShaderSource':new _0x426b62[(_0x1590f9(0x23f))]({'sources':[_0x44e156['a']]}),'outputTexture':this[_0x1590f9(0x2ad)][_0x1590f9(0x219)],'preExecute':function(){var _0x478ffc=_0x1590f9;_0x215cb0[_0x478ffc(0x2b8)][_0x478ffc(0x1c0)][_0x478ffc(0x2a3)][_0x478ffc(0x16f)]=_0x215cb0[_0x478ffc(0x2ad)][_0x478ffc(0x219)];}}),'updateSpeed':new _0x23a746({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function(){var _0x20fe28=_0x1590f9;return _0x215cb0[_0x20fe28(0x2ad)][_0x20fe28(0x1be)];},'particlesWind':function(){var _0x4f0b23=_0x1590f9;return _0x215cb0[_0x4f0b23(0x2ad)]['particlesWind'];},'uSpeedRange':function(){return _0x57be4c;},'vSpeedRange':function(){return _0x462159;},'pixelSize':function(){var _0x282dc1=_0x1590f9;return _0x5dde32[_0x282dc1(0x1a4)];},'speedFactor':function(){return _0x3de2b9['speedFactor'];}},'fragmentShaderSource':new _0x426b62['ShaderSource']({'sources':[_0x433e1f['a']]}),'outputTexture':this['particlesTextures'][_0x1590f9(0x161)],'preExecute':function(){var _0x5922e0=_0x1590f9,_0x4dfe25;_0x4dfe25=_0x215cb0[_0x5922e0(0x2ad)]['currentParticlesSpeed'],_0x215cb0['particlesTextures'][_0x5922e0(0x1be)]=_0x215cb0[_0x5922e0(0x2ad)]['postProcessingSpeed'],_0x215cb0['particlesTextures'][_0x5922e0(0x208)]=_0x4dfe25,_0x215cb0[_0x5922e0(0x2b8)][_0x5922e0(0x264)]['commandToExecute'][_0x5922e0(0x16f)]=_0x215cb0[_0x5922e0(0x2ad)]['nextParticlesSpeed'];}}),'updatePosition':new _0x23a746({'commandType':_0x1590f9(0x173),'uniformMap':{'currentParticlesPosition':function(){var _0x4391c8=_0x1590f9;return _0x215cb0['particlesTextures'][_0x4391c8(0x1db)];},'currentParticlesSpeed':function(){var _0x45e237=_0x1590f9;return _0x215cb0[_0x45e237(0x2ad)][_0x45e237(0x1be)];}},'fragmentShaderSource':new _0x426b62[(_0x1590f9(0x23f))]({'sources':[_0x14abea['a']]}),'outputTexture':this['particlesTextures'][_0x1590f9(0x1d1)],'preExecute':function(){var _0x1aeb44=_0x1590f9,_0x147ccd;_0x147ccd=_0x215cb0[_0x1aeb44(0x2ad)][_0x1aeb44(0x1db)],_0x215cb0[_0x1aeb44(0x2ad)]['currentParticlesPosition']=_0x215cb0[_0x1aeb44(0x2ad)][_0x1aeb44(0x256)],_0x215cb0[_0x1aeb44(0x2ad)][_0x1aeb44(0x256)]=_0x147ccd,_0x215cb0[_0x1aeb44(0x2b8)][_0x1aeb44(0x24f)][_0x1aeb44(0x2a3)][_0x1aeb44(0x16f)]=_0x215cb0[_0x1aeb44(0x2ad)]['nextParticlesPosition'];}}),'postProcessingPosition':new _0x23a746({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){return _0x215cb0['particlesTextures']['nextParticlesPosition'];},'nextParticlesSpeed':function(){var _0x380543=_0x1590f9;return _0x215cb0[_0x380543(0x2ad)]['nextParticlesSpeed'];},'lonRange':function(){var _0x423bda=_0x1590f9;return _0x5dde32[_0x423bda(0x28d)];},'latRange':function(){var _0x1e01f4=_0x1590f9;return _0x5dde32[_0x1e01f4(0x1cf)];},'randomCoefficient':function(){var _0x5d91e4=_0x1590f9,_0x297f2d=Math[_0x5d91e4(0x220)]();return _0x297f2d;},'dropRate':function(){var _0x121fa6=_0x1590f9;return _0x3de2b9[_0x121fa6(0x2b1)];},'dropRateBump':function(){var _0x38ac41=_0x1590f9;return _0x3de2b9[_0x38ac41(0x25c)];}},'fragmentShaderSource':new _0x426b62[(_0x1590f9(0x23f))]({'sources':[_0x54540e['a']]}),'outputTexture':this[_0x1590f9(0x2ad)]['postProcessingPosition'],'preExecute':function(){var _0x271fd0=_0x1590f9;_0x215cb0[_0x271fd0(0x2b8)][_0x271fd0(0x256)][_0x271fd0(0x2a3)]['outputTexture']=_0x215cb0[_0x271fd0(0x2ad)][_0x271fd0(0x256)];}}),'postProcessingSpeed':new _0x23a746({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){var _0x5d8f84=_0x1590f9;return _0x215cb0[_0x5d8f84(0x2ad)]['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x475283=_0x1590f9;return _0x215cb0[_0x475283(0x2ad)][_0x475283(0x161)];}},'fragmentShaderSource':new _0x426b62[(_0x1590f9(0x23f))]({'sources':[_0x15c601['a']]}),'outputTexture':this['particlesTextures'][_0x1590f9(0x208)],'preExecute':function(){var _0xe9c17a=_0x1590f9;_0x215cb0[_0xe9c17a(0x2b8)]['postProcessingSpeed']['commandToExecute'][_0xe9c17a(0x16f)]=_0x215cb0[_0xe9c17a(0x2ad)][_0xe9c17a(0x208)];}})};}}]),_0x481e36;}(),_0x32b1a5=function(){var _0x4d7e32=_0x252f2c;function _0x31640c(_0xbfc11d,_0x2e1ebd,_0x4c5965,_0x95db31){var _0x1a98a7=a0_0x276b;_0x50155c()(this,_0x31640c),this[_0x1a98a7(0x24e)]=_0xbfc11d,this['data']=_0x2e1ebd,this[_0x1a98a7(0x27c)]=_0x4c5965,this[_0x1a98a7(0x226)]=_0x95db31,this['particlesComputing']=new _0x46f30a(this[_0x1a98a7(0x24e)],this[_0x1a98a7(0x247)],this[_0x1a98a7(0x27c)],this['viewerParameters']),this[_0x1a98a7(0x19a)]=new _0xf160e6(this[_0x1a98a7(0x24e)],this[_0x1a98a7(0x247)],this[_0x1a98a7(0x27c)],this['viewerParameters'],this[_0x1a98a7(0x286)]);}return _0x13312d()(_0x31640c,[{'key':_0x4d7e32(0x281),'value':function(_0xe459bf){var _0x98bc08=_0x4d7e32,_0x47b9fe=this;this[_0x98bc08(0x286)][_0x98bc08(0x29b)](),Object['keys'](this[_0x98bc08(0x286)][_0x98bc08(0x18e)])[_0x98bc08(0x254)](function(_0x18d830){var _0xc18306=_0x98bc08;_0x47b9fe[_0xc18306(0x286)][_0xc18306(0x18e)][_0x18d830][_0xc18306(0x2af)]();}),this[_0x98bc08(0x19a)][_0x98bc08(0x1c9)][_0x98bc08(0x1f4)][_0x98bc08(0x2af)](),Object['keys'](this[_0x98bc08(0x19a)]['framebuffers'])[_0x98bc08(0x254)](function(_0x2e4353){var _0x47a140=_0x98bc08;_0x47b9fe[_0x47a140(0x19a)]['framebuffers'][_0x2e4353][_0x47a140(0x2af)]();}),this[_0x98bc08(0x24e)]=_0xe459bf,this['particlesComputing']=new _0x46f30a(this[_0x98bc08(0x24e)],this[_0x98bc08(0x247)],this['userInput'],this['viewerParameters']),this[_0x98bc08(0x19a)]=new _0xf160e6(this[_0x98bc08(0x24e)],this[_0x98bc08(0x247)],this[_0x98bc08(0x27c)],this[_0x98bc08(0x226)],this[_0x98bc08(0x286)]);}},{'key':_0x4d7e32(0x22d),'value':function(){var _0x4e3f61=_0x4d7e32,_0x5b7937=this,_0x42dc2e=new _0x426b62[(_0x4e3f61(0x16c))]({'color':new _0x426b62['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x426b62[_0x4e3f61(0x1d5)][_0x4e3f61(0x1ee)]});Object[_0x4e3f61(0x1d7)](this[_0x4e3f61(0x19a)][_0x4e3f61(0x1d3)])[_0x4e3f61(0x254)](function(_0x5004a3){var _0x55dcdd=_0x4e3f61;_0x42dc2e[_0x55dcdd(0x1bc)]=_0x5b7937[_0x55dcdd(0x19a)][_0x55dcdd(0x1d3)][_0x5004a3],_0x42dc2e[_0x55dcdd(0x259)](_0x5b7937[_0x55dcdd(0x24e)]);});}},{'key':_0x4d7e32(0x1c8),'value':function(_0x10a55d){var _0x595749=_0x4d7e32;if(this[_0x595749(0x22d)](),this[_0x595749(0x286)][_0x595749(0x29b)](),this[_0x595749(0x286)][_0x595749(0x223)](this[_0x595749(0x24e)],this['userInput'],this['viewerParameters']),_0x10a55d){var _0x2f8b97=this[_0x595749(0x19a)][_0x595749(0x15e)](this[_0x595749(0x27c)]);this[_0x595749(0x19a)][_0x595749(0x2b8)][_0x595749(0x2be)]['geometry']=_0x2f8b97;var _0x4d4bc3=_0x426b62[_0x595749(0x298)][_0x595749(0x242)]({'context':this[_0x595749(0x24e)],'geometry':_0x2f8b97,'attributeLocations':this[_0x595749(0x19a)][_0x595749(0x2b8)]['segments']['attributeLocations'],'bufferUsage':_0x426b62[_0x595749(0x186)][_0x595749(0x228)]});this[_0x595749(0x19a)][_0x595749(0x2b8)]['segments']['commandToExecute'][_0x595749(0x15d)]=_0x4d4bc3;}}},{'key':_0x4d7e32(0x249),'value':function(_0x38cbdd){var _0x202694=_0x4d7e32,_0x347b65=this,_0x49342e=!0x1;this[_0x202694(0x27c)][_0x202694(0x284)]!=_0x38cbdd[_0x202694(0x284)]&&(_0x49342e=!0x0),Object['keys'](_0x38cbdd)['forEach'](function(_0x414d44){var _0x36c77=_0x202694;_0x347b65[_0x36c77(0x27c)][_0x414d44]=_0x38cbdd[_0x414d44];}),this['refreshParticles'](_0x49342e);}},{'key':_0x4d7e32(0x272),'value':function(_0x159298){var _0x4f293b=_0x4d7e32,_0x26c931=this;Object[_0x4f293b(0x1d7)](_0x159298)[_0x4f293b(0x254)](function(_0x58a863){var _0x2b45dc=_0x4f293b;_0x26c931[_0x2b45dc(0x226)][_0x58a863]=_0x159298[_0x58a863];}),this[_0x4f293b(0x1c8)](!0x1);}}]),_0x31640c;}();function _0x3956cb(_0x7a0488){var _0x438923=function(){var _0x9a77e9=a0_0x276b;if(_0x9a77e9(0x177)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x9a77e9(0x1e5)][_0x9a77e9(0x22a)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean[_0x9a77e9(0x26c)]['valueOf']['call'](Reflect[_0x9a77e9(0x1e5)](Boolean,[],function(){})),!0x0;}catch(_0x21394b){return!0x1;}}();return function(){var _0x501433=a0_0x276b,_0x247196,_0xfce362=_0x5a693a()(_0x7a0488);if(_0x438923){var _0x2ea108=_0x5a693a()(this)[_0x501433(0x1fa)];_0x247196=Reflect[_0x501433(0x1e5)](_0xfce362,arguments,_0x2ea108);}else _0x247196=_0xfce362[_0x501433(0x15a)](this,arguments);return _0xd48299()(this,_0x247196);};}var _0x1e16d8=_0x37771b[_0x252f2c(0x274)][_0x252f2c(0x193)],_0x3ff7f0=0x1000,_0x57b3ba=0x64,_0x1eef16=0.996,_0x49e9d9=0.003,_0x4606f6=0.01,_0x1ad43d=0.5,_0x3b472c=0x2,_0x5a6139=function(_0x29f9df){var _0x35ce66=_0x252f2c;_0x3f9018()(_0x493a04,_0x29f9df);var _0x3fbe05=_0x3956cb(_0x493a04);function _0x493a04(){var _0x417e42=a0_0x276b,_0x15d20b,_0x726388=arguments[_0x417e42(0x163)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x50155c()(this,_0x493a04),(_0x15d20b=_0x3fbe05[_0x417e42(0x178)](this,_0x726388))[_0x417e42(0x284)]=_0x3ff7f0,_0x15d20b['particleHeight']=_0x57b3ba,_0x15d20b[_0x417e42(0x1de)]=_0x1eef16,_0x15d20b[_0x417e42(0x2b1)]=_0x49e9d9,_0x15d20b['dropRateBump']=_0x4606f6,_0x15d20b['speedFactor']=_0x1ad43d,_0x15d20b[_0x417e42(0x27e)]=_0x3b472c,_0x726388){for(var _0x2992c6 in _0x726388)_0x15d20b[_0x2992c6]=_0x726388[_0x2992c6];}return _0x15d20b;}return _0x13312d()(_0x493a04,[{'key':_0x35ce66(0x274),'get':function(){var _0x12b961=_0x35ce66;return this[_0x12b961(0x2b8)];}},{'key':'_mountedHook','value':function(){}},{'key':_0x35ce66(0x252),'value':function(){var _0x362bd9=_0x35ce66;this[_0x362bd9(0x182)]=this[_0x362bd9(0x206)]['scene'],this['camera']=this[_0x362bd9(0x206)][_0x362bd9(0x292)],this[_0x362bd9(0x2b8)]=new _0x426b62[(_0x362bd9(0x225))](),this[_0x362bd9(0x206)][_0x362bd9(0x182)]['primitives'][_0x362bd9(0x187)](this['primitives']),this[_0x362bd9(0x226)]={'lonRange':new _0x426b62[(_0x362bd9(0x277))](),'latRange':new _0x426b62[(_0x362bd9(0x277))](),'pixelSize':0x0},this[_0x362bd9(0x260)]=new _0x426b62['BoundingSphere'](_0x426b62['Cartesian3']['ZERO'],6314355.63),this[_0x362bd9(0x23c)]();}},{'key':_0x35ce66(0x19d),'value':function(){var _0x2afb6f=_0x35ce66;this[_0x2afb6f(0x2b8)][_0x2afb6f(0x21d)](),this[_0x2afb6f(0x206)][_0x2afb6f(0x182)][_0x2afb6f(0x2b8)][_0x2afb6f(0x16e)](this[_0x2afb6f(0x2b8)]);}},{'key':_0x35ce66(0x1bd),'value':function(_0x4afc6a){var _0x2744f1=_0x35ce66;this[_0x2744f1(0x269)]=new _0x32b1a5(this[_0x2744f1(0x182)][_0x2744f1(0x24e)],_0x4afc6a,this[_0x2744f1(0x195)](),this['viewerParameters']),this[_0x2744f1(0x2c4)](),this[_0x2744f1(0x1df)]();}},{'key':_0x35ce66(0x2c3),'value':function(_0x4e6565){var _0x460d8c=_0x35ce66;if(_0x4e6565){for(var _0x48b51c in _0x4e6565)this[_0x48b51c]=_0x4e6565[_0x48b51c];}return this['particleSystem'][_0x460d8c(0x249)](this[_0x460d8c(0x195)]()),this;}},{'key':_0x35ce66(0x195),'value':function(){var _0x825f95=_0x35ce66,_0x1d518b=Math[_0x825f95(0x278)](Math['sqrt'](this[_0x825f95(0x284)]));return this['maxParticles']=_0x1d518b*_0x1d518b,{'particlesTextureSize':_0x1d518b,'maxParticles':this[_0x825f95(0x284)],'particleHeight':this[_0x825f95(0x2b5)],'fadeOpacity':this['fadeOpacity'],'dropRate':this[_0x825f95(0x2b1)],'dropRateBump':this[_0x825f95(0x25c)],'speedFactor':this[_0x825f95(0x19b)],'lineWidth':this['lineWidth'],'globeLayer':this['globeLayer'],'WMS_URL':this[_0x825f95(0x2b4)]};}},{'key':_0x35ce66(0x2c4),'value':function(){var _0x51b94d=_0x35ce66;this['primitives']['add'](this['particleSystem']['particlesComputing'][_0x51b94d(0x2b8)][_0x51b94d(0x1c0)]),this[_0x51b94d(0x2b8)][_0x51b94d(0x187)](this['particleSystem'][_0x51b94d(0x286)][_0x51b94d(0x2b8)][_0x51b94d(0x264)]),this['primitives'][_0x51b94d(0x187)](this[_0x51b94d(0x269)][_0x51b94d(0x286)]['primitives'][_0x51b94d(0x24f)]),this[_0x51b94d(0x2b8)][_0x51b94d(0x187)](this[_0x51b94d(0x269)]['particlesComputing'][_0x51b94d(0x2b8)][_0x51b94d(0x256)]),this[_0x51b94d(0x2b8)][_0x51b94d(0x187)](this[_0x51b94d(0x269)][_0x51b94d(0x286)]['primitives']['postProcessingSpeed']),this[_0x51b94d(0x2b8)][_0x51b94d(0x187)](this['particleSystem'][_0x51b94d(0x19a)][_0x51b94d(0x2b8)]['segments']),this[_0x51b94d(0x2b8)]['add'](this[_0x51b94d(0x269)][_0x51b94d(0x19a)][_0x51b94d(0x2b8)]['trails']),this[_0x51b94d(0x2b8)]['add'](this['particleSystem'][_0x51b94d(0x19a)]['primitives'][_0x51b94d(0x213)]);}},{'key':_0x35ce66(0x23c),'value':function(){var _0x9a69de=_0x35ce66,_0x5f0ccc=this['camera'][_0x9a69de(0x15c)](this[_0x9a69de(0x182)][_0x9a69de(0x245)][_0x9a69de(0x1e2)]);if(!_0x5f0ccc){var _0x425b54=this['_map']['getExtent']();_0x5f0ccc=_0x426b62[_0x9a69de(0x28a)][_0x9a69de(0x275)](_0x425b54[_0x9a69de(0x276)],_0x425b54[_0x9a69de(0x1ab)],_0x425b54['xmax'],_0x425b54[_0x9a69de(0x291)]);}var _0x28d312=_0x10264a[_0x9a69de(0x18a)](_0x5f0ccc);this[_0x9a69de(0x226)]['lonRange']['x']=_0x28d312[_0x9a69de(0x166)][_0x9a69de(0x1c6)],this[_0x9a69de(0x226)]['lonRange']['y']=_0x28d312[_0x9a69de(0x166)]['max'],this[_0x9a69de(0x226)][_0x9a69de(0x1cf)]['x']=_0x28d312[_0x9a69de(0x162)][_0x9a69de(0x1c6)],this[_0x9a69de(0x226)][_0x9a69de(0x1cf)]['y']=_0x28d312[_0x9a69de(0x162)]['max'];var _0x10ce10=this[_0x9a69de(0x292)]['getPixelSize'](this[_0x9a69de(0x260)],this[_0x9a69de(0x182)]['drawingBufferWidth'],this[_0x9a69de(0x182)][_0x9a69de(0x158)]);_0x10ce10>0x0&&(this[_0x9a69de(0x226)][_0x9a69de(0x1a4)]=_0x10ce10);}},{'key':'setupEventListeners','value':function(){var _0x571f67=_0x35ce66,_0x50042d=this;this[_0x571f67(0x292)]['moveStart']['addEventListener'](function(){var _0x2240d9=_0x571f67;_0x50042d[_0x2240d9(0x206)]&&_0x50042d['show']&&(_0x50042d['primitives']['show']=!0x1);}),this['camera']['moveEnd'][_0x571f67(0x290)](function(){var _0x28c9d1=_0x571f67;_0x50042d['_map']&&_0x50042d[_0x28c9d1(0x20c)]&&(_0x50042d[_0x28c9d1(0x23c)](),_0x50042d[_0x28c9d1(0x269)][_0x28c9d1(0x272)](_0x50042d[_0x28c9d1(0x226)]),_0x50042d['primitives'][_0x28c9d1(0x20c)]=!0x0);});var _0x1cd931=!0x1;window[_0x571f67(0x290)](_0x571f67(0x287),function(){var _0x22fb16=_0x571f67;_0x50042d[_0x22fb16(0x206)]&&_0x50042d['show']&&(_0x1cd931=!0x0,_0x50042d[_0x22fb16(0x2b8)]['show']=!0x1,_0x50042d[_0x22fb16(0x2b8)][_0x22fb16(0x21d)]());}),this[_0x571f67(0x182)][_0x571f67(0x2a2)][_0x571f67(0x290)](function(){var _0x4772ba=_0x571f67;_0x50042d[_0x4772ba(0x206)]&&_0x1cd931&&(_0x50042d[_0x4772ba(0x269)][_0x4772ba(0x281)](_0x50042d[_0x4772ba(0x182)]['context']),_0x1cd931=!0x1,_0x50042d[_0x4772ba(0x2c4)](),_0x50042d[_0x4772ba(0x2b8)][_0x4772ba(0x20c)]=!0x0);});}}]),_0x493a04;}(_0x1e16d8);_0x37771b[_0x252f2c(0x1a1)][_0x252f2c(0x1e6)]('wind',_0x5a6139),_0x37771b[_0x252f2c(0x274)][_0x252f2c(0x157)]=_0x5a6139;var _0x3edfac=function _0x4bac79(){var _0x50c1d1=_0x252f2c;_0x50155c()(this,_0x4bac79),this[_0x50c1d1(0x224)]=null,this[_0x50c1d1(0x162)]=null,this[_0x50c1d1(0x22c)]=null,this[_0x50c1d1(0x1e8)]=null,this['age']=null;},_0x572477=function(){var _0x39d840=_0x252f2c;function _0x4f914d(_0x389ebb,_0x4faa88){var _0x41b3a7=a0_0x276b;_0x50155c()(this,_0x4f914d),this[_0x41b3a7(0x1e9)]=_0x389ebb['rows'],this[_0x41b3a7(0x155)]=_0x389ebb['cols'],this[_0x41b3a7(0x276)]=_0x389ebb[_0x41b3a7(0x276)],this[_0x41b3a7(0x203)]=_0x389ebb[_0x41b3a7(0x203)],this[_0x41b3a7(0x1ab)]=_0x389ebb['ymin'],this[_0x41b3a7(0x291)]=_0x389ebb[_0x41b3a7(0x291)],this[_0x41b3a7(0x194)]=[];var _0x34d884=_0x389ebb[_0x41b3a7(0x1ba)],_0x3ac922=_0x389ebb['vdata'],_0xb412ec=!0x1;_0x34d884[_0x41b3a7(0x163)]===this[_0x41b3a7(0x1e9)]&&_0x34d884[0x0][_0x41b3a7(0x163)]===this[_0x41b3a7(0x155)]&&(_0xb412ec=!0x0);for(var _0x38a28d=0x0,_0x3ce293=null,_0x632ffe=null,_0x375f13=0x0;_0x375f13<this['rows'];_0x375f13++){_0x3ce293=[];for(var _0x22668b=0x0;_0x22668b<this[_0x41b3a7(0x155)];_0x22668b++,_0x38a28d++)_0x632ffe=_0xb412ec?this[_0x41b3a7(0x175)](_0x34d884[_0x375f13][_0x22668b],_0x3ac922[_0x375f13][_0x22668b]):this[_0x41b3a7(0x175)](_0x34d884[_0x38a28d],_0x3ac922[_0x38a28d]),_0x3ce293[_0x41b3a7(0x204)](_0x632ffe);this[_0x41b3a7(0x194)][_0x41b3a7(0x204)](_0x3ce293);}_0x4faa88&&this['grid'][_0x41b3a7(0x2c0)]();}return _0x13312d()(_0x4f914d,[{'key':_0x39d840(0x227),'value':function(_0x412fe6,_0x481797){var _0x232fc8=_0x39d840;return{'x':(_0x412fe6-this[_0x232fc8(0x276)])/(this[_0x232fc8(0x203)]-this[_0x232fc8(0x276)])*(this[_0x232fc8(0x155)]-0x1),'y':(this[_0x232fc8(0x291)]-_0x481797)/(this[_0x232fc8(0x291)]-this['ymin'])*(this['rows']-0x1)};}},{'key':_0x39d840(0x1b1),'value':function(_0x2e25f3,_0x2f8e73){var _0x1dde91=_0x39d840;if(_0x2e25f3<0x0||_0x2e25f3>=this['cols']||_0x2f8e73>=this[_0x1dde91(0x1e9)])return[0x0,0x0,0x0];var _0x1dfb44,_0x1c0567,_0xe706cd=Math[_0x1dde91(0x238)](_0x2e25f3),_0x5ee04b=Math['floor'](_0x2f8e73);if(_0xe706cd===_0x2e25f3&&_0x5ee04b===_0x2f8e73)return this['grid'][_0x2f8e73][_0x2e25f3];_0x1dfb44=_0xe706cd+0x1,_0x1c0567=_0x5ee04b+0x1;var _0x54dd34=this[_0x1dde91(0x1b1)](_0xe706cd,_0x5ee04b),_0x52552c=this[_0x1dde91(0x1b1)](_0x1dfb44,_0x5ee04b),_0x3f07aa=this['getUVByXY'](_0xe706cd,_0x1c0567),_0xd622ea=this[_0x1dde91(0x1b1)](_0x1dfb44,_0x1c0567),_0x486dbe=null;try{_0x486dbe=this[_0x1dde91(0x27d)](_0x2e25f3-_0xe706cd,_0x2f8e73-_0x5ee04b,_0x54dd34,_0x52552c,_0x3f07aa,_0xd622ea);}catch(_0x2976eb){console[_0x1dde91(0x26b)](_0x2e25f3,_0x2f8e73);}return _0x486dbe;}},{'key':_0x39d840(0x27d),'value':function(_0x599cde,_0x2ccebc,_0x5529f9,_0x472b69,_0x3db568,_0xd1c66d){var _0x42f9b0=_0x39d840,_0x29a434=0x1-_0x599cde,_0x15d9a5=0x1-_0x2ccebc,_0x43f5d3=_0x29a434*_0x15d9a5,_0x83f1dd=_0x599cde*_0x15d9a5,_0x805a1f=_0x29a434*_0x2ccebc,_0x1fc76d=_0x599cde*_0x2ccebc,_0x3c9951=_0x5529f9[0x0]*_0x43f5d3+_0x472b69[0x0]*_0x83f1dd+_0x3db568[0x0]*_0x805a1f+_0xd1c66d[0x0]*_0x1fc76d,_0x3e3165=_0x5529f9[0x1]*_0x43f5d3+_0x472b69[0x1]*_0x83f1dd+_0x3db568[0x1]*_0x805a1f+_0xd1c66d[0x1]*_0x1fc76d;return this[_0x42f9b0(0x175)](_0x3c9951,_0x3e3165);}},{'key':'_calcUV','value':function(_0x16e98a,_0xd7e5fe){var _0x1c84ed=_0x39d840;return[+_0x16e98a,+_0xd7e5fe,Math[_0x1c84ed(0x2ba)](_0x16e98a*_0x16e98a+_0xd7e5fe*_0xd7e5fe)];}},{'key':_0x39d840(0x1bf),'value':function(_0x2b3cde,_0x46a1eb){var _0x151a46=_0x39d840;if(!this[_0x151a46(0x1d9)](_0x2b3cde,_0x46a1eb))return null;var _0x29cc9f=this[_0x151a46(0x227)](_0x2b3cde,_0x46a1eb);return this[_0x151a46(0x1b1)](_0x29cc9f['x'],_0x29cc9f['y']);}},{'key':_0x39d840(0x1d9),'value':function(_0x4aba82,_0x5c4ff5){var _0x82fe25=_0x39d840;return _0x4aba82>=this[_0x82fe25(0x276)]&&_0x4aba82<=this['xmax']&&_0x5c4ff5>=this['ymin']&&_0x5c4ff5<=this[_0x82fe25(0x291)];}},{'key':_0x39d840(0x265),'value':function(){var _0x3a2e54=_0x39d840,_0x633614=_0x37d38f(this[_0x3a2e54(0x276)],this[_0x3a2e54(0x203)]);return{'lat':_0x37d38f(this[_0x3a2e54(0x1ab)],this[_0x3a2e54(0x291)]),'lng':_0x633614};}}]),_0x4f914d;}();function _0x37d38f(_0x234740,_0x29d7b5){var _0x31ec60=_0x252f2c;return _0x234740+Math[_0x31ec60(0x220)]()*(_0x29d7b5-_0x234740);}function _0x18c9fc(_0x4ad0c0){var _0x1baf4b=function(){var _0x5a6553=a0_0x276b;if(_0x5a6553(0x177)==typeof Reflect||!Reflect[_0x5a6553(0x1e5)])return!0x1;if(Reflect[_0x5a6553(0x1e5)][_0x5a6553(0x22a)])return!0x1;if(_0x5a6553(0x1e3)==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x5a6553(0x1f5)][_0x5a6553(0x178)](Reflect[_0x5a6553(0x1e5)](Boolean,[],function(){})),!0x0;}catch(_0x3532d7){return!0x1;}}();return function(){var _0x3b1091=a0_0x276b,_0x311b61,_0x249ff0=_0x5a693a()(_0x4ad0c0);if(_0x1baf4b){var _0xeb6de2=_0x5a693a()(this)[_0x3b1091(0x1fa)];_0x311b61=Reflect[_0x3b1091(0x1e5)](_0x249ff0,arguments,_0xeb6de2);}else _0x311b61=_0x249ff0[_0x3b1091(0x15a)](this,arguments);return _0xd48299()(this,_0x311b61);};}var _0x1e025e=function(_0x2b30bc){var _0x47aac6=_0x252f2c;_0x3f9018()(_0x3557f4,_0x2b30bc);var _0x4bf732=_0x18c9fc(_0x3557f4);function _0x3557f4(){var _0x85aa4=a0_0x276b,_0x29aff7,_0x56ee6c=arguments[_0x85aa4(0x163)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x50155c()(this,_0x3557f4),(_0x29aff7=_0x4bf732[_0x85aa4(0x178)](this,_0x56ee6c))[_0x85aa4(0x171)]=[0x0,0x0],_0x29aff7[_0x85aa4(0x22b)]=[],_0x29aff7[_0x85aa4(0x218)]=_0x56ee6c[_0x85aa4(0x218)]||0x32,_0x29aff7[_0x85aa4(0x26a)]=_0x56ee6c[_0x85aa4(0x19c)]||0x4e20,_0x29aff7[_0x85aa4(0x28c)]=_0x56ee6c[_0x85aa4(0x23d)]||0x78,_0x29aff7[_0x85aa4(0x22f)]=0x3e8/(_0x56ee6c['frameRate']||0xa),_0x29aff7['_pointerEvents']=_0x426b62['defaultValue'](_0x29aff7[_0x85aa4(0x1c7)][_0x85aa4(0x2a4)],!0x1),_0x29aff7[_0x85aa4(0x1d2)]=_0x56ee6c['color']||_0x85aa4(0x20e),_0x29aff7[_0x85aa4(0x27e)]=_0x56ee6c[_0x85aa4(0x27e)]||0x1,_0x29aff7['fixedHeight']=_0x426b62[_0x85aa4(0x20d)](_0x56ee6c[_0x85aa4(0x207)],0x0),_0x29aff7[_0x85aa4(0x2a9)]=_0x426b62['defaultValue'](_0x56ee6c[_0x85aa4(0x2a9)],!0x1),_0x29aff7[_0x85aa4(0x25f)]=null,_0x29aff7;}return _0x13312d()(_0x3557f4,[{'key':_0x47aac6(0x274),'get':function(){return this['canvas'];}},{'key':_0x47aac6(0x1a2),'get':function(){var _0xbdf696=_0x47aac6;return this[_0xbdf696(0x206)][_0xbdf696(0x182)][_0xbdf696(0x25f)]['clientWidth'];}},{'key':_0x47aac6(0x1d6),'get':function(){var _0x2b1ab3=_0x47aac6;return this[_0x2b1ab3(0x206)][_0x2b1ab3(0x182)][_0x2b1ab3(0x25f)][_0x2b1ab3(0x1b4)];}},{'key':_0x47aac6(0x2a4),'get':function(){var _0x3b26d9=_0x47aac6;return this[_0x3b26d9(0x1a5)];},'set':function(_0x4d7835){var _0x4717c9=_0x47aac6;this[_0x4717c9(0x1a5)]=_0x4d7835,this[_0x4717c9(0x25f)][_0x4717c9(0x167)][_0x4717c9(0x2bc)]=_0x4d7835?_0x4717c9(0x184):_0x4717c9(0x28f);}},{'key':_0x47aac6(0x218),'get':function(){var _0x2360ca=_0x47aac6;return this[_0x2360ca(0x1ef)];},'set':function(_0xc6529c){var _0x5960df=_0x47aac6;this[_0x5960df(0x1ef)]=0x64*(0x64-(_0xc6529c>0x63?0x63:_0xc6529c)),this['_calcStep']();}},{'key':_0x47aac6(0x19c),'get':function(){return this['_particlesNumber'];},'set':function(_0x40bb37){var _0x2f73b5=_0x47aac6,_0x574ba1=this;this[_0x2f73b5(0x26a)]=_0x40bb37,clearTimeout(this['canrefresh']),this[_0x2f73b5(0x288)]=setTimeout(function(){var _0x173461=_0x2f73b5;_0x574ba1[_0x173461(0x263)]();},0x1f4);}},{'key':_0x47aac6(0x23d),'get':function(){var _0x252b08=_0x47aac6;return this[_0x252b08(0x28c)];},'set':function(_0x904044){var _0x2c6474=_0x47aac6,_0x43fce3=this;this[_0x2c6474(0x28c)]=_0x904044,clearTimeout(this[_0x2c6474(0x288)]),this[_0x2c6474(0x288)]=setTimeout(function(){var _0x3f1566=_0x2c6474;_0x43fce3[_0x3f1566(0x263)]();},0x1f4);}},{'key':_0x47aac6(0x247),'get':function(){var _0x144245=_0x47aac6;return this[_0x144245(0x198)];},'set':function(_0x5c3475){var _0x3de3b1=_0x47aac6;this[_0x3de3b1(0x29d)](_0x5c3475);}},{'key':_0x47aac6(0x183),'value':function(_0xec5ff7){var _0x1a3ed0=_0x47aac6;this['canvas']&&(this[_0x1a3ed0(0x25f)][_0x1a3ed0(0x167)]['visibility']=_0xec5ff7?_0x1a3ed0(0x1b9):_0x1a3ed0(0x2b0));}},{'key':_0x47aac6(0x211),'value':function(){}},{'key':_0x47aac6(0x252),'value':function(){var _0x2af00c=_0x47aac6;this[_0x2af00c(0x25f)]=this[_0x2af00c(0x185)](),this['canvasContext']=this['canvas'][_0x2af00c(0x261)]('2d'),this['bindEvent'](),this[_0x2af00c(0x1c7)]['data']&&this['updateDate'](this[_0x2af00c(0x1c7)]['data']);}},{'key':'_removedHook','value':function(){var _0x4174b8=_0x47aac6;this[_0x4174b8(0x1f6)](),this['unbindEvent'](),this[_0x4174b8(0x25f)]&&(this['_map'][_0x4174b8(0x251)][_0x4174b8(0x189)](this['canvas']),delete this[_0x4174b8(0x25f)]);}},{'key':_0x47aac6(0x185),'value':function(){var _0x5a9559=_0x47aac6,_0xc17af0=document['createElement'](_0x5a9559(0x25f));_0xc17af0[_0x5a9559(0x167)]['position']=_0x5a9559(0x234),_0xc17af0[_0x5a9559(0x167)][_0x5a9559(0x192)]=_0x5a9559(0x1f1),_0xc17af0['style']['left']=_0x5a9559(0x1f1),_0xc17af0[_0x5a9559(0x167)][_0x5a9559(0x243)]=_0x5a9559(0x1bb),_0xc17af0[_0x5a9559(0x167)][_0x5a9559(0x2a0)]=_0x5a9559(0x1bb),_0xc17af0[_0x5a9559(0x167)][_0x5a9559(0x2a4)]=this[_0x5a9559(0x1a5)]?'auto':_0x5a9559(0x28f),_0xc17af0[_0x5a9559(0x167)][_0x5a9559(0x2bd)]=0xa,_0xc17af0[_0x5a9559(0x27b)]('id','canvasWindy'),_0xc17af0[_0x5a9559(0x27b)](_0x5a9559(0x24a),_0x5a9559(0x202)),this[_0x5a9559(0x206)][_0x5a9559(0x251)][_0x5a9559(0x271)](_0xc17af0);var _0x2e31e9=this[_0x5a9559(0x206)][_0x5a9559(0x182)];return _0xc17af0[_0x5a9559(0x243)]=_0x2e31e9[_0x5a9559(0x25f)][_0x5a9559(0x229)],_0xc17af0[_0x5a9559(0x2a0)]=_0x2e31e9[_0x5a9559(0x25f)][_0x5a9559(0x1b4)],_0xc17af0;}},{'key':'resize','value':function(){var _0x21e5f2=_0x47aac6;this[_0x21e5f2(0x25f)]&&(this[_0x21e5f2(0x25f)][_0x21e5f2(0x243)]=this['canvasWidth'],this[_0x21e5f2(0x25f)][_0x21e5f2(0x2a0)]=this[_0x21e5f2(0x1d6)]);}},{'key':'bindEvent','value':function(){var _0x27e0bc=_0x47aac6,_0x3520de=this,_0x215044=this,_0x485ae4=Date[_0x27e0bc(0x239)]();!function _0x1c7b72(){var _0x2fe8bc=_0x27e0bc;_0x215044['animateFrame']=window[_0x2fe8bc(0x270)](_0x1c7b72);var _0x2e88fe=Date['now'](),_0x13ec92=_0x2e88fe-_0x485ae4;_0x13ec92>_0x215044['frameTime']&&(_0x485ae4=_0x2e88fe-_0x13ec92%_0x215044[_0x2fe8bc(0x22f)],_0x215044[_0x2fe8bc(0x2a1)]());}(),window['addEventListener']('resize',this['resize'][_0x27e0bc(0x1f2)](this),!0x1),this[_0x27e0bc(0x1ca)]=new _0x426b62[(_0x27e0bc(0x1b5))](this['_map']['scene']['canvas']);var _0x52c92e=!0x1,_0x4f0122=!0x1;this[_0x27e0bc(0x1ca)][_0x27e0bc(0x2b9)](function(_0x168761){var _0x2c5606=_0x27e0bc;clearTimeout(-0x1),_0x3520de[_0x2c5606(0x20c)]=!0x1,setTimeout(function(){var _0xe5823b=_0x2c5606;_0x3520de[_0xe5823b(0x263)](),_0x3520de[_0xe5823b(0x20c)]=!0x0;},0xc8);},_0x426b62[_0x27e0bc(0x268)][_0x27e0bc(0x233)]),this[_0x27e0bc(0x1ca)][_0x27e0bc(0x2b9)](function(_0x11377d){_0x52c92e=!0x0;},_0x426b62[_0x27e0bc(0x268)][_0x27e0bc(0x1c2)]),this['handler']['setInputAction'](function(_0x2599ad){_0x52c92e=!0x0;},_0x426b62[_0x27e0bc(0x268)][_0x27e0bc(0x29f)]),this[_0x27e0bc(0x1ca)]['setInputAction'](function(_0x1c040b){var _0x2ea50b=_0x27e0bc;_0x52c92e&&(_0x3520de[_0x2ea50b(0x20c)]=!0x1,_0x4f0122=!0x0);},_0x426b62[_0x27e0bc(0x268)]['MOUSE_MOVE']),this['handler']['setInputAction'](function(_0x394041){var _0x13e3c4=_0x27e0bc;_0x52c92e&&_0x4f0122&&_0x3520de[_0x13e3c4(0x263)](),_0x3520de[_0x13e3c4(0x20c)]=!0x0,_0x52c92e=!0x1,_0x4f0122=!0x1;},_0x426b62[_0x27e0bc(0x268)][_0x27e0bc(0x2c1)]),this[_0x27e0bc(0x1ca)][_0x27e0bc(0x2b9)](function(_0x38bf0e){_0x52c92e&&_0x4f0122&&_0x3520de['redraw'](),_0x3520de['show']=!0x0,_0x52c92e=!0x1,_0x4f0122=!0x1;},_0x426b62[_0x27e0bc(0x268)][_0x27e0bc(0x1ac)]);}},{'key':_0x47aac6(0x27f),'value':function(){var _0x15b9f4=_0x47aac6;window[_0x15b9f4(0x240)](this[_0x15b9f4(0x1c4)]),delete this[_0x15b9f4(0x1c4)],window[_0x15b9f4(0x160)](_0x15b9f4(0x287),this[_0x15b9f4(0x287)]),this[_0x15b9f4(0x1ca)]&&(this[_0x15b9f4(0x1ca)][_0x15b9f4(0x2af)](),this[_0x15b9f4(0x1ca)]=null);}},{'key':_0x47aac6(0x263),'value':function(){var _0x358413=_0x47aac6;this[_0x358413(0x22b)]=[],this[_0x358413(0x214)]();}},{'key':_0x47aac6(0x29d),'value':function(_0x22cdb5){var _0x1840f4=_0x47aac6;this[_0x1840f4(0x1f6)](),this[_0x1840f4(0x198)]=_0x22cdb5,this[_0x1840f4(0x21c)]=new _0x572477(this['windData'],this[_0x1840f4(0x2a9)]),this['drawWind']();}},{'key':'drawWind','value':function(){var _0x2a4743=_0x47aac6;this[_0x2a4743(0x1d0)]();for(var _0x188833=0x0;_0x188833<this['particlesNumber'];_0x188833++){var _0xd67545=this[_0x2a4743(0x2a8)](new _0x3edfac());this['particles'][_0x2a4743(0x204)](_0xd67545);}this[_0x2a4743(0x1dc)][_0x2a4743(0x2a6)]=_0x2a4743(0x23e),this[_0x2a4743(0x1dc)][_0x2a4743(0x285)]=0.6,this[_0x2a4743(0x2a1)]();}},{'key':_0x47aac6(0x1d0),'value':function(){var _0x19058b=_0x47aac6;this[_0x19058b(0x21c)]&&(this[_0x19058b(0x171)]=[(this['windField'][_0x19058b(0x203)]-this['windField']['xmin'])/this['speedRate'],(this[_0x19058b(0x21c)][_0x19058b(0x291)]-this['windField']['ymin'])/this[_0x19058b(0x218)]]);}},{'key':_0x47aac6(0x2a1),'value':function(){var _0x5c95cb=_0x47aac6,_0x2ff9af=this;if(this[_0x5c95cb(0x20c)]&&!(this[_0x5c95cb(0x22b)][_0x5c95cb(0x163)]<=0x0)){var _0x1e4de3=null,_0x53596a=null,_0x3b7ff8=null;this[_0x5c95cb(0x22b)][_0x5c95cb(0x254)](function(_0x16485a){var _0x258a64=_0x5c95cb;if(_0x16485a[_0x258a64(0x28b)]<=0x0&&_0x2ff9af[_0x258a64(0x2a8)](_0x16485a),_0x16485a[_0x258a64(0x28b)]>0x0){var _0x180543=_0x16485a[_0x258a64(0x22c)],_0x3d39b0=_0x16485a[_0x258a64(0x1e8)];(_0x3b7ff8=_0x2ff9af['windField'][_0x258a64(0x1bf)](_0x180543,_0x3d39b0))?(_0x1e4de3=_0x180543+_0x2ff9af[_0x258a64(0x171)][0x0]*_0x3b7ff8[0x0],_0x53596a=_0x3d39b0+_0x2ff9af[_0x258a64(0x171)][0x1]*_0x3b7ff8[0x1],_0x16485a[_0x258a64(0x224)]=_0x180543,_0x16485a[_0x258a64(0x162)]=_0x3d39b0,_0x16485a[_0x258a64(0x22c)]=_0x1e4de3,_0x16485a[_0x258a64(0x1e8)]=_0x53596a,_0x16485a[_0x258a64(0x28b)]--):_0x16485a['age']=0x0;}}),this[_0x5c95cb(0x29e)]();}}},{'key':_0x47aac6(0x1ea),'value':function(_0xa1d064,_0x53ea86,_0x552607){var _0x47203e=_0x47aac6,_0x5de05d=_0x426b62[_0x47203e(0x1b0)]['fromDegrees'](_0xa1d064,_0x53ea86,this[_0x47203e(0x207)]),_0x52ea65=this[_0x47203e(0x206)][_0x47203e(0x182)];if(_0x52ea65['mode']===_0x426b62[_0x47203e(0x19f)][_0x47203e(0x215)]&&!new _0x426b62[(_0x47203e(0x168))](_0x52ea65[_0x47203e(0x245)][_0x47203e(0x1e2)],_0x52ea65['camera']['positionWC'])['isPointVisible'](_0x5de05d))return _0x552607[_0x47203e(0x28b)]=0x0,null;var _0x364177=_0x426b62[_0x47203e(0x25e)][_0x47203e(0x257)](this[_0x47203e(0x206)][_0x47203e(0x182)],_0x5de05d);return _0x364177?[_0x364177['x'],_0x364177['y']]:null;}},{'key':_0x47aac6(0x29e),'value':function(){var _0x114701=_0x47aac6,_0x209d5e=this,_0x4091be=this[_0x114701(0x22b)];this[_0x114701(0x1dc)]['lineWidth']=_0x209d5e[_0x114701(0x27e)],this['canvasContext']['globalCompositeOperation']=_0x114701(0x2ab),this['canvasContext'][_0x114701(0x1aa)](0x0,0x0,this[_0x114701(0x1a2)],this[_0x114701(0x1d6)]),this['canvasContext'][_0x114701(0x266)]=_0x114701(0x205),this[_0x114701(0x1dc)][_0x114701(0x285)]=0.9,this['canvasContext'][_0x114701(0x283)](),this['canvasContext'][_0x114701(0x1f0)]=this[_0x114701(0x1d2)];var _0x85b02c=this[_0x114701(0x206)]['scene'][_0x114701(0x1fe)]!==_0x426b62['SceneMode'][_0x114701(0x215)];_0x4091be[_0x114701(0x254)](function(_0x5cf3e7){var _0x157c1d=_0x114701,_0x2a2b23=_0x209d5e[_0x157c1d(0x1ea)](_0x5cf3e7['lng'],_0x5cf3e7[_0x157c1d(0x162)],_0x5cf3e7),_0x1a1835=_0x209d5e['_tomap'](_0x5cf3e7['tlng'],_0x5cf3e7[_0x157c1d(0x1e8)],_0x5cf3e7);if(null!=_0x2a2b23&&null!=_0x1a1835){var _0x429343=Math[_0x157c1d(0x22e)](_0x2a2b23[0x0]-_0x1a1835[0x0]);_0x85b02c&&_0x429343>=_0x209d5e[_0x157c1d(0x1a2)]||(_0x209d5e['canvasContext'][_0x157c1d(0x1cd)](_0x2a2b23[0x0],_0x2a2b23[0x1]),_0x209d5e[_0x157c1d(0x1dc)][_0x157c1d(0x1ff)](_0x1a1835[0x0],_0x1a1835[0x1]));}}),this[_0x114701(0x1dc)]['stroke']();}},{'key':_0x47aac6(0x2a8),'value':function(_0xde1431){var _0x13bad8=_0x47aac6;for(var _0x8ace6b,_0xfdb590,_0x1ca693=0x0;_0x1ca693<0x1e&&(_0x8ace6b=this[_0x13bad8(0x21c)][_0x13bad8(0x265)](),!((_0xfdb590=this['windField'][_0x13bad8(0x1bf)](_0x8ace6b[_0x13bad8(0x224)],_0x8ace6b[_0x13bad8(0x162)]))&&_0xfdb590[0x2]>0x0));_0x1ca693++);if(!_0xfdb590)return _0xde1431;var _0x1ec011=_0x8ace6b[_0x13bad8(0x224)]+this[_0x13bad8(0x171)][0x0]*_0xfdb590[0x0],_0x4d5423=_0x8ace6b[_0x13bad8(0x162)]+this[_0x13bad8(0x171)][0x1]*_0xfdb590[0x1];return _0xde1431[_0x13bad8(0x224)]=_0x8ace6b[_0x13bad8(0x224)],_0xde1431[_0x13bad8(0x162)]=_0x8ace6b[_0x13bad8(0x162)],_0xde1431[_0x13bad8(0x22c)]=_0x1ec011,_0xde1431[_0x13bad8(0x1e8)]=_0x4d5423,_0xde1431[_0x13bad8(0x28b)]=Math[_0x13bad8(0x164)](Math[_0x13bad8(0x220)]()*this[_0x13bad8(0x23d)]),_0xde1431;}},{'key':'clear','value':function(){var _0x37b971=_0x47aac6;this['particles']=[],delete this[_0x37b971(0x21c)],delete this[_0x37b971(0x198)];}}]),_0x3557f4;}(_0x37771b[_0x252f2c(0x274)][_0x252f2c(0x193)]);function _0x44ab78(_0x453133,_0x40d8a7){var _0x21af28=_0x252f2c;return _0x453133*Math[_0x21af28(0x190)](_0x426b62[_0x21af28(0x267)][_0x21af28(0x20b)](_0x40d8a7));}function _0x344f0b(_0x57b75c,_0x4f4ad1){var _0x36639d=_0x252f2c;return _0x57b75c*Math['sin'](_0x426b62[_0x36639d(0x267)]['toRadians'](_0x4f4ad1));}function _0x28a324(_0x35b9dd,_0x31b158){var _0xb44774=_0x252f2c;return Math[_0xb44774(0x2ba)](Math[_0xb44774(0x279)](_0x35b9dd,0x2)+Math[_0xb44774(0x279)](_0x31b158,0x2));}function _0x26341a(_0xc6fba9,_0x391707){var _0x30056d=_0x252f2c,_0x2ce756=_0x426b62[_0x30056d(0x267)][_0x30056d(0x24b)](Math[_0x30056d(0x1ce)](_0x391707,_0xc6fba9));return _0x2ce756+=_0x2ce756<0x0?0x168:0x0;}_0x37771b[_0x252f2c(0x1a1)]['register']('canvasWind',_0x1e025e),_0x37771b['layer'][_0x252f2c(0x191)]=_0x1e025e,_0x37771b[_0x252f2c(0x282)]=_0x2e49a8;}]);}));