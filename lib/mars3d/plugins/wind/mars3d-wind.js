function a0_0x2ec8(_0x2ace45,_0x203a11){var _0x5f42b5=a0_0x5f42();return a0_0x2ec8=function(_0x2ec81f,_0x4b2142){_0x2ec81f=_0x2ec81f-0xda;var _0x4219b0=_0x5f42b5[_0x2ec81f];return _0x4219b0;},a0_0x2ec8(_0x2ace45,_0x203a11);}(function(_0x989dcf,_0x282946){var _0x39294e=a0_0x2ec8,_0x8e9e62=_0x989dcf();while(!![]){try{var _0x5c162c=parseInt(_0x39294e(0x1f8))/0x1*(-parseInt(_0x39294e(0x235))/0x2)+-parseInt(_0x39294e(0x138))/0x3*(parseInt(_0x39294e(0x143))/0x4)+parseInt(_0x39294e(0x14d))/0x5*(-parseInt(_0x39294e(0x23c))/0x6)+parseInt(_0x39294e(0x22b))/0x7+parseInt(_0x39294e(0x211))/0x8+-parseInt(_0x39294e(0xf8))/0x9*(-parseInt(_0x39294e(0x13f))/0xa)+parseInt(_0x39294e(0x15b))/0xb*(-parseInt(_0x39294e(0xf6))/0xc);if(_0x5c162c===_0x282946)break;else _0x8e9e62['push'](_0x8e9e62['shift']());}catch(_0x3a189b){_0x8e9e62['push'](_0x8e9e62['shift']());}}}(a0_0x5f42,0x2d6ba),!function(_0x3c73f5,_0x4e5ae3){var _0x2a222d=a0_0x2ec8;'object'==typeof exports&&_0x2a222d(0x222)==typeof module?module[_0x2a222d(0x151)]=_0x4e5ae3(require(_0x2a222d(0x15e)),require(_0x2a222d(0x194))):'function'==typeof define&&define[_0x2a222d(0x196)]?define(_0x2a222d(0x22f),[_0x2a222d(0x15e),_0x2a222d(0x194)],_0x4e5ae3):_0x2a222d(0x222)==typeof exports?exports[_0x2a222d(0x22f)]=_0x4e5ae3(require('mars3d-cesium'),require(_0x2a222d(0x194))):_0x3c73f5[_0x2a222d(0x22f)]=_0x4e5ae3(_0x3c73f5[_0x2a222d(0x24d)],_0x3c73f5[_0x2a222d(0x194)]);}(window,function(_0x1927df,_0x5ef190){return function(_0x1857bb){var _0x437c3e={};function _0x1ddea5(_0x1fc215){var _0x3dd6c6=a0_0x2ec8;if(_0x437c3e[_0x1fc215])return _0x437c3e[_0x1fc215][_0x3dd6c6(0x151)];var _0xc876b7=_0x437c3e[_0x1fc215]={'i':_0x1fc215,'l':!0x1,'exports':{}};return _0x1857bb[_0x1fc215][_0x3dd6c6(0x1b7)](_0xc876b7['exports'],_0xc876b7,_0xc876b7['exports'],_0x1ddea5),_0xc876b7['l']=!0x0,_0xc876b7['exports'];}return _0x1ddea5['m']=_0x1857bb,_0x1ddea5['c']=_0x437c3e,_0x1ddea5['d']=function(_0x55bd38,_0x136810,_0x5d8179){_0x1ddea5['o'](_0x55bd38,_0x136810)||Object['defineProperty'](_0x55bd38,_0x136810,{'enumerable':!0x0,'get':_0x5d8179});},_0x1ddea5['r']=function(_0x17c674){var _0x4d1f14=a0_0x2ec8;_0x4d1f14(0x184)!=typeof Symbol&&Symbol[_0x4d1f14(0x1f5)]&&Object['defineProperty'](_0x17c674,Symbol[_0x4d1f14(0x1f5)],{'value':_0x4d1f14(0x1b6)}),Object['defineProperty'](_0x17c674,_0x4d1f14(0x227),{'value':!0x0});},_0x1ddea5['t']=function(_0xbbdb26,_0x290e30){var _0x40da59=a0_0x2ec8;if(0x1&_0x290e30&&(_0xbbdb26=_0x1ddea5(_0xbbdb26)),0x8&_0x290e30)return _0xbbdb26;if(0x4&_0x290e30&&_0x40da59(0x222)==typeof _0xbbdb26&&_0xbbdb26&&_0xbbdb26[_0x40da59(0x227)])return _0xbbdb26;var _0x3aaa00=Object[_0x40da59(0x1ae)](null);if(_0x1ddea5['r'](_0x3aaa00),Object[_0x40da59(0x1d7)](_0x3aaa00,_0x40da59(0xf4),{'enumerable':!0x0,'value':_0xbbdb26}),0x2&_0x290e30&&_0x40da59(0x224)!=typeof _0xbbdb26){for(var _0x45a928 in _0xbbdb26)_0x1ddea5['d'](_0x3aaa00,_0x45a928,function(_0x3ef11f){return _0xbbdb26[_0x3ef11f];}[_0x40da59(0x247)](null,_0x45a928));}return _0x3aaa00;},_0x1ddea5['n']=function(_0x49a6dc){var _0x25b2ec=_0x49a6dc&&_0x49a6dc['__esModule']?function(){var _0x455dfd=a0_0x2ec8;return _0x49a6dc[_0x455dfd(0xf4)];}:function(){return _0x49a6dc;};return _0x1ddea5['d'](_0x25b2ec,'a',_0x25b2ec),_0x25b2ec;},_0x1ddea5['o']=function(_0xefc148,_0x21c6e2){var _0x81e009=a0_0x2ec8;return Object[_0x81e009(0x136)][_0x81e009(0x19b)]['call'](_0xefc148,_0x21c6e2);},_0x1ddea5['p']='',_0x1ddea5(_0x1ddea5['s']=0x14);}([function(_0x23009d,_0x37ee00){var _0x4aceca=a0_0x2ec8;_0x23009d[_0x4aceca(0x151)]=_0x1927df;},function(_0x5423b8,_0x3ee7a7){_0x5423b8['exports']=_0x5ef190;},function(_0x528d1c,_0x105971){var _0x2f6b22=a0_0x2ec8;_0x528d1c[_0x2f6b22(0x151)]=function(_0x3f2c3f,_0x43b414){var _0x793712=_0x2f6b22;if(!(_0x3f2c3f instanceof _0x43b414))throw new TypeError(_0x793712(0x212));},_0x528d1c['exports'][_0x2f6b22(0xf4)]=_0x528d1c[_0x2f6b22(0x151)],_0x528d1c[_0x2f6b22(0x151)]['__esModule']=!0x0;},function(_0x54e498,_0x39964e){var _0x2516bb=a0_0x2ec8;function _0x3e13e4(_0x3c013e,_0x203bec){var _0x36d6b9=a0_0x2ec8;for(var _0x357977=0x0;_0x357977<_0x203bec[_0x36d6b9(0x180)];_0x357977++){var _0x73c2e5=_0x203bec[_0x357977];_0x73c2e5['enumerable']=_0x73c2e5['enumerable']||!0x1,_0x73c2e5['configurable']=!0x0,_0x36d6b9(0x24a)in _0x73c2e5&&(_0x73c2e5[_0x36d6b9(0x140)]=!0x0),Object[_0x36d6b9(0x1d7)](_0x3c013e,_0x73c2e5['key'],_0x73c2e5);}}_0x54e498['exports']=function(_0x33e7eb,_0x27488b,_0x217d27){var _0x219c41=a0_0x2ec8;return _0x27488b&&_0x3e13e4(_0x33e7eb[_0x219c41(0x136)],_0x27488b),_0x217d27&&_0x3e13e4(_0x33e7eb,_0x217d27),_0x33e7eb;},_0x54e498['exports']['default']=_0x54e498[_0x2516bb(0x151)],_0x54e498[_0x2516bb(0x151)][_0x2516bb(0x227)]=!0x0;},function(_0x433d3b,_0x2451e8){var _0x1c8fba=a0_0x2ec8;function _0x114d4c(_0x439e3b){var _0x20f292=a0_0x2ec8;return _0x433d3b['exports']=_0x114d4c=Object['setPrototypeOf']?Object['getPrototypeOf']:function(_0x270ac4){var _0x34decf=a0_0x2ec8;return _0x270ac4[_0x34decf(0x18d)]||Object[_0x34decf(0x244)](_0x270ac4);},_0x433d3b[_0x20f292(0x151)]['default']=_0x433d3b[_0x20f292(0x151)],_0x433d3b[_0x20f292(0x151)][_0x20f292(0x227)]=!0x0,_0x114d4c(_0x439e3b);}_0x433d3b[_0x1c8fba(0x151)]=_0x114d4c,_0x433d3b[_0x1c8fba(0x151)][_0x1c8fba(0xf4)]=_0x433d3b['exports'],_0x433d3b[_0x1c8fba(0x151)]['__esModule']=!0x0;},function(_0x2e680b,_0x42410d,_0x982a34){var _0xf77c77=a0_0x2ec8,_0x1b29c7=_0x982a34(0x11);_0x2e680b['exports']=function(_0x247eb1,_0x8a72ca){var _0x111bae=a0_0x2ec8;if('function'!=typeof _0x8a72ca&&null!==_0x8a72ca)throw new TypeError(_0x111bae(0x225));_0x247eb1['prototype']=Object[_0x111bae(0x1ae)](_0x8a72ca&&_0x8a72ca[_0x111bae(0x136)],{'constructor':{'value':_0x247eb1,'writable':!0x0,'configurable':!0x0}}),_0x8a72ca&&_0x1b29c7(_0x247eb1,_0x8a72ca);},_0x2e680b[_0xf77c77(0x151)][_0xf77c77(0xf4)]=_0x2e680b[_0xf77c77(0x151)],_0x2e680b['exports'][_0xf77c77(0x227)]=!0x0;},function(_0x5dbd04,_0x150fb8,_0x485621){var _0x21fe4b=a0_0x2ec8,_0x56bc89=_0x485621(0x12)['default'],_0x3b55c1=_0x485621(0x13);_0x5dbd04[_0x21fe4b(0x151)]=function(_0x4918cb,_0x4e0712){var _0x4f14df=_0x21fe4b;if(_0x4e0712&&(_0x4f14df(0x222)===_0x56bc89(_0x4e0712)||_0x4f14df(0x1d4)==typeof _0x4e0712))return _0x4e0712;if(void 0x0!==_0x4e0712)throw new TypeError(_0x4f14df(0x249));return _0x3b55c1(_0x4918cb);},_0x5dbd04[_0x21fe4b(0x151)][_0x21fe4b(0xf4)]=_0x5dbd04['exports'],_0x5dbd04[_0x21fe4b(0x151)][_0x21fe4b(0x227)]=!0x0;},function(_0x58c50a,_0x4b80a7){var _0x2c027c=a0_0x2ec8;_0x58c50a[_0x2c027c(0x151)]=_0x2c027c(0x201);},function(_0x57c144,_0xb2f6f4){var _0x47a634=a0_0x2ec8;_0x57c144[_0x47a634(0x151)]='attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}';},function(_0x2ee908,_0x5a21e1){var _0x17ef7f=a0_0x2ec8;_0x2ee908[_0x17ef7f(0x151)]=_0x17ef7f(0x12a);},function(_0x3c1e8b,_0x243141){var _0x14075e=a0_0x2ec8;_0x3c1e8b[_0x14075e(0x151)]=_0x14075e(0xda);},function(_0x2154e1,_0xcd4319){var _0x30daaf=a0_0x2ec8;_0x2154e1[_0x30daaf(0x151)]=_0x30daaf(0xe4);},function(_0x272cd1,_0x345f53){var _0x2fa31a=a0_0x2ec8;_0x272cd1[_0x2fa31a(0x151)]=_0x2fa31a(0x120);},function(_0x58a23d,_0x5cd654){var _0x40ce9e=a0_0x2ec8;_0x58a23d[_0x40ce9e(0x151)]=_0x40ce9e(0xfb);},function(_0x5dbc17,_0x431815){var _0x2829a1=a0_0x2ec8;_0x5dbc17[_0x2829a1(0x151)]='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}';},function(_0x1a9c20,_0x4acda3){var _0x6e75d7=a0_0x2ec8;_0x1a9c20['exports']=_0x6e75d7(0x1cf);},function(_0x4a72a6,_0x927e4a){var _0x1b83af=a0_0x2ec8;_0x4a72a6['exports']=_0x1b83af(0x111);},function(_0x343d60,_0x532b5c){var _0x3f7aa7=a0_0x2ec8;function _0x54525a(_0x2ceb20,_0x270ec7){var _0x207de0=a0_0x2ec8;return _0x343d60[_0x207de0(0x151)]=_0x54525a=Object[_0x207de0(0x195)]||function(_0xb5e5fe,_0x24d319){var _0x8b3f3=_0x207de0;return _0xb5e5fe[_0x8b3f3(0x18d)]=_0x24d319,_0xb5e5fe;},_0x343d60[_0x207de0(0x151)]['default']=_0x343d60[_0x207de0(0x151)],_0x343d60['exports'][_0x207de0(0x227)]=!0x0,_0x54525a(_0x2ceb20,_0x270ec7);}_0x343d60[_0x3f7aa7(0x151)]=_0x54525a,_0x343d60[_0x3f7aa7(0x151)][_0x3f7aa7(0xf4)]=_0x343d60[_0x3f7aa7(0x151)],_0x343d60[_0x3f7aa7(0x151)]['__esModule']=!0x0;},function(_0x5794ba,_0x4e0e7f){var _0x2b61c5=a0_0x2ec8;function _0x273d37(_0x318012){var _0x5ba0de=a0_0x2ec8;return _0x5ba0de(0x1d4)==typeof Symbol&&'symbol'==typeof Symbol['iterator']?(_0x5794ba[_0x5ba0de(0x151)]=_0x273d37=function(_0x1b5785){return typeof _0x1b5785;},_0x5794ba[_0x5ba0de(0x151)][_0x5ba0de(0xf4)]=_0x5794ba[_0x5ba0de(0x151)],_0x5794ba[_0x5ba0de(0x151)][_0x5ba0de(0x227)]=!0x0):(_0x5794ba[_0x5ba0de(0x151)]=_0x273d37=function(_0x1073b5){var _0x2317ec=_0x5ba0de;return _0x1073b5&&_0x2317ec(0x1d4)==typeof Symbol&&_0x1073b5['constructor']===Symbol&&_0x1073b5!==Symbol['prototype']?_0x2317ec(0x1f4):typeof _0x1073b5;},_0x5794ba[_0x5ba0de(0x151)][_0x5ba0de(0xf4)]=_0x5794ba[_0x5ba0de(0x151)],_0x5794ba[_0x5ba0de(0x151)][_0x5ba0de(0x227)]=!0x0),_0x273d37(_0x318012);}_0x5794ba[_0x2b61c5(0x151)]=_0x273d37,_0x5794ba[_0x2b61c5(0x151)][_0x2b61c5(0xf4)]=_0x5794ba[_0x2b61c5(0x151)],_0x5794ba[_0x2b61c5(0x151)][_0x2b61c5(0x227)]=!0x0;},function(_0xd2dad0,_0x49f4fd){var _0x1a5b5a=a0_0x2ec8;_0xd2dad0['exports']=function(_0x3bb88d){var _0xbeebda=a0_0x2ec8;if(void 0x0===_0x3bb88d)throw new ReferenceError(_0xbeebda(0x1f3));return _0x3bb88d;},_0xd2dad0[_0x1a5b5a(0x151)][_0x1a5b5a(0xf4)]=_0xd2dad0[_0x1a5b5a(0x151)],_0xd2dad0['exports'][_0x1a5b5a(0x227)]=!0x0;},function(_0x44c854,_0x5dfc1c,_0x82433c){'use strict';var _0x14d98e=a0_0x2ec8;_0x82433c['r'](_0x5dfc1c),_0x82433c['d'](_0x5dfc1c,'WindLayer',function(){return _0x2567b3;}),_0x82433c['d'](_0x5dfc1c,_0x14d98e(0x124),function(){return _0x29ba95;}),_0x82433c['d'](_0x5dfc1c,_0x14d98e(0xfc),function(){return _0x3e99bf;});var _0x3e99bf={};_0x82433c['r'](_0x3e99bf),_0x82433c['d'](_0x3e99bf,_0x14d98e(0x1ba),function(){return _0x597a75;}),_0x82433c['d'](_0x3e99bf,_0x14d98e(0x1ef),function(){return _0x101332;}),_0x82433c['d'](_0x3e99bf,_0x14d98e(0x11c),function(){return _0x4a4f6e;}),_0x82433c['d'](_0x3e99bf,'getDirection',function(){return _0x452730;});var _0x134dc4=_0x82433c(0x1),_0x214694=_0x82433c(0x2),_0x88cdcc=_0x82433c['n'](_0x214694),_0x29e7b3=_0x82433c(0x3),_0x350da0=_0x82433c['n'](_0x29e7b3),_0x464b60=_0x82433c(0x5),_0x45f369=_0x82433c['n'](_0x464b60),_0x4c0682=_0x82433c(0x6),_0x3dd96a=_0x82433c['n'](_0x4c0682),_0x17b50d=_0x82433c(0x4),_0x2748f8=_0x82433c['n'](_0x17b50d),_0x208c64=_0x82433c(0x0),_0x2e9a4f=function(){var _0x1eff35=_0x14d98e;function _0x4dee37(_0x1fe7e2){var _0xc84b6a=a0_0x2ec8;_0x88cdcc()(this,_0x4dee37),this[_0xc84b6a(0x18e)]=_0x1fe7e2['commandType'],this[_0xc84b6a(0x1db)]=_0x1fe7e2[_0xc84b6a(0x1db)],this['attributeLocations']=_0x1fe7e2[_0xc84b6a(0x119)],this[_0xc84b6a(0x1ce)]=_0x1fe7e2[_0xc84b6a(0x1ce)],this['uniformMap']=_0x1fe7e2['uniformMap'],this[_0xc84b6a(0x1bc)]=_0x1fe7e2['vertexShaderSource'],this['fragmentShaderSource']=_0x1fe7e2[_0xc84b6a(0x239)],this[_0xc84b6a(0x240)]=_0x1fe7e2['rawRenderState'],this['framebuffer']=_0x1fe7e2[_0xc84b6a(0x189)],this['outputTexture']=_0x1fe7e2[_0xc84b6a(0xef)],this[_0xc84b6a(0x1a6)]=_0x208c64['defaultValue'](_0x1fe7e2[_0xc84b6a(0x1a6)],!0x1),this['preExecute']=_0x1fe7e2[_0xc84b6a(0x23f)],this['show']=!0x0,this['commandToExecute']=void 0x0,this[_0xc84b6a(0x12b)]=void 0x0,this['autoClear']&&(this[_0xc84b6a(0x12b)]=new _0x208c64[(_0xc84b6a(0x14c))]({'color':new _0x208c64[(_0xc84b6a(0xf3))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0xc84b6a(0x189)],'pass':_0x208c64['Pass'][_0xc84b6a(0x174)]}));}return _0x350da0()(_0x4dee37,[{'key':_0x1eff35(0x204),'value':function(_0x14de46){var _0x9e1eb3=_0x1eff35;switch(this[_0x9e1eb3(0x18e)]){case'Draw':var _0xb3edd5=_0x208c64[_0x9e1eb3(0x1f7)][_0x9e1eb3(0x1ea)]({'context':_0x14de46,'geometry':this[_0x9e1eb3(0x1db)],'attributeLocations':this[_0x9e1eb3(0x119)],'bufferUsage':_0x208c64[_0x9e1eb3(0x1f1)][_0x9e1eb3(0x217)]}),_0xa0943d=_0x208c64[_0x9e1eb3(0x11e)][_0x9e1eb3(0x131)]({'context':_0x14de46,'attributeLocations':this[_0x9e1eb3(0x119)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x9e1eb3(0x239)]}),_0x3b9fe4=_0x208c64[_0x9e1eb3(0x197)]['fromCache'](this[_0x9e1eb3(0x240)]);return new _0x208c64['DrawCommand']({'owner':this,'vertexArray':_0xb3edd5,'primitiveType':this[_0x9e1eb3(0x1ce)],'uniformMap':this[_0x9e1eb3(0x163)],'modelMatrix':_0x208c64[_0x9e1eb3(0x1b0)]['IDENTITY'],'shaderProgram':_0xa0943d,'framebuffer':this[_0x9e1eb3(0x189)],'renderState':_0x3b9fe4,'pass':_0x208c64[_0x9e1eb3(0x1ec)][_0x9e1eb3(0x174)]});case _0x9e1eb3(0x1e8):return new _0x208c64[(_0x9e1eb3(0x1b1))]({'owner':this,'fragmentShaderSource':this['fragmentShaderSource'],'uniformMap':this['uniformMap'],'outputTexture':this['outputTexture'],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x303bb5,_0x4c017d){var _0x4f1e1f=_0x1eff35;this[_0x4f1e1f(0x1db)]=_0x4c017d;var _0x300886=_0x208c64[_0x4f1e1f(0x1f7)]['fromGeometry']({'context':_0x303bb5,'geometry':this[_0x4f1e1f(0x1db)],'attributeLocations':this[_0x4f1e1f(0x119)],'bufferUsage':_0x208c64['BufferUsage'][_0x4f1e1f(0x217)]});this[_0x4f1e1f(0xf0)]['vertexArray']=_0x300886;}},{'key':_0x1eff35(0x107),'value':function(_0x1a8a0a){var _0x2b5f08=_0x1eff35;this[_0x2b5f08(0x10e)]&&_0x1a8a0a['mode']==_0x208c64[_0x2b5f08(0xec)][_0x2b5f08(0x106)]&&(_0x208c64[_0x2b5f08(0x134)](this[_0x2b5f08(0xf0)])||(this[_0x2b5f08(0xf0)]=this[_0x2b5f08(0x204)](_0x1a8a0a[_0x2b5f08(0x230)])),_0x208c64[_0x2b5f08(0x134)](this[_0x2b5f08(0x23f)])&&this[_0x2b5f08(0x23f)](),_0x208c64[_0x2b5f08(0x134)](this[_0x2b5f08(0x12b)])&&_0x1a8a0a[_0x2b5f08(0x113)][_0x2b5f08(0x216)](this['clearCommand']),_0x1a8a0a[_0x2b5f08(0x113)][_0x2b5f08(0x216)](this[_0x2b5f08(0xf0)]));}},{'key':_0x1eff35(0x237),'value':function(){return!0x1;}},{'key':'destroy','value':function(){var _0x4d0f72=_0x1eff35;return _0x208c64[_0x4d0f72(0x134)](this[_0x4d0f72(0xf0)])&&(this['commandToExecute'][_0x4d0f72(0x11b)]=this[_0x4d0f72(0xf0)][_0x4d0f72(0x11b)]&&this[_0x4d0f72(0xf0)][_0x4d0f72(0x11b)][_0x4d0f72(0x1bd)]()),_0x208c64[_0x4d0f72(0x1e9)](this);}}]),_0x4dee37;}(),_0x3a788a={'getFullscreenQuad':function(){var _0x158380=_0x14d98e;return new _0x208c64[(_0x158380(0x1a9))]({'attributes':new _0x208c64['GeometryAttributes']({'position':new _0x208c64[(_0x158380(0x1f9))]({'componentDatatype':_0x208c64[_0x158380(0xe6)]['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x208c64[(_0x158380(0x1f9))]({'componentDatatype':_0x208c64[_0x158380(0xe6)][_0x158380(0x169)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x236b45,_0x2f0aaf){var _0x5080e5=_0x14d98e;if(_0x208c64[_0x5080e5(0x134)](_0x2f0aaf)){var _0x193e3b={};_0x193e3b['arrayBufferView']=_0x2f0aaf,_0x236b45[_0x5080e5(0x156)]=_0x193e3b;}return new _0x208c64[(_0x5080e5(0x135))](_0x236b45);},'createFramebuffer':function(_0x29b752,_0x4d8c85,_0x25549d){return new _0x208c64['Framebuffer']({'context':_0x29b752,'colorTextures':[_0x4d8c85],'depthTexture':_0x25549d});},'createRawRenderState':function(_0x2ccd78){var _0x5c71de=_0x14d98e,_0x5e5d18={'viewport':_0x2ccd78[_0x5c71de(0xe3)],'depthTest':_0x2ccd78[_0x5c71de(0x1e7)],'depthMask':_0x2ccd78[_0x5c71de(0x1c9)],'blending':_0x2ccd78[_0x5c71de(0x10d)]};return _0x208c64[_0x5c71de(0xe9)][_0x5c71de(0x16a)](!0x0,!0x1,_0x5e5d18);},'viewRectangleToLonLatRange':function(_0x588bbe){var _0x261e94=_0x14d98e,_0x2a1a56,_0x4e0447,_0x54a0ae={},_0x230276=_0x208c64['Math'][_0x261e94(0x21f)](_0x588bbe[_0x261e94(0xeb)],_0x208c64[_0x261e94(0x21b)][_0x261e94(0x16e)]),_0x55ff11=_0x208c64[_0x261e94(0x21b)][_0x261e94(0x21f)](_0x588bbe['east'],_0x208c64[_0x261e94(0x21b)][_0x261e94(0x16e)]),_0x76c8f=_0x588bbe[_0x261e94(0x133)];_0x76c8f>_0x208c64['Math']['THREE_PI_OVER_TWO']?(_0x2a1a56=0x0,_0x4e0447=_0x208c64['Math'][_0x261e94(0x16e)]):_0x55ff11-_0x230276<_0x76c8f?(_0x2a1a56=_0x230276,_0x4e0447=_0x230276+_0x76c8f):(_0x2a1a56=_0x230276,_0x4e0447=_0x55ff11),_0x54a0ae[_0x261e94(0x178)]={'min':_0x208c64[_0x261e94(0x21b)]['toDegrees'](_0x2a1a56),'max':_0x208c64['Math']['toDegrees'](_0x4e0447)};var _0x2f2d3f=_0x588bbe[_0x261e94(0x104)],_0x31e7a4=_0x588bbe[_0x261e94(0x209)],_0x2d27d1=_0x588bbe[_0x261e94(0x16d)],_0x2fd3ce=_0x2d27d1>_0x208c64[_0x261e94(0x21b)]['PI']/0xc?_0x2d27d1/0x2:0x0,_0x2c8672=_0x208c64[_0x261e94(0x21b)][_0x261e94(0x19c)](_0x2f2d3f-_0x2fd3ce),_0x404400=_0x208c64[_0x261e94(0x21b)][_0x261e94(0x19c)](_0x31e7a4+_0x2fd3ce);return _0x2c8672<-_0x208c64[_0x261e94(0x21b)][_0x261e94(0x1de)]&&(_0x2c8672=-_0x208c64[_0x261e94(0x21b)][_0x261e94(0x18c)]),_0x404400>_0x208c64[_0x261e94(0x21b)][_0x261e94(0x1de)]&&(_0x404400=_0x208c64[_0x261e94(0x21b)][_0x261e94(0x18c)]),_0x54a0ae['lat']={'min':_0x208c64[_0x261e94(0x21b)][_0x261e94(0x21a)](_0x2c8672),'max':_0x208c64[_0x261e94(0x21b)][_0x261e94(0x21a)](_0x404400)},_0x54a0ae;}},_0x506881=_0x82433c(0x8),_0x49db68=_0x82433c['n'](_0x506881),_0x5a640e=_0x82433c(0x9),_0x2ffc09=_0x82433c['n'](_0x5a640e),_0x2b4093=_0x82433c(0x7),_0x47c9e3=_0x82433c['n'](_0x2b4093),_0x49ead2=_0x82433c(0xa),_0x4ef3d1=_0x82433c['n'](_0x49ead2),_0x1805b6=_0x82433c(0xb),_0x4fea57=_0x82433c['n'](_0x1805b6),_0x29ccbb=function(){var _0x3f1d5d=_0x14d98e;function _0x1373f3(_0x86824c,_0xb051df,_0x671c65,_0x239227,_0x448153){_0x88cdcc()(this,_0x1373f3),this['createRenderingTextures'](_0x86824c,_0xb051df),this['createRenderingFramebuffers'](_0x86824c),this['createRenderingPrimitives'](_0x86824c,_0x671c65,_0x239227,_0x448153);}return _0x350da0()(_0x1373f3,[{'key':_0x3f1d5d(0x171),'value':function(_0x741142,_0x31340e){var _0x3acadf=_0x3f1d5d,_0x5f0b90={'context':_0x741142,'width':_0x741142['drawingBufferWidth'],'height':_0x741142[_0x3acadf(0x1b8)],'pixelFormat':_0x208c64[_0x3acadf(0x168)][_0x3acadf(0xde)],'pixelDatatype':_0x208c64[_0x3acadf(0x183)]['UNSIGNED_BYTE']},_0x1f7eee={'context':_0x741142,'width':_0x741142[_0x3acadf(0x1fe)],'height':_0x741142[_0x3acadf(0x1b8)],'pixelFormat':_0x208c64[_0x3acadf(0x168)][_0x3acadf(0x243)],'pixelDatatype':_0x208c64['PixelDatatype'][_0x3acadf(0x206)]},_0x11cc5d={'context':_0x741142,'width':_0x31340e[_0x3acadf(0x17d)][_0x3acadf(0x112)],'height':0x1,'pixelFormat':_0x208c64['PixelFormat']['RGB'],'pixelDatatype':_0x208c64[_0x3acadf(0x183)][_0x3acadf(0x169)],'sampler':new _0x208c64['Sampler']({'minificationFilter':_0x208c64[_0x3acadf(0x1a4)][_0x3acadf(0x165)],'magnificationFilter':_0x208c64[_0x3acadf(0xf7)]['LINEAR']})};this[_0x3acadf(0x22a)]={'segmentsColor':_0x3a788a[_0x3acadf(0x176)](_0x5f0b90),'segmentsDepth':_0x3a788a['createTexture'](_0x1f7eee),'currentTrailsColor':_0x3a788a['createTexture'](_0x5f0b90),'currentTrailsDepth':_0x3a788a[_0x3acadf(0x176)](_0x1f7eee),'nextTrailsColor':_0x3a788a[_0x3acadf(0x176)](_0x5f0b90),'nextTrailsDepth':_0x3a788a[_0x3acadf(0x176)](_0x1f7eee),'colorTable':_0x3a788a['createTexture'](_0x11cc5d,_0x31340e[_0x3acadf(0x17d)][_0x3acadf(0x150)])};}},{'key':'createRenderingFramebuffers','value':function(_0x129bfd){var _0x3d0100=_0x3f1d5d;this['framebuffers']={'segments':_0x3a788a[_0x3d0100(0x1cd)](_0x129bfd,this[_0x3d0100(0x22a)][_0x3d0100(0x253)],this[_0x3d0100(0x22a)][_0x3d0100(0x17b)]),'currentTrails':_0x3a788a['createFramebuffer'](_0x129bfd,this[_0x3d0100(0x22a)][_0x3d0100(0x175)],this[_0x3d0100(0x22a)][_0x3d0100(0x215)]),'nextTrails':_0x3a788a[_0x3d0100(0x1cd)](_0x129bfd,this[_0x3d0100(0x22a)][_0x3d0100(0xdf)],this['textures'][_0x3d0100(0x122)])};}},{'key':_0x3f1d5d(0x202),'value':function(_0xf1b208){var _0x598429=_0x3f1d5d;for(var _0x5d731f=[],_0x58761a=0x0;_0x58761a<_0xf1b208[_0x598429(0x232)];_0x58761a++)for(var _0x35a816=0x0;_0x35a816<_0xf1b208[_0x598429(0x232)];_0x35a816++)for(var _0x4a74eb=0x0;_0x4a74eb<0x4;_0x4a74eb++)_0x5d731f[_0x598429(0x216)](_0x58761a/_0xf1b208[_0x598429(0x232)]),_0x5d731f[_0x598429(0x216)](_0x35a816/_0xf1b208[_0x598429(0x232)]);_0x5d731f=new Float32Array(_0x5d731f);for(var _0xaf4def=[],_0x28dbe5=[-0x1,0x1],_0x2136a5=[-0x1,0x1],_0xca1081=0x0;_0xca1081<_0xf1b208[_0x598429(0x173)];_0xca1081++)for(var _0x4fbd75=0x0;_0x4fbd75<0x2;_0x4fbd75++)for(var _0x20cdc2=0x0;_0x20cdc2<0x2;_0x20cdc2++)_0xaf4def['push'](_0x28dbe5[_0x4fbd75]),_0xaf4def['push'](_0x2136a5[_0x20cdc2]),_0xaf4def[_0x598429(0x216)](0x0);_0xaf4def=new Float32Array(_0xaf4def);for(var _0x16414a=0x6*_0xf1b208[_0x598429(0x173)],_0x200279=new Uint32Array(_0x16414a),_0x226c77=0x0,_0x382c70=0x0,_0x359528=0x0;_0x226c77<_0xf1b208['maxParticles'];_0x226c77++)_0x200279[_0x382c70++]=_0x359528+0x0,_0x200279[_0x382c70++]=_0x359528+0x1,_0x200279[_0x382c70++]=_0x359528+0x2,_0x200279[_0x382c70++]=_0x359528+0x2,_0x200279[_0x382c70++]=_0x359528+0x1,_0x200279[_0x382c70++]=_0x359528+0x3,_0x359528+=0x4;return new _0x208c64['Geometry']({'attributes':new _0x208c64['GeometryAttributes']({'st':new _0x208c64['GeometryAttribute']({'componentDatatype':_0x208c64[_0x598429(0xe6)][_0x598429(0x169)],'componentsPerAttribute':0x2,'values':_0x5d731f}),'normal':new _0x208c64[(_0x598429(0x1f9))]({'componentDatatype':_0x208c64[_0x598429(0xe6)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0xaf4def})}),'indices':_0x200279});}},{'key':_0x3f1d5d(0x146),'value':function(_0x10e247,_0x550d11,_0x1a2ec7,_0x3a0de4){var _0x2434a5=_0x3f1d5d,_0x54ac29=this;this[_0x2434a5(0x238)]={'segments':new _0x2e9a4f({'commandType':_0x2434a5(0x234),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x2434a5(0x202)](_0x550d11),'primitiveType':_0x208c64[_0x2434a5(0x102)][_0x2434a5(0x1a7)],'uniformMap':{'currentParticlesPosition':function(){var _0x352882=_0x2434a5;return _0x3a0de4[_0x352882(0x1d3)][_0x352882(0xfd)];},'postProcessingPosition':function(){var _0x175a1d=_0x2434a5;return _0x3a0de4[_0x175a1d(0x1d3)][_0x175a1d(0x109)];},'postProcessingSpeed':function(){var _0xd0c6e2=_0x2434a5;return _0x3a0de4[_0xd0c6e2(0x1d3)][_0xd0c6e2(0x110)];},'colorTable':function(){var _0x23edfe=_0x2434a5;return _0x54ac29[_0x23edfe(0x22a)]['colorTable'];},'aspect':function(){var _0x518e80=_0x2434a5;return _0x10e247['drawingBufferWidth']/_0x10e247[_0x518e80(0x1b8)];},'pixelSize':function(){var _0x46f93f=_0x2434a5;return _0x1a2ec7[_0x46f93f(0xdd)];},'lineWidth':function(){var _0x3392b2=_0x2434a5;return _0x550d11[_0x3392b2(0x223)];},'particleHeight':function(){var _0x2c56d2=_0x2434a5;return _0x550d11[_0x2c56d2(0x18b)];}},'vertexShaderSource':new _0x208c64[(_0x2434a5(0x13c))]({'sources':[_0x49db68['a']]}),'fragmentShaderSource':new _0x208c64[(_0x2434a5(0x13c))]({'sources':[_0x2ffc09['a']]}),'rawRenderState':_0x3a788a[_0x2434a5(0x1b3)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x2434a5(0x1fc)]['segments'],'autoClear':!0x0}),'trails':new _0x2e9a4f({'commandType':_0x2434a5(0x234),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x3a788a['getFullscreenQuad'](),'primitiveType':_0x208c64[_0x2434a5(0x102)][_0x2434a5(0x1a7)],'uniformMap':{'segmentsColorTexture':function(){var _0x3d583b=_0x2434a5;return _0x54ac29['textures'][_0x3d583b(0x253)];},'segmentsDepthTexture':function(){var _0xae05ac=_0x2434a5;return _0x54ac29[_0xae05ac(0x22a)][_0xae05ac(0x17b)];},'currentTrailsColor':function(){var _0x268065=_0x2434a5;return _0x54ac29[_0x268065(0x1fc)][_0x268065(0x1b2)][_0x268065(0x22e)](0x0);},'trailsDepthTexture':function(){var _0x4c457f=_0x2434a5;return _0x54ac29[_0x4c457f(0x1fc)]['currentTrails'][_0x4c457f(0x11f)];},'fadeOpacity':function(){var _0x3c5d09=_0x2434a5;return _0x550d11[_0x3c5d09(0x1ee)];}},'vertexShaderSource':new _0x208c64['ShaderSource']({'defines':[_0x2434a5(0x185)],'sources':[_0x47c9e3['a']]}),'fragmentShaderSource':new _0x208c64[(_0x2434a5(0x13c))]({'defines':[_0x2434a5(0x199)],'sources':[_0x4ef3d1['a']]}),'rawRenderState':_0x3a788a['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x208c64[_0x2434a5(0x1fb)][_0x2434a5(0xf2)]},'depthMask':!0x0}),'framebuffer':this[_0x2434a5(0x1fc)]['nextTrails'],'autoClear':!0x0,'preExecute':function(){var _0x262f03=_0x2434a5,_0x5021bc;_0x5021bc=_0x54ac29[_0x262f03(0x1fc)][_0x262f03(0x1b2)],_0x54ac29['framebuffers'][_0x262f03(0x1b2)]=_0x54ac29['framebuffers'][_0x262f03(0x22d)],_0x54ac29[_0x262f03(0x1fc)][_0x262f03(0x22d)]=_0x5021bc,_0x54ac29[_0x262f03(0x238)][_0x262f03(0x12f)][_0x262f03(0xf0)][_0x262f03(0x189)]=_0x54ac29[_0x262f03(0x1fc)][_0x262f03(0x22d)],_0x54ac29[_0x262f03(0x238)]['trails'][_0x262f03(0x12b)][_0x262f03(0x189)]=_0x54ac29[_0x262f03(0x1fc)][_0x262f03(0x22d)];}}),'screen':new _0x2e9a4f({'commandType':_0x2434a5(0x234),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x3a788a[_0x2434a5(0x114)](),'primitiveType':_0x208c64[_0x2434a5(0x102)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){var _0x4d4260=_0x2434a5;return _0x54ac29[_0x4d4260(0x1fc)][_0x4d4260(0x22d)][_0x4d4260(0x22e)](0x0);},'trailsDepthTexture':function(){var _0x161f79=_0x2434a5;return _0x54ac29['framebuffers'][_0x161f79(0x22d)][_0x161f79(0x11f)];}},'vertexShaderSource':new _0x208c64[(_0x2434a5(0x13c))]({'defines':[_0x2434a5(0x185)],'sources':[_0x47c9e3['a']]}),'fragmentShaderSource':new _0x208c64[(_0x2434a5(0x13c))]({'defines':[_0x2434a5(0x199)],'sources':[_0x4fea57['a']]}),'rawRenderState':_0x3a788a['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x1373f3;}(),_0x2e01f1=_0x82433c(0xc),_0x5007f5=_0x82433c['n'](_0x2e01f1),_0x2c6493=_0x82433c(0xd),_0x494d32=_0x82433c['n'](_0x2c6493),_0x4abc2c=_0x82433c(0xe),_0x2a2b07=_0x82433c['n'](_0x4abc2c),_0x12a62d=_0x82433c(0xf),_0x647ebd=_0x82433c['n'](_0x12a62d),_0x59d367=_0x82433c(0x10),_0x47f3ac=_0x82433c['n'](_0x59d367),_0x437c9a=function(){var _0x44981c=_0x14d98e;function _0x91c43a(_0x32dd70,_0x385057,_0x161314,_0x30c0d2){var _0x440140=a0_0x2ec8;_0x88cdcc()(this,_0x91c43a),this[_0x440140(0x192)]=_0x385057,this[_0x440140(0x152)](_0x32dd70,_0x385057),this[_0x440140(0x1a1)](_0x32dd70,_0x161314,_0x30c0d2),this[_0x440140(0x1a3)](_0x385057,_0x161314,_0x30c0d2);}return _0x350da0()(_0x91c43a,[{'key':_0x44981c(0x152),'value':function(_0x45b5ca,_0x57fdc6){var _0x4af892=_0x44981c,_0x414de0={'context':_0x45b5ca,'width':_0x57fdc6[_0x4af892(0x250)][_0x4af892(0x178)],'height':_0x57fdc6[_0x4af892(0x250)][_0x4af892(0x193)]*_0x57fdc6[_0x4af892(0x250)][_0x4af892(0x1a8)],'pixelFormat':_0x208c64[_0x4af892(0x168)][_0x4af892(0xdc)],'pixelDatatype':_0x208c64[_0x4af892(0x183)][_0x4af892(0x169)],'flipY':!0x1,'sampler':new _0x208c64[(_0x4af892(0x1fd))]({'minificationFilter':_0x208c64[_0x4af892(0x1a4)]['NEAREST'],'magnificationFilter':_0x208c64[_0x4af892(0xf7)][_0x4af892(0x1d2)]})};this[_0x4af892(0x164)]={'U':_0x3a788a['createTexture'](_0x414de0,_0x57fdc6['U'][_0x4af892(0x150)]),'V':_0x3a788a[_0x4af892(0x176)](_0x414de0,_0x57fdc6['V'][_0x4af892(0x150)])};}},{'key':_0x44981c(0x1a1),'value':function(_0x3fcad9,_0x5f0ca1,_0x4e5b88){var _0x5c9dd0=_0x44981c,_0x506b5d={'context':_0x3fcad9,'width':_0x5f0ca1[_0x5c9dd0(0x232)],'height':_0x5f0ca1[_0x5c9dd0(0x232)],'pixelFormat':_0x208c64['PixelFormat']['RGBA'],'pixelDatatype':_0x208c64[_0x5c9dd0(0x183)][_0x5c9dd0(0x169)],'flipY':!0x1,'sampler':new _0x208c64[(_0x5c9dd0(0x1fd))]({'minificationFilter':_0x208c64[_0x5c9dd0(0x1a4)][_0x5c9dd0(0x1d2)],'magnificationFilter':_0x208c64[_0x5c9dd0(0xf7)][_0x5c9dd0(0x1d2)]})},_0x48b439=this[_0x5c9dd0(0x13a)](_0x5f0ca1['maxParticles'],_0x4e5b88),_0x320244=new Float32Array(0x4*_0x5f0ca1[_0x5c9dd0(0x173)])[_0x5c9dd0(0x1aa)](0x0);this[_0x5c9dd0(0x1d3)]={'particlesWind':_0x3a788a['createTexture'](_0x506b5d),'currentParticlesPosition':_0x3a788a['createTexture'](_0x506b5d,_0x48b439),'nextParticlesPosition':_0x3a788a[_0x5c9dd0(0x176)](_0x506b5d,_0x48b439),'currentParticlesSpeed':_0x3a788a['createTexture'](_0x506b5d,_0x320244),'nextParticlesSpeed':_0x3a788a[_0x5c9dd0(0x176)](_0x506b5d,_0x320244),'postProcessingPosition':_0x3a788a['createTexture'](_0x506b5d,_0x48b439),'postProcessingSpeed':_0x3a788a[_0x5c9dd0(0x176)](_0x506b5d,_0x320244)};}},{'key':_0x44981c(0x13a),'value':function(_0x14e3ac,_0xef8810){var _0x3127c6=_0x44981c;for(var _0xffdd48=new Float32Array(0x4*_0x14e3ac),_0x1b6acb=0x0;_0x1b6acb<_0x14e3ac;_0x1b6acb++)_0xffdd48[0x4*_0x1b6acb]=_0x208c64['Math'][_0x3127c6(0x1d9)](_0xef8810[_0x3127c6(0x1a2)]['x'],_0xef8810[_0x3127c6(0x1a2)]['y']),_0xffdd48[0x4*_0x1b6acb+0x1]=_0x208c64[_0x3127c6(0x21b)][_0x3127c6(0x1d9)](_0xef8810[_0x3127c6(0x182)]['x'],_0xef8810[_0x3127c6(0x182)]['y']),_0xffdd48[0x4*_0x1b6acb+0x2]=_0x208c64[_0x3127c6(0x21b)][_0x3127c6(0x1d9)](this[_0x3127c6(0x192)]['lev']['min'],this[_0x3127c6(0x192)][_0x3127c6(0x1a8)][_0x3127c6(0x1f6)]),_0xffdd48[0x4*_0x1b6acb+0x3]=0x0;return _0xffdd48;}},{'key':_0x44981c(0x1d1),'value':function(){var _0x2333aa=_0x44981c,_0x28bb2f=this;Object[_0x2333aa(0x121)](this[_0x2333aa(0x1d3)])[_0x2333aa(0x127)](function(_0x113ec0){var _0x130dce=_0x2333aa;_0x28bb2f[_0x130dce(0x1d3)][_0x113ec0][_0x130dce(0x1bd)]();});}},{'key':_0x44981c(0x1a3),'value':function(_0x3749fc,_0xb619a,_0x7bcc6e){var _0x3dae41=_0x44981c,_0x2ef5b0=new _0x208c64['Cartesian3'](_0x3749fc[_0x3dae41(0x250)][_0x3dae41(0x178)],_0x3749fc[_0x3dae41(0x250)][_0x3dae41(0x193)],_0x3749fc['dimensions'][_0x3dae41(0x1a8)]),_0x37c16e=new _0x208c64[(_0x3dae41(0x1e3))](_0x3749fc[_0x3dae41(0x178)][_0x3dae41(0x17e)],_0x3749fc[_0x3dae41(0x193)][_0x3dae41(0x17e)],_0x3749fc[_0x3dae41(0x1a8)][_0x3dae41(0x17e)]),_0x559e94=new _0x208c64['Cartesian3'](_0x3749fc['lon']['max'],_0x3749fc[_0x3dae41(0x193)][_0x3dae41(0x1f6)],_0x3749fc['lev'][_0x3dae41(0x1f6)]),_0x3339e1=new _0x208c64[(_0x3dae41(0x1e3))]((_0x559e94['x']-_0x37c16e['x'])/(_0x2ef5b0['x']-0x1),(_0x559e94['y']-_0x37c16e['y'])/(_0x2ef5b0['y']-0x1),_0x2ef5b0['z']>0x1?(_0x559e94['z']-_0x37c16e['z'])/(_0x2ef5b0['z']-0x1):0x1),_0x1b769d=new _0x208c64[(_0x3dae41(0x14e))](_0x3749fc['U'][_0x3dae41(0x17e)],_0x3749fc['U'][_0x3dae41(0x1f6)]),_0x5af638=new _0x208c64[(_0x3dae41(0x14e))](_0x3749fc['V']['min'],_0x3749fc['V'][_0x3dae41(0x1f6)]),_0x1fe858=this;this[_0x3dae41(0x238)]={'getWind':new _0x2e9a4f({'commandType':'Compute','uniformMap':{'U':function(){return _0x1fe858['windTextures']['U'];},'V':function(){var _0x3a78b7=_0x3dae41;return _0x1fe858[_0x3a78b7(0x164)]['V'];},'currentParticlesPosition':function(){var _0x52b6fb=_0x3dae41;return _0x1fe858[_0x52b6fb(0x1d3)][_0x52b6fb(0xfd)];},'dimension':function(){return _0x2ef5b0;},'minimum':function(){return _0x37c16e;},'maximum':function(){return _0x559e94;},'interval':function(){return _0x3339e1;}},'fragmentShaderSource':new _0x208c64[(_0x3dae41(0x13c))]({'sources':[_0x5007f5['a']]}),'outputTexture':this[_0x3dae41(0x1d3)][_0x3dae41(0x148)],'preExecute':function(){var _0x4cc47a=_0x3dae41;_0x1fe858[_0x4cc47a(0x238)]['getWind'][_0x4cc47a(0xf0)]['outputTexture']=_0x1fe858[_0x4cc47a(0x1d3)][_0x4cc47a(0x148)];}}),'updateSpeed':new _0x2e9a4f({'commandType':_0x3dae41(0x1e8),'uniformMap':{'currentParticlesSpeed':function(){return _0x1fe858['particlesTextures']['currentParticlesSpeed'];},'particlesWind':function(){var _0xd0220e=_0x3dae41;return _0x1fe858[_0xd0220e(0x1d3)][_0xd0220e(0x148)];},'uSpeedRange':function(){return _0x1b769d;},'vSpeedRange':function(){return _0x5af638;},'pixelSize':function(){var _0x40847d=_0x3dae41;return _0x7bcc6e[_0x40847d(0xdd)];},'speedFactor':function(){var _0xefe777=_0x3dae41;return _0xb619a[_0xefe777(0x14b)];}},'fragmentShaderSource':new _0x208c64['ShaderSource']({'sources':[_0x494d32['a']]}),'outputTexture':this['particlesTextures'][_0x3dae41(0x248)],'preExecute':function(){var _0x1fd0d1=_0x3dae41,_0x421c74;_0x421c74=_0x1fe858[_0x1fd0d1(0x1d3)][_0x1fd0d1(0x21e)],_0x1fe858['particlesTextures'][_0x1fd0d1(0x21e)]=_0x1fe858[_0x1fd0d1(0x1d3)]['postProcessingSpeed'],_0x1fe858['particlesTextures'][_0x1fd0d1(0x110)]=_0x421c74,_0x1fe858['primitives']['updateSpeed'][_0x1fd0d1(0xf0)][_0x1fd0d1(0xef)]=_0x1fe858[_0x1fd0d1(0x1d3)]['nextParticlesSpeed'];}}),'updatePosition':new _0x2e9a4f({'commandType':_0x3dae41(0x1e8),'uniformMap':{'currentParticlesPosition':function(){var _0x936208=_0x3dae41;return _0x1fe858[_0x936208(0x1d3)][_0x936208(0xfd)];},'currentParticlesSpeed':function(){var _0x1a9337=_0x3dae41;return _0x1fe858['particlesTextures'][_0x1a9337(0x21e)];}},'fragmentShaderSource':new _0x208c64[(_0x3dae41(0x13c))]({'sources':[_0x2a2b07['a']]}),'outputTexture':this[_0x3dae41(0x1d3)][_0x3dae41(0x23a)],'preExecute':function(){var _0x25d1d0=_0x3dae41,_0x2e29cf;_0x2e29cf=_0x1fe858[_0x25d1d0(0x1d3)][_0x25d1d0(0xfd)],_0x1fe858[_0x25d1d0(0x1d3)]['currentParticlesPosition']=_0x1fe858['particlesTextures']['postProcessingPosition'],_0x1fe858['particlesTextures']['postProcessingPosition']=_0x2e29cf,_0x1fe858[_0x25d1d0(0x238)][_0x25d1d0(0x19d)][_0x25d1d0(0xf0)][_0x25d1d0(0xef)]=_0x1fe858['particlesTextures'][_0x25d1d0(0x23a)];}}),'postProcessingPosition':new _0x2e9a4f({'commandType':_0x3dae41(0x1e8),'uniformMap':{'nextParticlesPosition':function(){return _0x1fe858['particlesTextures']['nextParticlesPosition'];},'nextParticlesSpeed':function(){var _0x19b961=_0x3dae41;return _0x1fe858[_0x19b961(0x1d3)][_0x19b961(0x248)];},'lonRange':function(){var _0x5e7bc6=_0x3dae41;return _0x7bcc6e[_0x5e7bc6(0x1a2)];},'latRange':function(){return _0x7bcc6e['latRange'];},'randomCoefficient':function(){var _0x7652ea=_0x3dae41,_0x55fcd3=Math[_0x7652ea(0x23b)]();return _0x55fcd3;},'dropRate':function(){var _0x237dc7=_0x3dae41;return _0xb619a[_0x237dc7(0x1a0)];},'dropRateBump':function(){var _0x653a6c=_0x3dae41;return _0xb619a[_0x653a6c(0x14a)];}},'fragmentShaderSource':new _0x208c64[(_0x3dae41(0x13c))]({'sources':[_0x647ebd['a']]}),'outputTexture':this[_0x3dae41(0x1d3)]['postProcessingPosition'],'preExecute':function(){var _0x5501d1=_0x3dae41;_0x1fe858[_0x5501d1(0x238)][_0x5501d1(0x109)][_0x5501d1(0xf0)][_0x5501d1(0xef)]=_0x1fe858[_0x5501d1(0x1d3)][_0x5501d1(0x109)];}}),'postProcessingSpeed':new _0x2e9a4f({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){var _0xd96150=_0x3dae41;return _0x1fe858['particlesTextures'][_0xd96150(0x109)];},'nextParticlesSpeed':function(){var _0x388433=_0x3dae41;return _0x1fe858[_0x388433(0x1d3)]['nextParticlesSpeed'];}},'fragmentShaderSource':new _0x208c64[(_0x3dae41(0x13c))]({'sources':[_0x47f3ac['a']]}),'outputTexture':this[_0x3dae41(0x1d3)][_0x3dae41(0x110)],'preExecute':function(){var _0x22ded5=_0x3dae41;_0x1fe858['primitives'][_0x22ded5(0x110)]['commandToExecute'][_0x22ded5(0xef)]=_0x1fe858['particlesTextures'][_0x22ded5(0x110)];}})};}}]),_0x91c43a;}(),_0x5b298d=function(){var _0x22692d=_0x14d98e;function _0x31136a(_0x4c1c21,_0x205aed,_0x59d895,_0x13bbda){var _0x2701de=a0_0x2ec8;_0x88cdcc()(this,_0x31136a),this['context']=_0x4c1c21,this[_0x2701de(0x192)]=_0x205aed,this[_0x2701de(0x105)]=_0x59d895,this[_0x2701de(0x200)]=_0x13bbda,this[_0x2701de(0xee)]=new _0x437c9a(this[_0x2701de(0x230)],this['data'],this[_0x2701de(0x105)],this['viewerParameters']),this['particlesRendering']=new _0x29ccbb(this[_0x2701de(0x230)],this[_0x2701de(0x192)],this[_0x2701de(0x105)],this[_0x2701de(0x200)],this[_0x2701de(0xee)]);}return _0x350da0()(_0x31136a,[{'key':_0x22692d(0x130),'value':function(_0x5ee214){var _0x235c57=_0x22692d,_0x38760d=this;this[_0x235c57(0xee)][_0x235c57(0x1d1)](),Object[_0x235c57(0x121)](this[_0x235c57(0xee)]['windTextures'])[_0x235c57(0x127)](function(_0x28dde0){var _0x488b3d=_0x235c57;_0x38760d['particlesComputing'][_0x488b3d(0x164)][_0x28dde0][_0x488b3d(0x1bd)]();}),this[_0x235c57(0x155)][_0x235c57(0x22a)][_0x235c57(0x17d)][_0x235c57(0x1bd)](),Object['keys'](this['particlesRendering'][_0x235c57(0x1fc)])[_0x235c57(0x127)](function(_0x2dd633){var _0x11b109=_0x235c57;_0x38760d[_0x11b109(0x155)][_0x11b109(0x1fc)][_0x2dd633]['destroy']();}),this[_0x235c57(0x230)]=_0x5ee214,this[_0x235c57(0xee)]=new _0x437c9a(this['context'],this['data'],this[_0x235c57(0x105)],this[_0x235c57(0x200)]),this['particlesRendering']=new _0x29ccbb(this[_0x235c57(0x230)],this[_0x235c57(0x192)],this['userInput'],this['viewerParameters'],this[_0x235c57(0xee)]);}},{'key':_0x22692d(0x11d),'value':function(){var _0x5d3373=_0x22692d,_0x438347=this,_0x1f2b50=new _0x208c64[(_0x5d3373(0x14c))]({'color':new _0x208c64[(_0x5d3373(0xf3))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x208c64[_0x5d3373(0x1ec)][_0x5d3373(0x174)]});Object[_0x5d3373(0x121)](this[_0x5d3373(0x155)][_0x5d3373(0x1fc)])['forEach'](function(_0x23bedb){var _0x8557a7=_0x5d3373;_0x1f2b50[_0x8557a7(0x189)]=_0x438347[_0x8557a7(0x155)]['framebuffers'][_0x23bedb],_0x1f2b50[_0x8557a7(0x15a)](_0x438347['context']);});}},{'key':_0x22692d(0x1b4),'value':function(_0x2b214d){var _0x4d624b=_0x22692d;if(this['clearFramebuffers'](),this[_0x4d624b(0xee)]['destroyParticlesTextures'](),this[_0x4d624b(0xee)][_0x4d624b(0x1a1)](this[_0x4d624b(0x230)],this[_0x4d624b(0x105)],this['viewerParameters']),_0x2b214d){var _0x156777=this[_0x4d624b(0x155)]['createSegmentsGeometry'](this[_0x4d624b(0x105)]);this[_0x4d624b(0x155)][_0x4d624b(0x238)][_0x4d624b(0x207)]['geometry']=_0x156777;var _0x24b705=_0x208c64[_0x4d624b(0x1f7)][_0x4d624b(0x1ea)]({'context':this['context'],'geometry':_0x156777,'attributeLocations':this[_0x4d624b(0x155)]['primitives'][_0x4d624b(0x207)][_0x4d624b(0x119)],'bufferUsage':_0x208c64[_0x4d624b(0x1f1)][_0x4d624b(0x217)]});this[_0x4d624b(0x155)][_0x4d624b(0x238)][_0x4d624b(0x207)][_0x4d624b(0xf0)][_0x4d624b(0x123)]=_0x24b705;}}},{'key':'applyUserInput','value':function(_0xee786f){var _0x2675c1=_0x22692d,_0x4db55f=this,_0x57a83f=!0x1;this[_0x2675c1(0x105)][_0x2675c1(0x173)]!=_0xee786f['maxParticles']&&(_0x57a83f=!0x0),Object[_0x2675c1(0x121)](_0xee786f)[_0x2675c1(0x127)](function(_0x59074d){_0x4db55f['userInput'][_0x59074d]=_0xee786f[_0x59074d];}),this[_0x2675c1(0x1b4)](_0x57a83f);}},{'key':_0x22692d(0x220),'value':function(_0x4a9cf8){var _0x330321=_0x22692d,_0xa3e1d3=this;Object[_0x330321(0x121)](_0x4a9cf8)['forEach'](function(_0xbde8c9){_0xa3e1d3['viewerParameters'][_0xbde8c9]=_0x4a9cf8[_0xbde8c9];}),this[_0x330321(0x1b4)](!0x1);}}]),_0x31136a;}();function _0x25f1b3(_0x282449){var _0x1de50f=function(){var _0x550b84=a0_0x2ec8;if(_0x550b84(0x184)==typeof Reflect||!Reflect['construct'])return!0x1;if(Reflect[_0x550b84(0x1bf)]['sham'])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean[_0x550b84(0x136)][_0x550b84(0x1d8)]['call'](Reflect[_0x550b84(0x1bf)](Boolean,[],function(){})),!0x0;}catch(_0xc4542a){return!0x1;}}();return function(){var _0x36496f=a0_0x2ec8,_0x54f192,_0x3fe927=_0x2748f8()(_0x282449);if(_0x1de50f){var _0x6df36c=_0x2748f8()(this)[_0x36496f(0x101)];_0x54f192=Reflect[_0x36496f(0x1bf)](_0x3fe927,arguments,_0x6df36c);}else _0x54f192=_0x3fe927['apply'](this,arguments);return _0x3dd96a()(this,_0x54f192);};}var _0x187810=_0x134dc4[_0x14d98e(0x187)]['BaseLayer'],_0x498587=0x1000,_0x398068=0x64,_0x5c7ee0=0.996,_0x6ab90f=0.003,_0x578a19=0.01,_0x49c099=0.5,_0x338887=0x2,_0x2567b3=function(_0x5c4cc7){var _0x2733da=_0x14d98e;_0x45f369()(_0x41cf6f,_0x5c4cc7);var _0x467b30=_0x25f1b3(_0x41cf6f);function _0x41cf6f(){var _0x30f72f=a0_0x2ec8,_0x186476,_0x19b6e0=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x88cdcc()(this,_0x41cf6f),(_0x186476=_0x467b30[_0x30f72f(0x1b7)](this,_0x19b6e0))[_0x30f72f(0x173)]=_0x498587,_0x186476[_0x30f72f(0x18b)]=_0x398068,_0x186476[_0x30f72f(0x1ee)]=_0x5c7ee0,_0x186476['dropRate']=_0x6ab90f,_0x186476[_0x30f72f(0x14a)]=_0x578a19,_0x186476[_0x30f72f(0x14b)]=_0x49c099,_0x186476[_0x30f72f(0x223)]=_0x338887,_0x19b6e0){for(var _0x5300ea in _0x19b6e0)_0x186476[_0x5300ea]=_0x19b6e0[_0x5300ea];}return _0x186476;}return _0x350da0()(_0x41cf6f,[{'key':_0x2733da(0x187),'get':function(){return this['primitives'];}},{'key':'_mountedHook','value':function(){}},{'key':_0x2733da(0x132),'value':function(){var _0x28d86b=_0x2733da;this['scene']=this[_0x28d86b(0x20e)][_0x28d86b(0x226)],this[_0x28d86b(0x198)]=this['_map'][_0x28d86b(0x198)],this['primitives']=new _0x208c64[(_0x28d86b(0x166))](),this['_map'][_0x28d86b(0x226)][_0x28d86b(0x238)][_0x28d86b(0x21c)](this[_0x28d86b(0x238)]),this['viewerParameters']={'lonRange':new _0x208c64['Cartesian2'](),'latRange':new _0x208c64[(_0x28d86b(0x14e))](),'pixelSize':0x0},this[_0x28d86b(0x219)]=new _0x208c64[(_0x28d86b(0xdb))](_0x208c64[_0x28d86b(0x1e3)]['ZERO'],6314355.63),this['updateViewerParameters']();}},{'key':_0x2733da(0x245),'value':function(){var _0x3ec948=_0x2733da;this[_0x3ec948(0x238)][_0x3ec948(0x1c2)](),this[_0x3ec948(0x20e)][_0x3ec948(0x226)]['primitives'][_0x3ec948(0x21d)](this[_0x3ec948(0x238)]);}},{'key':_0x2733da(0x191),'value':function(_0x50bbef){var _0x2f4673=_0x2733da;this[_0x2f4673(0x167)]=new _0x5b298d(this['scene'][_0x2f4673(0x230)],_0x50bbef,this[_0x2f4673(0x1e6)](),this[_0x2f4673(0x200)]),this[_0x2f4673(0x221)](),this[_0x2f4673(0x159)]();}},{'key':_0x2733da(0x13d),'value':function(_0x2b434e){var _0xc861c3=_0x2733da;if(_0x2b434e){for(var _0x104f06 in _0x2b434e)this[_0x104f06]=_0x2b434e[_0x104f06];}return this['particleSystem'][_0xc861c3(0x242)](this[_0xc861c3(0x1e6)]()),this;}},{'key':_0x2733da(0x1e6),'value':function(){var _0x554628=_0x2733da,_0x4b3603=Math[_0x554628(0x16c)](Math[_0x554628(0x15f)](this['maxParticles']));return this[_0x554628(0x173)]=_0x4b3603*_0x4b3603,{'particlesTextureSize':_0x4b3603,'maxParticles':this['maxParticles'],'particleHeight':this[_0x554628(0x18b)],'fadeOpacity':this[_0x554628(0x1ee)],'dropRate':this[_0x554628(0x1a0)],'dropRateBump':this[_0x554628(0x14a)],'speedFactor':this[_0x554628(0x14b)],'lineWidth':this[_0x554628(0x223)],'globeLayer':this[_0x554628(0x1ed)],'WMS_URL':this['WMS_URL']};}},{'key':_0x2733da(0x221),'value':function(){var _0x530256=_0x2733da;this[_0x530256(0x238)]['add'](this[_0x530256(0x167)]['particlesComputing'][_0x530256(0x238)][_0x530256(0x1c4)]),this[_0x530256(0x238)]['add'](this[_0x530256(0x167)]['particlesComputing'][_0x530256(0x238)]['updateSpeed']),this[_0x530256(0x238)][_0x530256(0x21c)](this[_0x530256(0x167)]['particlesComputing'][_0x530256(0x238)][_0x530256(0x19d)]),this[_0x530256(0x238)][_0x530256(0x21c)](this[_0x530256(0x167)]['particlesComputing']['primitives']['postProcessingPosition']),this[_0x530256(0x238)][_0x530256(0x21c)](this[_0x530256(0x167)]['particlesComputing'][_0x530256(0x238)][_0x530256(0x110)]),this[_0x530256(0x238)][_0x530256(0x21c)](this[_0x530256(0x167)][_0x530256(0x155)][_0x530256(0x238)][_0x530256(0x207)]),this[_0x530256(0x238)]['add'](this[_0x530256(0x167)][_0x530256(0x155)][_0x530256(0x238)][_0x530256(0x12f)]),this[_0x530256(0x238)]['add'](this[_0x530256(0x167)][_0x530256(0x155)][_0x530256(0x238)][_0x530256(0x23e)]);}},{'key':_0x2733da(0x126),'value':function(){var _0x51401e=_0x2733da,_0x3bd8cf=this[_0x51401e(0x198)][_0x51401e(0x103)](this[_0x51401e(0x226)][_0x51401e(0x17f)][_0x51401e(0x252)]);if(!_0x3bd8cf){var _0x3ac2e6=this[_0x51401e(0x20e)][_0x51401e(0xff)]();_0x3bd8cf=_0x208c64[_0x51401e(0x24b)][_0x51401e(0x188)](_0x3ac2e6['xmin'],_0x3ac2e6['ymin'],_0x3ac2e6[_0x51401e(0x1d5)],_0x3ac2e6[_0x51401e(0x1da)]);}var _0x513ee1=_0x3a788a[_0x51401e(0xe5)](_0x3bd8cf);this[_0x51401e(0x200)][_0x51401e(0x1a2)]['x']=_0x513ee1['lon'][_0x51401e(0x17e)],this[_0x51401e(0x200)][_0x51401e(0x1a2)]['y']=_0x513ee1[_0x51401e(0x178)][_0x51401e(0x1f6)],this['viewerParameters']['latRange']['x']=_0x513ee1[_0x51401e(0x193)][_0x51401e(0x17e)],this[_0x51401e(0x200)]['latRange']['y']=_0x513ee1[_0x51401e(0x193)][_0x51401e(0x1f6)];var _0x263526=this[_0x51401e(0x198)][_0x51401e(0x210)](this[_0x51401e(0x219)],this[_0x51401e(0x226)][_0x51401e(0x1fe)],this[_0x51401e(0x226)][_0x51401e(0x1b8)]);_0x263526>0x0&&(this[_0x51401e(0x200)][_0x51401e(0xdd)]=_0x263526);}},{'key':'setupEventListeners','value':function(){var _0x80f7a6=_0x2733da,_0x530dc1=this;this[_0x80f7a6(0x198)]['moveStart'][_0x80f7a6(0x161)](function(){var _0x2f411f=_0x80f7a6;_0x530dc1[_0x2f411f(0x20e)]&&_0x530dc1['show']&&(_0x530dc1[_0x2f411f(0x238)][_0x2f411f(0x10e)]=!0x1);}),this[_0x80f7a6(0x198)]['moveEnd']['addEventListener'](function(){var _0x1b42a=_0x80f7a6;_0x530dc1[_0x1b42a(0x20e)]&&_0x530dc1['show']&&(_0x530dc1['updateViewerParameters'](),_0x530dc1[_0x1b42a(0x167)][_0x1b42a(0x220)](_0x530dc1[_0x1b42a(0x200)]),_0x530dc1[_0x1b42a(0x238)][_0x1b42a(0x10e)]=!0x0);});var _0x19b05a=!0x1;window['addEventListener'](_0x80f7a6(0x115),function(){var _0x3d70c7=_0x80f7a6;_0x530dc1[_0x3d70c7(0x20e)]&&_0x530dc1[_0x3d70c7(0x10e)]&&(_0x19b05a=!0x0,_0x530dc1['primitives'][_0x3d70c7(0x10e)]=!0x1,_0x530dc1[_0x3d70c7(0x238)][_0x3d70c7(0x1c2)]());}),this['scene']['preRender']['addEventListener'](function(){var _0x33659e=_0x80f7a6;_0x530dc1[_0x33659e(0x20e)]&&_0x19b05a&&(_0x530dc1[_0x33659e(0x167)][_0x33659e(0x130)](_0x530dc1['scene'][_0x33659e(0x230)]),_0x19b05a=!0x1,_0x530dc1[_0x33659e(0x221)](),_0x530dc1[_0x33659e(0x238)]['show']=!0x0);});}}]),_0x41cf6f;}(_0x187810);_0x134dc4[_0x14d98e(0x1a5)][_0x14d98e(0x10a)]('wind',_0x2567b3),_0x134dc4[_0x14d98e(0x187)][_0x14d98e(0x24f)]=_0x2567b3;var _0x416e8e=function _0x457308(){var _0x1b1f9d=_0x14d98e;_0x88cdcc()(this,_0x457308),this[_0x1b1f9d(0x229)]=null,this['lat']=null,this[_0x1b1f9d(0x16b)]=null,this['tlat']=null,this[_0x1b1f9d(0x1be)]=null;},_0x4cc380=function(){var _0x4de08e=_0x14d98e;function _0x43129e(_0x2db281,_0x9f6a15){var _0x5d18f5=a0_0x2ec8;_0x88cdcc()(this,_0x43129e),this[_0x5d18f5(0x208)]=_0x2db281['rows'],this['cols']=_0x2db281['cols'],this['xmin']=_0x2db281[_0x5d18f5(0x20b)],this['xmax']=_0x2db281[_0x5d18f5(0x1d5)],this[_0x5d18f5(0x18f)]=_0x2db281[_0x5d18f5(0x18f)],this[_0x5d18f5(0x1da)]=_0x2db281[_0x5d18f5(0x1da)],this[_0x5d18f5(0x1cc)]=[];var _0x5c4f1c=_0x2db281[_0x5d18f5(0x172)],_0x5a79cb=_0x2db281[_0x5d18f5(0x1c0)],_0x16bb2a=!0x1;_0x5c4f1c[_0x5d18f5(0x180)]===this[_0x5d18f5(0x208)]&&_0x5c4f1c[0x0][_0x5d18f5(0x180)]===this['cols']&&(_0x16bb2a=!0x0);for(var _0x372b07=0x0,_0x1d8e29=null,_0x213586=null,_0x442569=0x0;_0x442569<this[_0x5d18f5(0x208)];_0x442569++){_0x1d8e29=[];for(var _0xd5c1da=0x0;_0xd5c1da<this['cols'];_0xd5c1da++,_0x372b07++)_0x213586=_0x16bb2a?this[_0x5d18f5(0xf9)](_0x5c4f1c[_0x442569][_0xd5c1da],_0x5a79cb[_0x442569][_0xd5c1da]):this[_0x5d18f5(0xf9)](_0x5c4f1c[_0x372b07],_0x5a79cb[_0x372b07]),_0x1d8e29[_0x5d18f5(0x216)](_0x213586);this[_0x5d18f5(0x1cc)][_0x5d18f5(0x216)](_0x1d8e29);}_0x9f6a15&&this[_0x5d18f5(0x1cc)][_0x5d18f5(0x10f)]();}return _0x350da0()(_0x43129e,[{'key':_0x4de08e(0x125),'value':function(_0xe1ddb,_0x3dfa82){var _0x4fdbb1=_0x4de08e;return{'x':(_0xe1ddb-this[_0x4fdbb1(0x20b)])/(this[_0x4fdbb1(0x1d5)]-this[_0x4fdbb1(0x20b)])*(this['cols']-0x1),'y':(this[_0x4fdbb1(0x1da)]-_0x3dfa82)/(this[_0x4fdbb1(0x1da)]-this[_0x4fdbb1(0x18f)])*(this[_0x4fdbb1(0x208)]-0x1)};}},{'key':_0x4de08e(0x147),'value':function(_0x2f7ddd,_0x1f8a2b){var _0x38e705=_0x4de08e;if(_0x2f7ddd<0x0||_0x2f7ddd>=this[_0x38e705(0x1c8)]||_0x1f8a2b>=this[_0x38e705(0x208)])return[0x0,0x0,0x0];var _0x54749f,_0x291b2d,_0x5edda9=Math[_0x38e705(0x20a)](_0x2f7ddd),_0x111eab=Math[_0x38e705(0x20a)](_0x1f8a2b);if(_0x5edda9===_0x2f7ddd&&_0x111eab===_0x1f8a2b)return this[_0x38e705(0x1cc)][_0x1f8a2b][_0x2f7ddd];_0x54749f=_0x5edda9+0x1,_0x291b2d=_0x111eab+0x1;var _0x5da1d9=this[_0x38e705(0x147)](_0x5edda9,_0x111eab),_0x5ab839=this[_0x38e705(0x147)](_0x54749f,_0x111eab),_0x296292=this[_0x38e705(0x147)](_0x5edda9,_0x291b2d),_0x28b0a4=this[_0x38e705(0x147)](_0x54749f,_0x291b2d),_0x3c4de1=null;try{_0x3c4de1=this[_0x38e705(0x190)](_0x2f7ddd-_0x5edda9,_0x1f8a2b-_0x111eab,_0x5da1d9,_0x5ab839,_0x296292,_0x28b0a4);}catch(_0x1a1099){console[_0x38e705(0x117)](_0x2f7ddd,_0x1f8a2b);}return _0x3c4de1;}},{'key':_0x4de08e(0x190),'value':function(_0x2a033e,_0x5dc480,_0x5d59c9,_0x1f23f5,_0x432618,_0x207ec9){var _0x51ec8a=0x1-_0x2a033e,_0xb0df31=0x1-_0x5dc480,_0x488f04=_0x51ec8a*_0xb0df31,_0x2cfa79=_0x2a033e*_0xb0df31,_0x549701=_0x51ec8a*_0x5dc480,_0x361b82=_0x2a033e*_0x5dc480,_0x5468ec=_0x5d59c9[0x0]*_0x488f04+_0x1f23f5[0x0]*_0x2cfa79+_0x432618[0x0]*_0x549701+_0x207ec9[0x0]*_0x361b82,_0x2a14fb=_0x5d59c9[0x1]*_0x488f04+_0x1f23f5[0x1]*_0x2cfa79+_0x432618[0x1]*_0x549701+_0x207ec9[0x1]*_0x361b82;return this['_calcUV'](_0x5468ec,_0x2a14fb);}},{'key':_0x4de08e(0xf9),'value':function(_0x331b87,_0x39b161){var _0x1a9c7f=_0x4de08e;return[+_0x331b87,+_0x39b161,Math[_0x1a9c7f(0x15f)](_0x331b87*_0x331b87+_0x39b161*_0x39b161)];}},{'key':_0x4de08e(0x1f0),'value':function(_0xf6f706,_0x2e43c7){var _0x48d84d=_0x4de08e;if(!this[_0x48d84d(0x158)](_0xf6f706,_0x2e43c7))return null;var _0x4514e7=this[_0x48d84d(0x125)](_0xf6f706,_0x2e43c7);return this[_0x48d84d(0x147)](_0x4514e7['x'],_0x4514e7['y']);}},{'key':_0x4de08e(0x158),'value':function(_0x3e73e7,_0x2e4003){var _0x18e0f4=_0x4de08e;return _0x3e73e7>=this[_0x18e0f4(0x20b)]&&_0x3e73e7<=this[_0x18e0f4(0x1d5)]&&_0x2e4003>=this[_0x18e0f4(0x18f)]&&_0x2e4003<=this[_0x18e0f4(0x1da)];}},{'key':_0x4de08e(0x162),'value':function(){var _0x1c4ed4=_0x4de08e,_0x28abb6=_0x238857(this[_0x1c4ed4(0x20b)],this[_0x1c4ed4(0x1d5)]);return{'lat':_0x238857(this[_0x1c4ed4(0x18f)],this[_0x1c4ed4(0x1da)]),'lng':_0x28abb6};}}]),_0x43129e;}();function _0x238857(_0x4fd843,_0x67c7e7){var _0x474b88=_0x14d98e;return _0x4fd843+Math[_0x474b88(0x23b)]()*(_0x67c7e7-_0x4fd843);}function _0x243fb2(_0x83298e){var _0x1555bd=function(){var _0x3ace1a=a0_0x2ec8;if(_0x3ace1a(0x184)==typeof Reflect||!Reflect[_0x3ace1a(0x1bf)])return!0x1;if(Reflect['construct'][_0x3ace1a(0xe2)])return!0x1;if(_0x3ace1a(0x1d4)==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x3ace1a(0x1d8)][_0x3ace1a(0x1b7)](Reflect[_0x3ace1a(0x1bf)](Boolean,[],function(){})),!0x0;}catch(_0x54ca36){return!0x1;}}();return function(){var _0x4bce1d=a0_0x2ec8,_0x432010,_0x18160c=_0x2748f8()(_0x83298e);if(_0x1555bd){var _0x562800=_0x2748f8()(this)['constructor'];_0x432010=Reflect[_0x4bce1d(0x1bf)](_0x18160c,arguments,_0x562800);}else _0x432010=_0x18160c['apply'](this,arguments);return _0x3dd96a()(this,_0x432010);};}var _0x29ba95=function(_0x574c8f){var _0x37bcef=_0x14d98e;_0x45f369()(_0x210ccc,_0x574c8f);var _0xb62f4b=_0x243fb2(_0x210ccc);function _0x210ccc(){var _0x5e9a4b=a0_0x2ec8,_0x41c507,_0x5131bc=arguments[_0x5e9a4b(0x180)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x88cdcc()(this,_0x210ccc),(_0x41c507=_0xb62f4b[_0x5e9a4b(0x1b7)](this,_0x5131bc))['calc_speedRate']=[0x0,0x0],_0x41c507[_0x5e9a4b(0x170)]=[],_0x41c507[_0x5e9a4b(0x19f)]=_0x5131bc[_0x5e9a4b(0x19f)]||0x32,_0x41c507['_particlesNumber']=_0x5131bc[_0x5e9a4b(0x20d)]||0x4e20,_0x41c507[_0x5e9a4b(0x153)]=_0x5131bc['maxAge']||0x78,_0x41c507['frameTime']=0x3e8/(_0x5131bc[_0x5e9a4b(0x108)]||0xa),_0x41c507[_0x5e9a4b(0x1e1)]=_0x208c64['defaultValue'](_0x41c507[_0x5e9a4b(0x246)][_0x5e9a4b(0xea)],!0x1),_0x41c507[_0x5e9a4b(0x203)]=_0x5131bc[_0x5e9a4b(0x203)]||'#ffffff',_0x41c507[_0x5e9a4b(0x223)]=_0x5131bc[_0x5e9a4b(0x223)]||0x1,_0x41c507['fixedHeight']=_0x208c64[_0x5e9a4b(0x233)](_0x5131bc[_0x5e9a4b(0x100)],0x0),_0x41c507[_0x5e9a4b(0x218)]=_0x208c64['defaultValue'](_0x5131bc['reverseY'],!0x1),_0x41c507[_0x5e9a4b(0xf5)]=null,_0x41c507;}return _0x350da0()(_0x210ccc,[{'key':_0x37bcef(0x187),'get':function(){var _0x38e4ef=_0x37bcef;return this[_0x38e4ef(0xf5)];}},{'key':'canvasWidth','get':function(){var _0x1c4566=_0x37bcef;return this['_map'][_0x1c4566(0x226)][_0x1c4566(0xf5)][_0x1c4566(0x1e4)];}},{'key':_0x37bcef(0x24e),'get':function(){var _0x16f98c=_0x37bcef;return this[_0x16f98c(0x20e)][_0x16f98c(0x226)][_0x16f98c(0xf5)]['clientHeight'];}},{'key':'pointerEvents','get':function(){var _0x2be06b=_0x37bcef;return this[_0x2be06b(0x1e1)];},'set':function(_0x109880){var _0x262bb6=_0x37bcef;this[_0x262bb6(0x1e1)]=_0x109880,this['canvas']&&(this['canvas']['style'][_0x262bb6(0x1c1)]=_0x109880?_0x262bb6(0x1b9):_0x262bb6(0x1bb));}},{'key':_0x37bcef(0x19f),'get':function(){return this['_speedRate'];},'set':function(_0x1be79e){var _0x425254=_0x37bcef;this[_0x425254(0x12d)]=0x64*(0x64-(_0x1be79e>0x63?0x63:_0x1be79e)),this[_0x425254(0x145)]();}},{'key':_0x37bcef(0x20d),'get':function(){var _0x4f78c2=_0x37bcef;return this[_0x4f78c2(0x1df)];},'set':function(_0x1c5978){var _0x178cbd=_0x37bcef,_0x520fb2=this;this[_0x178cbd(0x1df)]=_0x1c5978,clearTimeout(this[_0x178cbd(0x1c7)]),this['canrefresh']=setTimeout(function(){var _0x6206c2=_0x178cbd;_0x520fb2[_0x6206c2(0xed)]();},0x1f4);}},{'key':_0x37bcef(0x129),'get':function(){var _0x4457b6=_0x37bcef;return this[_0x4457b6(0x153)];},'set':function(_0x21eff8){var _0x3416e5=_0x37bcef,_0x33a535=this;this['_maxAge']=_0x21eff8,clearTimeout(this[_0x3416e5(0x1c7)]),this[_0x3416e5(0x1c7)]=setTimeout(function(){var _0x2297a0=_0x3416e5;_0x33a535[_0x2297a0(0xed)]();},0x1f4);}},{'key':_0x37bcef(0x192),'get':function(){var _0x195e14=_0x37bcef;return this[_0x195e14(0x1c3)];},'set':function(_0x3ad746){var _0x4d9a95=_0x37bcef;this[_0x4d9a95(0x1b5)](_0x3ad746);}},{'key':'_showHook','value':function(_0x5ef02e){var _0x1395bf=_0x37bcef;_0x5ef02e?this[_0x1395bf(0x132)]():(this[_0x1395bf(0x1c3)]&&(this['options'][_0x1395bf(0x192)]=this[_0x1395bf(0x1c3)]),this['_removedHook']());}},{'key':_0x37bcef(0x16f),'value':function(){}},{'key':_0x37bcef(0x132),'value':function(){var _0x3a360b=_0x37bcef;this[_0x3a360b(0xf5)]=this[_0x3a360b(0x251)](),this[_0x3a360b(0x1dd)]=this[_0x3a360b(0xf5)][_0x3a360b(0x228)]('2d'),this[_0x3a360b(0x19e)](),this['options'][_0x3a360b(0x192)]&&this[_0x3a360b(0x1b5)](this[_0x3a360b(0x246)]['data']);}},{'key':_0x37bcef(0x245),'value':function(){var _0x1c6679=_0x37bcef;this[_0x1c6679(0x17c)](),this[_0x1c6679(0x1ad)](),this[_0x1c6679(0xf5)]&&(this[_0x1c6679(0x20e)]['container'][_0x1c6679(0x157)](this['canvas']),delete this[_0x1c6679(0xf5)]);}},{'key':_0x37bcef(0x251),'value':function(){var _0x4bcb30=_0x37bcef,_0x350645=document[_0x4bcb30(0x1c5)](_0x4bcb30(0xf5));_0x350645[_0x4bcb30(0x15d)][_0x4bcb30(0x1eb)]=_0x4bcb30(0x141),_0x350645[_0x4bcb30(0x15d)][_0x4bcb30(0x13b)]=_0x4bcb30(0x149),_0x350645[_0x4bcb30(0x15d)][_0x4bcb30(0x17a)]=_0x4bcb30(0x149),_0x350645['style'][_0x4bcb30(0x133)]=_0x4bcb30(0x160),_0x350645['style'][_0x4bcb30(0x16d)]=_0x4bcb30(0x160),_0x350645['style'][_0x4bcb30(0xea)]=this[_0x4bcb30(0x1e1)]?'auto':_0x4bcb30(0x1bb),_0x350645['style']['zIndex']=0xa,_0x350645['setAttribute']('id',_0x4bcb30(0x12e)),_0x350645[_0x4bcb30(0x137)]('class',_0x4bcb30(0x12e)),this[_0x4bcb30(0x20e)][_0x4bcb30(0x1c6)][_0x4bcb30(0x10c)](_0x350645);var _0x2af3d5=this[_0x4bcb30(0x20e)][_0x4bcb30(0x226)];return _0x350645[_0x4bcb30(0x133)]=_0x2af3d5[_0x4bcb30(0xf5)]['clientWidth'],_0x350645['height']=_0x2af3d5['canvas'][_0x4bcb30(0x24c)],_0x350645;}},{'key':_0x37bcef(0x115),'value':function(){var _0x221494=_0x37bcef;this['canvas']&&(this['canvas']['width']=this[_0x221494(0x20c)],this[_0x221494(0xf5)]['height']=this[_0x221494(0x24e)]);}},{'key':_0x37bcef(0x19e),'value':function(){var _0x45d942=_0x37bcef,_0x5bb70a=this,_0x409d52=Date[_0x45d942(0x128)]();!function _0x3d9bc4(){var _0x2aed95=_0x45d942;_0x5bb70a[_0x2aed95(0xf1)]=window[_0x2aed95(0x1ff)](_0x3d9bc4);var _0x544cfb=Date[_0x2aed95(0x128)](),_0x2be4d9=_0x544cfb-_0x409d52;_0x2be4d9>_0x5bb70a[_0x2aed95(0x214)]&&(_0x409d52=_0x544cfb-_0x2be4d9%_0x5bb70a['frameTime'],_0x5bb70a[_0x2aed95(0x107)]());}(),window[_0x45d942(0x161)](_0x45d942(0x115),this['resize'][_0x45d942(0x247)](this),!0x1),this[_0x45d942(0x19a)]=!0x1,this['mouse_move']=!0x1,this['_map']['on'](_0x134dc4[_0x45d942(0x154)]['wheel'],this[_0x45d942(0xe0)],this),this[_0x45d942(0x20e)]['on'](_0x134dc4[_0x45d942(0x154)]['mouseDown'],this[_0x45d942(0x231)],this),this[_0x45d942(0x20e)]['on'](_0x134dc4[_0x45d942(0x154)][_0x45d942(0x14f)],this[_0x45d942(0x10b)],this),this[_0x45d942(0x20e)]['on'](_0x134dc4[_0x45d942(0x154)][_0x45d942(0x1e5)],this['_onMouseMoveEvent'],this);}},{'key':'unbindEvent','value':function(){var _0x375cf9=_0x37bcef;window[_0x375cf9(0x186)](this[_0x375cf9(0xf1)]),delete this['animateFrame'],window[_0x375cf9(0x144)]('resize',this[_0x375cf9(0x115)]),this[_0x375cf9(0x20e)]['off'](_0x134dc4['EventType'][_0x375cf9(0x1ca)],this['_onMapWhellEvent'],this),this[_0x375cf9(0x20e)]['off'](_0x134dc4[_0x375cf9(0x154)][_0x375cf9(0xe8)],this[_0x375cf9(0x231)],this),this[_0x375cf9(0x20e)][_0x375cf9(0x20f)](_0x134dc4['EventType'][_0x375cf9(0x14f)],this[_0x375cf9(0x10b)],this),this['_map'][_0x375cf9(0x20f)](_0x134dc4[_0x375cf9(0x154)][_0x375cf9(0x1e5)],this[_0x375cf9(0x142)],this);}},{'key':_0x37bcef(0xe0),'value':function(_0x46b688){var _0x4574be=_0x37bcef,_0x592db4=this;clearTimeout(this[_0x4574be(0x23d)]),this['show']&&this[_0x4574be(0xf5)]&&(this[_0x4574be(0xf5)]['style'][_0x4574be(0x181)]=_0x4574be(0x179),this[_0x4574be(0x23d)]=setTimeout(function(){var _0x302cf6=_0x4574be;_0x592db4[_0x302cf6(0x10e)]&&(_0x592db4[_0x302cf6(0xed)](),_0x592db4[_0x302cf6(0xf5)][_0x302cf6(0x15d)][_0x302cf6(0x181)]='visible');},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0xf6dea0){var _0x553a9a=_0x37bcef;this[_0x553a9a(0x19a)]=!0x0;}},{'key':_0x37bcef(0x142),'value':function(_0xecce0a){var _0x354c32=_0x37bcef;this['show']&&this[_0x354c32(0xf5)]&&this[_0x354c32(0x19a)]&&(this[_0x354c32(0xf5)][_0x354c32(0x15d)][_0x354c32(0x181)]=_0x354c32(0x179),this[_0x354c32(0x1fa)]=!0x0);}},{'key':_0x37bcef(0x10b),'value':function(_0x19dddd){var _0x35343c=_0x37bcef;this[_0x35343c(0x10e)]&&this[_0x35343c(0xf5)]&&(this[_0x35343c(0x19a)]&&this[_0x35343c(0x1fa)]&&this[_0x35343c(0xed)](),this[_0x35343c(0xf5)][_0x35343c(0x15d)][_0x35343c(0x181)]='visible',this['mouse_down']=!0x1,this[_0x35343c(0x1fa)]=!0x1);}},{'key':_0x37bcef(0xed),'value':function(){var _0x54178c=_0x37bcef;this[_0x54178c(0x10e)]&&(this[_0x54178c(0x170)]=[],this[_0x54178c(0x205)]());}},{'key':_0x37bcef(0x1b5),'value':function(_0x114db9){var _0x2f1b1d=_0x37bcef;this[_0x2f1b1d(0x17c)](),this['windData']=_0x114db9,this[_0x2f1b1d(0x1dc)]=new _0x4cc380(this[_0x2f1b1d(0x1c3)],this['reverseY']),this[_0x2f1b1d(0x205)]();}},{'key':'drawWind','value':function(){var _0x35a2c9=_0x37bcef;this[_0x35a2c9(0x145)]();for(var _0x1e356a=0x0;_0x1e356a<this['particlesNumber'];_0x1e356a++){var _0x34d8f2=this['randomParticle'](new _0x416e8e());this[_0x35a2c9(0x170)][_0x35a2c9(0x216)](_0x34d8f2);}this['canvasContext'][_0x35a2c9(0x22c)]=_0x35a2c9(0x118),this[_0x35a2c9(0x1dd)][_0x35a2c9(0x13e)]=0.6,this[_0x35a2c9(0x107)]();}},{'key':_0x37bcef(0x145),'value':function(){var _0xedc879=_0x37bcef;this['windField']&&(this[_0xedc879(0x213)]=[(this[_0xedc879(0x1dc)]['xmax']-this[_0xedc879(0x1dc)][_0xedc879(0x20b)])/this[_0xedc879(0x19f)],(this[_0xedc879(0x1dc)]['ymax']-this[_0xedc879(0x1dc)][_0xedc879(0x18f)])/this['speedRate']]);}},{'key':_0x37bcef(0x107),'value':function(){var _0x154d5e=_0x37bcef,_0x440b11=this;if(this[_0x154d5e(0x10e)]&&!(this[_0x154d5e(0x170)][_0x154d5e(0x180)]<=0x0)){var _0x5623c1=null,_0x2d0c13=null,_0x40032b=null;this['particles'][_0x154d5e(0x127)](function(_0x485abf){var _0x48c64d=_0x154d5e;if(_0x485abf[_0x48c64d(0x1be)]<=0x0&&_0x440b11[_0x48c64d(0x18a)](_0x485abf),_0x485abf['age']>0x0){var _0x24d1ed=_0x485abf[_0x48c64d(0x16b)],_0x584e7c=_0x485abf['tlat'];(_0x40032b=_0x440b11[_0x48c64d(0x1dc)][_0x48c64d(0x1f0)](_0x24d1ed,_0x584e7c))?(_0x5623c1=_0x24d1ed+_0x440b11[_0x48c64d(0x213)][0x0]*_0x40032b[0x0],_0x2d0c13=_0x584e7c+_0x440b11[_0x48c64d(0x213)][0x1]*_0x40032b[0x1],_0x485abf[_0x48c64d(0x229)]=_0x24d1ed,_0x485abf[_0x48c64d(0x193)]=_0x584e7c,_0x485abf[_0x48c64d(0x16b)]=_0x5623c1,_0x485abf[_0x48c64d(0xe1)]=_0x2d0c13,_0x485abf['age']--):_0x485abf[_0x48c64d(0x1be)]=0x0;}}),this[_0x154d5e(0x1e0)]();}}},{'key':'_tomap','value':function(_0x104f90,_0x15f64a,_0xeec721){var _0x5c4d7c=_0x37bcef,_0x129c09=_0x208c64[_0x5c4d7c(0x1e3)][_0x5c4d7c(0x188)](_0x104f90,_0x15f64a,this[_0x5c4d7c(0x100)]),_0x17a623=this[_0x5c4d7c(0x20e)][_0x5c4d7c(0x226)];if(_0x17a623['mode']===_0x208c64['SceneMode'][_0x5c4d7c(0x106)]&&!new _0x208c64['EllipsoidalOccluder'](_0x17a623['globe'][_0x5c4d7c(0x252)],_0x17a623[_0x5c4d7c(0x198)]['positionWC'])[_0x5c4d7c(0xe7)](_0x129c09))return _0xeec721[_0x5c4d7c(0x1be)]=0x0,null;var _0x4cf7a4=_0x208c64[_0x5c4d7c(0x1ab)][_0x5c4d7c(0x236)](this[_0x5c4d7c(0x20e)]['scene'],_0x129c09);return _0x4cf7a4?[_0x4cf7a4['x'],_0x4cf7a4['y']]:null;}},{'key':_0x37bcef(0x1e0),'value':function(){var _0x10612e=_0x37bcef,_0x334a13=this,_0x2bbbe9=this[_0x10612e(0x170)];this['canvasContext'][_0x10612e(0x223)]=_0x334a13[_0x10612e(0x223)],this[_0x10612e(0x1dd)][_0x10612e(0x1af)]=_0x10612e(0x1d6),this[_0x10612e(0x1dd)][_0x10612e(0x139)](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this[_0x10612e(0x1dd)][_0x10612e(0x1af)]=_0x10612e(0x116),this[_0x10612e(0x1dd)]['globalAlpha']=0.9,this['canvasContext'][_0x10612e(0x1ac)](),this[_0x10612e(0x1dd)][_0x10612e(0xfe)]=this[_0x10612e(0x203)];var _0x22ffa6=this['_map'][_0x10612e(0x226)][_0x10612e(0x1cb)]!==_0x208c64['SceneMode'][_0x10612e(0x106)];_0x2bbbe9['forEach'](function(_0x268d27){var _0x40f3d2=_0x10612e,_0x303573=_0x334a13[_0x40f3d2(0x1f2)](_0x268d27[_0x40f3d2(0x229)],_0x268d27[_0x40f3d2(0x193)],_0x268d27),_0x16e5d2=_0x334a13[_0x40f3d2(0x1f2)](_0x268d27[_0x40f3d2(0x16b)],_0x268d27[_0x40f3d2(0xe1)],_0x268d27);if(null!=_0x303573&&null!=_0x16e5d2){var _0x16afb6=Math['abs'](_0x303573[0x0]-_0x16e5d2[0x0]);_0x22ffa6&&_0x16afb6>=_0x334a13['canvasWidth']||(_0x334a13[_0x40f3d2(0x1dd)][_0x40f3d2(0xfa)](_0x303573[0x0],_0x303573[0x1]),_0x334a13[_0x40f3d2(0x1dd)][_0x40f3d2(0x11a)](_0x16e5d2[0x0],_0x16e5d2[0x1]));}}),this[_0x10612e(0x1dd)][_0x10612e(0x12c)]();}},{'key':_0x37bcef(0x18a),'value':function(_0x3671a2){var _0x30e2c2=_0x37bcef;for(var _0x3f2545,_0x1762d3,_0x1a5d67=0x0;_0x1a5d67<0x1e&&(_0x3f2545=this[_0x30e2c2(0x1dc)][_0x30e2c2(0x162)](),!((_0x1762d3=this['windField']['getUVByPoint'](_0x3f2545['lng'],_0x3f2545[_0x30e2c2(0x193)]))&&_0x1762d3[0x2]>0x0));_0x1a5d67++);if(!_0x1762d3)return _0x3671a2;var _0x2628b0=_0x3f2545[_0x30e2c2(0x229)]+this[_0x30e2c2(0x213)][0x0]*_0x1762d3[0x0],_0x426185=_0x3f2545['lat']+this[_0x30e2c2(0x213)][0x1]*_0x1762d3[0x1];return _0x3671a2[_0x30e2c2(0x229)]=_0x3f2545[_0x30e2c2(0x229)],_0x3671a2[_0x30e2c2(0x193)]=_0x3f2545[_0x30e2c2(0x193)],_0x3671a2[_0x30e2c2(0x16b)]=_0x2628b0,_0x3671a2[_0x30e2c2(0xe1)]=_0x426185,_0x3671a2[_0x30e2c2(0x1be)]=Math[_0x30e2c2(0x15c)](Math[_0x30e2c2(0x23b)]()*this[_0x30e2c2(0x129)]),_0x3671a2;}},{'key':_0x37bcef(0x17c),'value':function(){var _0x58f4d1=_0x37bcef;this[_0x58f4d1(0x170)]=[],delete this['windField'],delete this[_0x58f4d1(0x1c3)];}}]),_0x210ccc;}(_0x134dc4[_0x14d98e(0x187)]['BaseLayer']);function _0x597a75(_0x21b396,_0x9db285){var _0x3d5c39=_0x14d98e;return _0x21b396*Math[_0x3d5c39(0x1e2)](_0x208c64[_0x3d5c39(0x21b)]['toRadians'](_0x9db285));}function _0x101332(_0x22700e,_0x536396){var _0x248946=_0x14d98e;return _0x22700e*Math[_0x248946(0x177)](_0x208c64['Math']['toRadians'](_0x536396));}function _0x4a4f6e(_0x368d92,_0x4fd4cc){var _0x17056b=_0x14d98e;return Math['sqrt'](Math[_0x17056b(0x1d0)](_0x368d92,0x2)+Math[_0x17056b(0x1d0)](_0x4fd4cc,0x2));}function _0x452730(_0xb7ea6a,_0x1ef3af){var _0x71c12d=_0x14d98e,_0x35feef=_0x208c64[_0x71c12d(0x21b)]['toDegrees'](Math[_0x71c12d(0x241)](_0x1ef3af,_0xb7ea6a));return _0x35feef+=_0x35feef<0x0?0x168:0x0;}_0x134dc4[_0x14d98e(0x1a5)]['register']('canvasWind',_0x29ba95),_0x134dc4[_0x14d98e(0x187)][_0x14d98e(0x124)]=_0x29ba95,_0x134dc4[_0x14d98e(0xfc)]=_0x3e99bf;}]);}));function a0_0x5f42(){var _0x103fbe=['cos','Cartesian3','clientWidth','mouseMove','getUserInput','depthTest','Compute','destroyObject','fromGeometry','position','Pass','globeLayer','fadeOpacity','getV','getUVByPoint','BufferUsage','_tomap','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','symbol','toStringTag','max','VertexArray','4wFJaij','GeometryAttribute','mouse_move','DepthFunction','framebuffers','Sampler','drawingBufferWidth','requestAnimationFrame','viewerParameters','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','createSegmentsGeometry','color','createCommand','drawWind','UNSIGNED_INT','segments','rows','north','floor','xmin','canvasWidth','particlesNumber','_map','off','getPixelSize','1360080bThaVQ','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','calc_speedRate','frameTime','currentTrailsDepth','push','STATIC_DRAW','reverseY','globeBoundingSphere','toDegrees','Math','add','remove','currentParticlesSpeed','mod','applyViewerParameters','addPrimitives','object','lineWidth','string','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','scene','__esModule','getContext','lng','textures','537418gCGdnQ','fillStyle','nextTrails','getColorTexture','mars3dWind','context','_onMouseDownEvent','particlesTextureSize','defaultValue','Draw','77494HbEpOn','wgs84ToWindowCoordinates','isDestroyed','primitives','fragmentShaderSource','nextParticlesPosition','random','2946axgZuP','refreshTimer','screen','preExecute','rawRenderState','atan2','applyUserInput','DEPTH_COMPONENT','getPrototypeOf','_removedHook','options','bind','nextParticlesSpeed','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','value','Rectangle','clientHeight','Cesium','canvasHeight','WindLayer','dimensions','_createCanvas','ellipsoid','segmentsColor','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','BoundingSphere','LUMINANCE','pixelSize','RGBA','nextTrailsColor','_onMapWhellEvent','tlat','sham','viewport','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','viewRectangleToLonLatRange','ComponentDatatype','isPointVisible','mouseDown','Appearance','pointerEvents','west','SceneMode','redraw','particlesComputing','outputTexture','commandToExecute','animateFrame','ALWAYS','Color','default','canvas','96KwiOPv','TextureMagnificationFilter','744570UyRnMe','_calcUV','moveTo','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','WindUtil','currentParticlesPosition','strokeStyle','getExtent','fixedHeight','constructor','PrimitiveType','computeViewRectangle','south','userInput','SCENE3D','update','frameRate','postProcessingPosition','register','_onMouseUpEvent','appendChild','blending','show','reverse','postProcessingSpeed','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','colorNum','commandList','getFullscreenQuad','resize','lighter','log','rgba(0,\x200,\x200,\x200.97)','attributeLocations','lineTo','shaderProgram','getSpeed','clearFramebuffers','ShaderProgram','depthTexture','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','keys','nextTrailsDepth','vertexArray','CanvasWindLayer','toGridXY','updateViewerParameters','forEach','now','maxAge','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','clearCommand','stroke','_speedRate','canvasWindy','trails','canvasResize','fromCache','_addedHook','width','defined','Texture','prototype','setAttribute','3pkHXyp','fillRect','randomizeParticles','top','ShaderSource','setOptions','globalAlpha','30oojRaE','writable','absolute','_onMouseMoveEvent','256472suhhVu','removeEventListener','_calcStep','createRenderingPrimitives','getUVByXY','particlesWind','0px','dropRateBump','speedFactor','ClearCommand','590oeIxNf','Cartesian2','mouseUp','array','exports','createWindTextures','_maxAge','EventType','particlesRendering','source','removeChild','isInExtent','setupEventListeners','execute','43846rBWqwo','round','style','mars3d-cesium','sqrt','100%','addEventListener','getRandomLatLng','uniformMap','windTextures','LINEAR','PrimitiveCollection','particleSystem','PixelFormat','FLOAT','getDefaultRenderState','tlng','ceil','height','TWO_PI','_mountedHook','particles','createRenderingTextures','udata','maxParticles','OPAQUE','currentTrailsColor','createTexture','sin','lon','hidden','left','segmentsDepth','clear','colorTable','min','globe','length','visibility','latRange','PixelDatatype','undefined','DISABLE_GL_POSITION_LOG_DEPTH','cancelAnimationFrame','layer','fromDegrees','framebuffer','randomParticle','particleHeight','PI_OVER_TWO','__proto__','commandType','ymin','_bilinearInterpolation','setData','data','lat','mars3d','setPrototypeOf','amd','RenderState','camera','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','mouse_down','hasOwnProperty','clampToLatitudeRange','updatePosition','bindEvent','speedRate','dropRate','createParticlesTextures','lonRange','createComputingPrimitives','TextureMinificationFilter','LayerUtil','autoClear','TRIANGLES','lev','Geometry','fill','SceneTransforms','beginPath','unbindEvent','create','globalCompositeOperation','Matrix4','ComputeCommand','currentTrails','createRawRenderState','refreshParticles','updateDate','Module','call','drawingBufferHeight','all','getU','none','vertexShaderSource','destroy','age','construct','vdata','pointer-events','removeAll','windData','getWind','createElement','container','canrefresh','cols','depthMask','wheel','mode','grid','createFramebuffer','primitiveType','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','pow','destroyParticlesTextures','NEAREST','particlesTextures','function','xmax','destination-in','defineProperty','valueOf','randomBetween','ymax','geometry','windField','canvasContext','PI_OVER_THREE','_particlesNumber','_drawLines','_pointerEvents'];a0_0x5f42=function(){return _0x103fbe;};return a0_0x5f42();}