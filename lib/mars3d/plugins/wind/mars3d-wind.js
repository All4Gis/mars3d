function a0_0x3581(_0x17758a,_0x20c289){var _0x2a3065=a0_0x2a30();return a0_0x3581=function(_0x35814b,_0x2d603f){_0x35814b=_0x35814b-0x113;var _0x1da092=_0x2a3065[_0x35814b];return _0x1da092;},a0_0x3581(_0x17758a,_0x20c289);}(function(_0x282d1f,_0x16455c){var _0x243dbd=a0_0x3581,_0x3f5e7f=_0x282d1f();while(!![]){try{var _0x11a356=-parseInt(_0x243dbd(0x12d))/0x1+parseInt(_0x243dbd(0x1e8))/0x2*(parseInt(_0x243dbd(0x1bc))/0x3)+parseInt(_0x243dbd(0x1b3))/0x4+-parseInt(_0x243dbd(0x232))/0x5*(parseInt(_0x243dbd(0x18d))/0x6)+parseInt(_0x243dbd(0x1e7))/0x7*(parseInt(_0x243dbd(0x20d))/0x8)+-parseInt(_0x243dbd(0x115))/0x9+parseInt(_0x243dbd(0x237))/0xa;if(_0x11a356===_0x16455c)break;else _0x3f5e7f['push'](_0x3f5e7f['shift']());}catch(_0x305b0b){_0x3f5e7f['push'](_0x3f5e7f['shift']());}}}(a0_0x2a30,0x5668a),!function(_0x370c47,_0x163f4b){var _0x4960db=a0_0x3581;_0x4960db(0x21f)==typeof exports&&_0x4960db(0x21f)==typeof module?module[_0x4960db(0x26f)]=_0x163f4b(require(_0x4960db(0x1c1)),require(_0x4960db(0x114))):_0x4960db(0x25d)==typeof define&&define['amd']?define(_0x4960db(0x18b),[_0x4960db(0x1c1),_0x4960db(0x114)],_0x163f4b):_0x4960db(0x21f)==typeof exports?exports[_0x4960db(0x18b)]=_0x163f4b(require(_0x4960db(0x1c1)),require(_0x4960db(0x114))):_0x370c47['mars3dWind']=_0x163f4b(_0x370c47[_0x4960db(0x17e)],_0x370c47[_0x4960db(0x114)]);}(window,function(_0x59cb1f,_0x56f195){return function(_0x1f1750){var _0x3a8f3d={};function _0xf8954e(_0x2a5896){var _0x5cbc53=a0_0x3581;if(_0x3a8f3d[_0x2a5896])return _0x3a8f3d[_0x2a5896]['exports'];var _0x57adad=_0x3a8f3d[_0x2a5896]={'i':_0x2a5896,'l':!0x1,'exports':{}};return _0x1f1750[_0x2a5896][_0x5cbc53(0x182)](_0x57adad[_0x5cbc53(0x26f)],_0x57adad,_0x57adad[_0x5cbc53(0x26f)],_0xf8954e),_0x57adad['l']=!0x0,_0x57adad[_0x5cbc53(0x26f)];}return _0xf8954e['m']=_0x1f1750,_0xf8954e['c']=_0x3a8f3d,_0xf8954e['d']=function(_0x25bfdb,_0x444c14,_0x5873d6){var _0x128488=a0_0x3581;_0xf8954e['o'](_0x25bfdb,_0x444c14)||Object[_0x128488(0x147)](_0x25bfdb,_0x444c14,{'enumerable':!0x0,'get':_0x5873d6});},_0xf8954e['r']=function(_0x53f7fe){var _0x52d062=a0_0x3581;_0x52d062(0x180)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x52d062(0x147)](_0x53f7fe,Symbol['toStringTag'],{'value':'Module'}),Object[_0x52d062(0x147)](_0x53f7fe,'__esModule',{'value':!0x0});},_0xf8954e['t']=function(_0x4ac754,_0x4eb234){var _0x599692=a0_0x3581;if(0x1&_0x4eb234&&(_0x4ac754=_0xf8954e(_0x4ac754)),0x8&_0x4eb234)return _0x4ac754;if(0x4&_0x4eb234&&'object'==typeof _0x4ac754&&_0x4ac754&&_0x4ac754[_0x599692(0x247)])return _0x4ac754;var _0x5bdb2e=Object['create'](null);if(_0xf8954e['r'](_0x5bdb2e),Object[_0x599692(0x147)](_0x5bdb2e,_0x599692(0x255),{'enumerable':!0x0,'value':_0x4ac754}),0x2&_0x4eb234&&_0x599692(0x262)!=typeof _0x4ac754){for(var _0x103812 in _0x4ac754)_0xf8954e['d'](_0x5bdb2e,_0x103812,function(_0x521263){return _0x4ac754[_0x521263];}[_0x599692(0x143)](null,_0x103812));}return _0x5bdb2e;},_0xf8954e['n']=function(_0x323cb4){var _0x23ef32=a0_0x3581,_0x7db29e=_0x323cb4&&_0x323cb4[_0x23ef32(0x247)]?function(){return _0x323cb4['default'];}:function(){return _0x323cb4;};return _0xf8954e['d'](_0x7db29e,'a',_0x7db29e),_0x7db29e;},_0xf8954e['o']=function(_0x5eeaf6,_0x2ddaaa){var _0x5863fb=a0_0x3581;return Object[_0x5863fb(0x275)][_0x5863fb(0x20c)][_0x5863fb(0x182)](_0x5eeaf6,_0x2ddaaa);},_0xf8954e['p']='',_0xf8954e(_0xf8954e['s']=0x14);}([function(_0x5d3f3c,_0x89bee8){var _0x3ce406=a0_0x3581;_0x5d3f3c[_0x3ce406(0x26f)]=_0x59cb1f;},function(_0x364a48,_0x4b74b8){_0x364a48['exports']=_0x56f195;},function(_0x1ad4b2,_0x26560c){var _0x2234a4=a0_0x3581;_0x1ad4b2[_0x2234a4(0x26f)]=function(_0x4045c7,_0x2c35fa){var _0x5e46b2=_0x2234a4;if(!(_0x4045c7 instanceof _0x2c35fa))throw new TypeError(_0x5e46b2(0x209));},_0x1ad4b2[_0x2234a4(0x26f)][_0x2234a4(0x255)]=_0x1ad4b2['exports'],_0x1ad4b2[_0x2234a4(0x26f)][_0x2234a4(0x247)]=!0x0;},function(_0x4ad5eb,_0x54c921){var _0xf3ab25=a0_0x3581;function _0x50f331(_0x5cb5b8,_0x2a56b6){var _0x58176d=a0_0x3581;for(var _0x213c29=0x0;_0x213c29<_0x2a56b6['length'];_0x213c29++){var _0x30823b=_0x2a56b6[_0x213c29];_0x30823b[_0x58176d(0x266)]=_0x30823b['enumerable']||!0x1,_0x30823b[_0x58176d(0x1ee)]=!0x0,_0x58176d(0x176)in _0x30823b&&(_0x30823b[_0x58176d(0x20e)]=!0x0),Object[_0x58176d(0x147)](_0x5cb5b8,_0x30823b[_0x58176d(0x154)],_0x30823b);}}_0x4ad5eb[_0xf3ab25(0x26f)]=function(_0x3fff2d,_0x5f084e,_0x37f872){var _0x20a273=_0xf3ab25;return _0x5f084e&&_0x50f331(_0x3fff2d[_0x20a273(0x275)],_0x5f084e),_0x37f872&&_0x50f331(_0x3fff2d,_0x37f872),_0x3fff2d;},_0x4ad5eb[_0xf3ab25(0x26f)][_0xf3ab25(0x255)]=_0x4ad5eb[_0xf3ab25(0x26f)],_0x4ad5eb[_0xf3ab25(0x26f)][_0xf3ab25(0x247)]=!0x0;},function(_0x40f75a,_0x3a2cf8){var _0xa672e3=a0_0x3581;function _0x559cdc(_0x416e9){var _0x5f59bd=a0_0x3581;return _0x40f75a['exports']=_0x559cdc=Object['setPrototypeOf']?Object[_0x5f59bd(0x227)]:function(_0x15fc29){var _0x4e06de=_0x5f59bd;return _0x15fc29[_0x4e06de(0x124)]||Object[_0x4e06de(0x227)](_0x15fc29);},_0x40f75a[_0x5f59bd(0x26f)][_0x5f59bd(0x255)]=_0x40f75a[_0x5f59bd(0x26f)],_0x40f75a[_0x5f59bd(0x26f)][_0x5f59bd(0x247)]=!0x0,_0x559cdc(_0x416e9);}_0x40f75a[_0xa672e3(0x26f)]=_0x559cdc,_0x40f75a[_0xa672e3(0x26f)][_0xa672e3(0x255)]=_0x40f75a['exports'],_0x40f75a['exports'][_0xa672e3(0x247)]=!0x0;},function(_0x46b622,_0x163e39,_0xdb07f4){var _0x104be5=a0_0x3581,_0xdeee61=_0xdb07f4(0x11);_0x46b622[_0x104be5(0x26f)]=function(_0x418edb,_0x397c56){var _0x192766=_0x104be5;if(_0x192766(0x25d)!=typeof _0x397c56&&null!==_0x397c56)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');_0x418edb['prototype']=Object[_0x192766(0x117)](_0x397c56&&_0x397c56[_0x192766(0x275)],{'constructor':{'value':_0x418edb,'writable':!0x0,'configurable':!0x0}}),_0x397c56&&_0xdeee61(_0x418edb,_0x397c56);},_0x46b622[_0x104be5(0x26f)][_0x104be5(0x255)]=_0x46b622['exports'],_0x46b622['exports']['__esModule']=!0x0;},function(_0x2695ab,_0x47c3b5,_0x3a585f){var _0x136f69=a0_0x3581,_0x50a25e=_0x3a585f(0x12)['default'],_0x158b20=_0x3a585f(0x13);_0x2695ab['exports']=function(_0x2e2833,_0x3385af){var _0x26ca78=a0_0x3581;if(_0x3385af&&(_0x26ca78(0x21f)===_0x50a25e(_0x3385af)||_0x26ca78(0x25d)==typeof _0x3385af))return _0x3385af;if(void 0x0!==_0x3385af)throw new TypeError(_0x26ca78(0x1c3));return _0x158b20(_0x2e2833);},_0x2695ab[_0x136f69(0x26f)][_0x136f69(0x255)]=_0x2695ab['exports'],_0x2695ab[_0x136f69(0x26f)][_0x136f69(0x247)]=!0x0;},function(_0x5241b3,_0x205d91){var _0x1a1135=a0_0x3581;_0x5241b3[_0x1a1135(0x26f)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x287242,_0x168fb2){var _0x2f459c=a0_0x3581;_0x287242['exports']=_0x2f459c(0x1cd);},function(_0x18f4dd,_0x25ad89){var _0x3ffc9=a0_0x3581;_0x18f4dd[_0x3ffc9(0x26f)]='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}';},function(_0x1154f1,_0x5abeaa){var _0x3cf03e=a0_0x3581;_0x1154f1['exports']=_0x3cf03e(0x12e);},function(_0x40e04a,_0x4193d9){var _0x13a10b=a0_0x3581;_0x40e04a[_0x13a10b(0x26f)]=_0x13a10b(0x22f);},function(_0x12ff6c,_0x44db2d){var _0x40c4ac=a0_0x3581;_0x12ff6c[_0x40c4ac(0x26f)]='//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}';},function(_0x3eef09,_0x4663ca){var _0xf8d2ef=a0_0x3581;_0x3eef09[_0xf8d2ef(0x26f)]=_0xf8d2ef(0x261);},function(_0x1bd51f,_0x203f29){var _0x413cf0=a0_0x3581;_0x1bd51f[_0x413cf0(0x26f)]=_0x413cf0(0x212);},function(_0x26d7d9,_0x51d9b2){var _0x13cf0e=a0_0x3581;_0x26d7d9[_0x13cf0e(0x26f)]=_0x13cf0e(0x1ff);},function(_0x2b0453,_0x248f66){var _0x28b5f5=a0_0x3581;_0x2b0453['exports']=_0x28b5f5(0x1d5);},function(_0x330e35,_0x4c5d2c){var _0x16c996=a0_0x3581;function _0xdeefda(_0x2df4b1,_0x2ed376){var _0x48fe3f=a0_0x3581;return _0x330e35['exports']=_0xdeefda=Object[_0x48fe3f(0x19d)]||function(_0x3b5157,_0x382824){var _0x4e6dd1=_0x48fe3f;return _0x3b5157[_0x4e6dd1(0x124)]=_0x382824,_0x3b5157;},_0x330e35[_0x48fe3f(0x26f)][_0x48fe3f(0x255)]=_0x330e35[_0x48fe3f(0x26f)],_0x330e35['exports']['__esModule']=!0x0,_0xdeefda(_0x2df4b1,_0x2ed376);}_0x330e35[_0x16c996(0x26f)]=_0xdeefda,_0x330e35['exports'][_0x16c996(0x255)]=_0x330e35[_0x16c996(0x26f)],_0x330e35[_0x16c996(0x26f)][_0x16c996(0x247)]=!0x0;},function(_0x58d4d0,_0xe2a495){var _0x2aa644=a0_0x3581;function _0x23d564(_0x1816e9){var _0x1b937d=a0_0x3581;return _0x1b937d(0x25d)==typeof Symbol&&_0x1b937d(0x1e5)==typeof Symbol['iterator']?(_0x58d4d0[_0x1b937d(0x26f)]=_0x23d564=function(_0x213dc0){return typeof _0x213dc0;},_0x58d4d0[_0x1b937d(0x26f)][_0x1b937d(0x255)]=_0x58d4d0[_0x1b937d(0x26f)],_0x58d4d0['exports'][_0x1b937d(0x247)]=!0x0):(_0x58d4d0[_0x1b937d(0x26f)]=_0x23d564=function(_0xea7975){var _0x52b551=_0x1b937d;return _0xea7975&&_0x52b551(0x25d)==typeof Symbol&&_0xea7975['constructor']===Symbol&&_0xea7975!==Symbol[_0x52b551(0x275)]?'symbol':typeof _0xea7975;},_0x58d4d0[_0x1b937d(0x26f)][_0x1b937d(0x255)]=_0x58d4d0[_0x1b937d(0x26f)],_0x58d4d0[_0x1b937d(0x26f)][_0x1b937d(0x247)]=!0x0),_0x23d564(_0x1816e9);}_0x58d4d0[_0x2aa644(0x26f)]=_0x23d564,_0x58d4d0[_0x2aa644(0x26f)][_0x2aa644(0x255)]=_0x58d4d0[_0x2aa644(0x26f)],_0x58d4d0[_0x2aa644(0x26f)][_0x2aa644(0x247)]=!0x0;},function(_0x41d84d,_0x5a2179){var _0x4ffbb7=a0_0x3581;_0x41d84d[_0x4ffbb7(0x26f)]=function(_0x3783eb){var _0x57baa8=_0x4ffbb7;if(void 0x0===_0x3783eb)throw new ReferenceError(_0x57baa8(0x195));return _0x3783eb;},_0x41d84d[_0x4ffbb7(0x26f)][_0x4ffbb7(0x255)]=_0x41d84d[_0x4ffbb7(0x26f)],_0x41d84d[_0x4ffbb7(0x26f)][_0x4ffbb7(0x247)]=!0x0;},function(_0x28da28,_0x42caaa,_0xaa9ceb){'use strict';var _0x72592d=a0_0x3581;_0xaa9ceb['r'](_0x42caaa),_0xaa9ceb['d'](_0x42caaa,_0x72592d(0x1ca),function(){return _0x13dc3a;}),_0xaa9ceb['d'](_0x42caaa,_0x72592d(0x152),function(){return _0x12c893;}),_0xaa9ceb['d'](_0x42caaa,'WindUtil',function(){return _0x12f3d2;});var _0x12f3d2={};_0xaa9ceb['r'](_0x12f3d2),_0xaa9ceb['d'](_0x12f3d2,'getU',function(){return _0x461991;}),_0xaa9ceb['d'](_0x12f3d2,_0x72592d(0x211),function(){return _0x2493f8;}),_0xaa9ceb['d'](_0x12f3d2,_0x72592d(0x142),function(){return _0x54f575;}),_0xaa9ceb['d'](_0x12f3d2,_0x72592d(0x1f4),function(){return _0x17024d;});var _0x1bf6a9=_0xaa9ceb(0x1),_0x28cd60=_0xaa9ceb(0x2),_0x4531f6=_0xaa9ceb['n'](_0x28cd60),_0x343cbd=_0xaa9ceb(0x3),_0x50319d=_0xaa9ceb['n'](_0x343cbd),_0x975c96=_0xaa9ceb(0x5),_0x4af51b=_0xaa9ceb['n'](_0x975c96),_0x1c2f19=_0xaa9ceb(0x6),_0x590ab8=_0xaa9ceb['n'](_0x1c2f19),_0x9f577=_0xaa9ceb(0x4),_0x3af1c5=_0xaa9ceb['n'](_0x9f577),_0x5a5a77=_0xaa9ceb(0x0),_0x44c832=function(){var _0x350bfa=_0x72592d;function _0x4f486e(_0x20ea2c){var _0x36afbe=a0_0x3581;_0x4531f6()(this,_0x4f486e),this[_0x36afbe(0x17d)]=_0x20ea2c[_0x36afbe(0x17d)],this[_0x36afbe(0x190)]=_0x20ea2c['geometry'],this[_0x36afbe(0x1b7)]=_0x20ea2c[_0x36afbe(0x1b7)],this[_0x36afbe(0x21c)]=_0x20ea2c['primitiveType'],this[_0x36afbe(0x274)]=_0x20ea2c[_0x36afbe(0x274)],this[_0x36afbe(0x133)]=_0x20ea2c['vertexShaderSource'],this[_0x36afbe(0x1fa)]=_0x20ea2c[_0x36afbe(0x1fa)],this[_0x36afbe(0x259)]=_0x20ea2c[_0x36afbe(0x259)],this[_0x36afbe(0x248)]=_0x20ea2c['framebuffer'],this[_0x36afbe(0x184)]=_0x20ea2c[_0x36afbe(0x184)],this[_0x36afbe(0x1ac)]=_0x5a5a77[_0x36afbe(0x1a5)](_0x20ea2c[_0x36afbe(0x1ac)],!0x1),this[_0x36afbe(0x22b)]=_0x20ea2c[_0x36afbe(0x22b)],this['show']=!0x0,this[_0x36afbe(0x149)]=void 0x0,this[_0x36afbe(0x12b)]=void 0x0,this[_0x36afbe(0x1ac)]&&(this[_0x36afbe(0x12b)]=new _0x5a5a77[(_0x36afbe(0x20b))]({'color':new _0x5a5a77[(_0x36afbe(0x265))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':_0x5a5a77['Pass'][_0x36afbe(0x254)]}));}return _0x50319d()(_0x4f486e,[{'key':_0x350bfa(0x120),'value':function(_0xac4cd){var _0x1f3139=_0x350bfa;switch(this[_0x1f3139(0x17d)]){case'Draw':var _0x203066=_0x5a5a77['VertexArray'][_0x1f3139(0x20f)]({'context':_0xac4cd,'geometry':this['geometry'],'attributeLocations':this[_0x1f3139(0x1b7)],'bufferUsage':_0x5a5a77[_0x1f3139(0x1eb)]['STATIC_DRAW']}),_0xd28862=_0x5a5a77['ShaderProgram']['fromCache']({'context':_0xac4cd,'attributeLocations':this[_0x1f3139(0x1b7)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this['fragmentShaderSource']}),_0x4602dc=_0x5a5a77[_0x1f3139(0x23f)][_0x1f3139(0x250)](this[_0x1f3139(0x259)]);return new _0x5a5a77['DrawCommand']({'owner':this,'vertexArray':_0x203066,'primitiveType':this['primitiveType'],'uniformMap':this['uniformMap'],'modelMatrix':_0x5a5a77[_0x1f3139(0x24a)][_0x1f3139(0x14a)],'shaderProgram':_0xd28862,'framebuffer':this[_0x1f3139(0x248)],'renderState':_0x4602dc,'pass':_0x5a5a77[_0x1f3139(0x224)][_0x1f3139(0x254)]});case _0x1f3139(0x251):return new _0x5a5a77['ComputeCommand']({'owner':this,'fragmentShaderSource':this[_0x1f3139(0x1fa)],'uniformMap':this[_0x1f3139(0x274)],'outputTexture':this['outputTexture'],'persists':!0x0});}}},{'key':_0x350bfa(0x1e3),'value':function(_0x2e33d6,_0x4a10fa){var _0x3abca7=_0x350bfa;this[_0x3abca7(0x190)]=_0x4a10fa;var _0x211cca=_0x5a5a77[_0x3abca7(0x1b4)][_0x3abca7(0x20f)]({'context':_0x2e33d6,'geometry':this[_0x3abca7(0x190)],'attributeLocations':this[_0x3abca7(0x1b7)],'bufferUsage':_0x5a5a77[_0x3abca7(0x1eb)][_0x3abca7(0x15a)]});this[_0x3abca7(0x149)][_0x3abca7(0x128)]=_0x211cca;}},{'key':_0x350bfa(0x279),'value':function(_0x59fb23){var _0x5a1c32=_0x350bfa;this['show']&&_0x59fb23[_0x5a1c32(0x1cf)]==_0x5a5a77[_0x5a1c32(0x1c6)][_0x5a1c32(0x25a)]&&(_0x5a5a77[_0x5a1c32(0x1f2)](this[_0x5a1c32(0x149)])||(this[_0x5a1c32(0x149)]=this[_0x5a1c32(0x120)](_0x59fb23[_0x5a1c32(0x125)])),_0x5a5a77[_0x5a1c32(0x1f2)](this['preExecute'])&&this[_0x5a1c32(0x22b)](),_0x5a5a77['defined'](this['clearCommand'])&&_0x59fb23[_0x5a1c32(0x13b)][_0x5a1c32(0x19c)](this[_0x5a1c32(0x12b)]),_0x59fb23[_0x5a1c32(0x13b)][_0x5a1c32(0x19c)](this[_0x5a1c32(0x149)]));}},{'key':'isDestroyed','value':function(){return!0x1;}},{'key':_0x350bfa(0x21a),'value':function(){var _0x33959b=_0x350bfa;return _0x5a5a77[_0x33959b(0x1f2)](this[_0x33959b(0x149)])&&(this['commandToExecute'][_0x33959b(0x1d0)]=this[_0x33959b(0x149)]['shaderProgram']&&this[_0x33959b(0x149)]['shaderProgram']['destroy']()),_0x5a5a77['destroyObject'](this);}}]),_0x4f486e;}(),_0x1cea77={'getFullscreenQuad':function(){var _0x56b9a2=_0x72592d;return new _0x5a5a77[(_0x56b9a2(0x135))]({'attributes':new _0x5a5a77['GeometryAttributes']({'position':new _0x5a5a77[(_0x56b9a2(0x1c8))]({'componentDatatype':_0x5a5a77[_0x56b9a2(0x1f9)][_0x56b9a2(0x12a)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x5a5a77[(_0x56b9a2(0x1c8))]({'componentDatatype':_0x5a5a77[_0x56b9a2(0x1f9)][_0x56b9a2(0x12a)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x5d1c67,_0xaafe66){var _0x4b3e2e=_0x72592d;if(_0x5a5a77['defined'](_0xaafe66)){var _0x240ffd={};_0x240ffd['arrayBufferView']=_0xaafe66,_0x5d1c67[_0x4b3e2e(0x1fb)]=_0x240ffd;}return new _0x5a5a77[(_0x4b3e2e(0x219))](_0x5d1c67);},'createFramebuffer':function(_0x268788,_0x2cdc5f,_0x36bcce){return new _0x5a5a77['Framebuffer']({'context':_0x268788,'colorTextures':[_0x2cdc5f],'depthTexture':_0x36bcce});},'createRawRenderState':function(_0x23810c){var _0x37607c=_0x72592d,_0x36f706={'viewport':_0x23810c[_0x37607c(0x188)],'depthTest':_0x23810c[_0x37607c(0x13e)],'depthMask':_0x23810c['depthMask'],'blending':_0x23810c[_0x37607c(0x13c)]};return _0x5a5a77[_0x37607c(0x17b)][_0x37607c(0x141)](!0x0,!0x1,_0x36f706);},'viewRectangleToLonLatRange':function(_0x131fa6){var _0x4ebc0a=_0x72592d,_0x360abd,_0x24f3e8,_0x2a07a5={},_0x14af28=_0x5a5a77[_0x4ebc0a(0x1b1)]['mod'](_0x131fa6[_0x4ebc0a(0x1fd)],_0x5a5a77['Math'][_0x4ebc0a(0x1a4)]),_0x334b52=_0x5a5a77[_0x4ebc0a(0x1b1)][_0x4ebc0a(0x123)](_0x131fa6[_0x4ebc0a(0x272)],_0x5a5a77['Math']['TWO_PI']),_0x5ef020=_0x131fa6[_0x4ebc0a(0x15f)];_0x5ef020>_0x5a5a77[_0x4ebc0a(0x1b1)][_0x4ebc0a(0x14f)]?(_0x360abd=0x0,_0x24f3e8=_0x5a5a77['Math'][_0x4ebc0a(0x1a4)]):_0x334b52-_0x14af28<_0x5ef020?(_0x360abd=_0x14af28,_0x24f3e8=_0x14af28+_0x5ef020):(_0x360abd=_0x14af28,_0x24f3e8=_0x334b52),_0x2a07a5[_0x4ebc0a(0x240)]={'min':_0x5a5a77['Math'][_0x4ebc0a(0x23a)](_0x360abd),'max':_0x5a5a77['Math'][_0x4ebc0a(0x23a)](_0x24f3e8)};var _0x294971=_0x131fa6[_0x4ebc0a(0x1af)],_0x75ac0d=_0x131fa6['north'],_0x58927f=_0x131fa6[_0x4ebc0a(0x15d)],_0x6d34a7=_0x58927f>_0x5a5a77['Math']['PI']/0xc?_0x58927f/0x2:0x0,_0x3b9e4f=_0x5a5a77[_0x4ebc0a(0x1b1)][_0x4ebc0a(0x1bf)](_0x294971-_0x6d34a7),_0x30deaa=_0x5a5a77['Math']['clampToLatitudeRange'](_0x75ac0d+_0x6d34a7);return _0x3b9e4f<-_0x5a5a77[_0x4ebc0a(0x1b1)]['PI_OVER_THREE']&&(_0x3b9e4f=-_0x5a5a77['Math'][_0x4ebc0a(0x1b9)]),_0x30deaa>_0x5a5a77[_0x4ebc0a(0x1b1)][_0x4ebc0a(0x252)]&&(_0x30deaa=_0x5a5a77['Math'][_0x4ebc0a(0x1b9)]),_0x2a07a5[_0x4ebc0a(0x1e1)]={'min':_0x5a5a77['Math']['toDegrees'](_0x3b9e4f),'max':_0x5a5a77['Math'][_0x4ebc0a(0x23a)](_0x30deaa)},_0x2a07a5;}},_0x383734=_0xaa9ceb(0x8),_0x5b4ad9=_0xaa9ceb['n'](_0x383734),_0x39bf0b=_0xaa9ceb(0x9),_0x112cd2=_0xaa9ceb['n'](_0x39bf0b),_0x311a62=_0xaa9ceb(0x7),_0x56369b=_0xaa9ceb['n'](_0x311a62),_0x5fc80c=_0xaa9ceb(0xa),_0x4d0712=_0xaa9ceb['n'](_0x5fc80c),_0x2088e6=_0xaa9ceb(0xb),_0x3097dc=_0xaa9ceb['n'](_0x2088e6),_0x1b39f9=function(){var _0x261a25=_0x72592d;function _0xade158(_0x1d39ad,_0x246e0e,_0x5f32f8,_0x7b58c0,_0x25a2a2){var _0x1c743b=a0_0x3581;_0x4531f6()(this,_0xade158),this[_0x1c743b(0x1ce)](_0x1d39ad,_0x246e0e),this[_0x1c743b(0x269)](_0x1d39ad),this['createRenderingPrimitives'](_0x1d39ad,_0x5f32f8,_0x7b58c0,_0x25a2a2);}return _0x50319d()(_0xade158,[{'key':_0x261a25(0x1ce),'value':function(_0x4c5bc1,_0x5d2007){var _0x34a05c=_0x261a25,_0xdfa607={'context':_0x4c5bc1,'width':_0x4c5bc1[_0x34a05c(0x218)],'height':_0x4c5bc1[_0x34a05c(0x216)],'pixelFormat':_0x5a5a77[_0x34a05c(0x170)][_0x34a05c(0x1aa)],'pixelDatatype':_0x5a5a77['PixelDatatype'][_0x34a05c(0x167)]},_0x56e4c6={'context':_0x4c5bc1,'width':_0x4c5bc1[_0x34a05c(0x218)],'height':_0x4c5bc1[_0x34a05c(0x216)],'pixelFormat':_0x5a5a77['PixelFormat']['DEPTH_COMPONENT'],'pixelDatatype':_0x5a5a77[_0x34a05c(0x16c)][_0x34a05c(0x26a)]},_0x184f94={'context':_0x4c5bc1,'width':_0x5d2007[_0x34a05c(0x158)][_0x34a05c(0x1f1)],'height':0x1,'pixelFormat':_0x5a5a77['PixelFormat'][_0x34a05c(0x23d)],'pixelDatatype':_0x5a5a77['PixelDatatype'][_0x34a05c(0x12a)],'sampler':new _0x5a5a77[(_0x34a05c(0x18c))]({'minificationFilter':_0x5a5a77[_0x34a05c(0x271)]['LINEAR'],'magnificationFilter':_0x5a5a77[_0x34a05c(0x258)][_0x34a05c(0x223)]})};this[_0x34a05c(0x214)]={'segmentsColor':_0x1cea77[_0x34a05c(0x1ab)](_0xdfa607),'segmentsDepth':_0x1cea77[_0x34a05c(0x1ab)](_0x56e4c6),'currentTrailsColor':_0x1cea77[_0x34a05c(0x1ab)](_0xdfa607),'currentTrailsDepth':_0x1cea77[_0x34a05c(0x1ab)](_0x56e4c6),'nextTrailsColor':_0x1cea77['createTexture'](_0xdfa607),'nextTrailsDepth':_0x1cea77[_0x34a05c(0x1ab)](_0x56e4c6),'colorTable':_0x1cea77[_0x34a05c(0x1ab)](_0x184f94,_0x5d2007[_0x34a05c(0x158)]['array'])};}},{'key':_0x261a25(0x269),'value':function(_0x1fc795){var _0x3411f3=_0x261a25;this[_0x3411f3(0x24b)]={'segments':_0x1cea77['createFramebuffer'](_0x1fc795,this[_0x3411f3(0x214)][_0x3411f3(0x1be)],this[_0x3411f3(0x214)][_0x3411f3(0x145)]),'currentTrails':_0x1cea77[_0x3411f3(0x127)](_0x1fc795,this['textures'][_0x3411f3(0x139)],this['textures'][_0x3411f3(0x129)]),'nextTrails':_0x1cea77['createFramebuffer'](_0x1fc795,this[_0x3411f3(0x214)]['nextTrailsColor'],this[_0x3411f3(0x214)]['nextTrailsDepth'])};}},{'key':_0x261a25(0x1e6),'value':function(_0x29f8b3){var _0x1df632=_0x261a25;for(var _0x2c0f13=[],_0x4b64ce=0x0;_0x4b64ce<_0x29f8b3[_0x1df632(0x1b6)];_0x4b64ce++)for(var _0x326784=0x0;_0x326784<_0x29f8b3[_0x1df632(0x1b6)];_0x326784++)for(var _0x38cc99=0x0;_0x38cc99<0x4;_0x38cc99++)_0x2c0f13['push'](_0x4b64ce/_0x29f8b3[_0x1df632(0x1b6)]),_0x2c0f13[_0x1df632(0x19c)](_0x326784/_0x29f8b3[_0x1df632(0x1b6)]);_0x2c0f13=new Float32Array(_0x2c0f13);for(var _0x10c268=[],_0x514e18=[-0x1,0x1],_0x3fb069=[-0x1,0x1],_0x2d01a3=0x0;_0x2d01a3<_0x29f8b3['maxParticles'];_0x2d01a3++)for(var _0x4d35f5=0x0;_0x4d35f5<0x2;_0x4d35f5++)for(var _0x3a74a3=0x0;_0x3a74a3<0x2;_0x3a74a3++)_0x10c268[_0x1df632(0x19c)](_0x514e18[_0x4d35f5]),_0x10c268[_0x1df632(0x19c)](_0x3fb069[_0x3a74a3]),_0x10c268[_0x1df632(0x19c)](0x0);_0x10c268=new Float32Array(_0x10c268);for(var _0x1a0f6e=0x6*_0x29f8b3['maxParticles'],_0x162273=new Uint32Array(_0x1a0f6e),_0x1ff883=0x0,_0x50a489=0x0,_0x2ad8e1=0x0;_0x1ff883<_0x29f8b3['maxParticles'];_0x1ff883++)_0x162273[_0x50a489++]=_0x2ad8e1+0x0,_0x162273[_0x50a489++]=_0x2ad8e1+0x1,_0x162273[_0x50a489++]=_0x2ad8e1+0x2,_0x162273[_0x50a489++]=_0x2ad8e1+0x2,_0x162273[_0x50a489++]=_0x2ad8e1+0x1,_0x162273[_0x50a489++]=_0x2ad8e1+0x3,_0x2ad8e1+=0x4;return new _0x5a5a77[(_0x1df632(0x135))]({'attributes':new _0x5a5a77[(_0x1df632(0x282))]({'st':new _0x5a5a77[(_0x1df632(0x1c8))]({'componentDatatype':_0x5a5a77[_0x1df632(0x1f9)][_0x1df632(0x12a)],'componentsPerAttribute':0x2,'values':_0x2c0f13}),'normal':new _0x5a5a77[(_0x1df632(0x1c8))]({'componentDatatype':_0x5a5a77['ComponentDatatype'][_0x1df632(0x12a)],'componentsPerAttribute':0x3,'values':_0x10c268})}),'indices':_0x162273});}},{'key':_0x261a25(0x1fe),'value':function(_0x20e110,_0x424703,_0x4df413,_0x517b88){var _0x44886a=_0x261a25,_0x4c1cf7=this;this[_0x44886a(0x1dc)]={'segments':new _0x44c832({'commandType':_0x44886a(0x163),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x44886a(0x1e6)](_0x424703),'primitiveType':_0x5a5a77['PrimitiveType'][_0x44886a(0x1fc)],'uniformMap':{'currentParticlesPosition':function(){var _0xef6e16=_0x44886a;return _0x517b88['particlesTextures'][_0xef6e16(0x175)];},'postProcessingPosition':function(){var _0x20029a=_0x44886a;return _0x517b88['particlesTextures'][_0x20029a(0x183)];},'postProcessingSpeed':function(){var _0x45155b=_0x44886a;return _0x517b88[_0x45155b(0x22e)]['postProcessingSpeed'];},'colorTable':function(){return _0x4c1cf7['textures']['colorTable'];},'aspect':function(){var _0x2a52ef=_0x44886a;return _0x20e110[_0x2a52ef(0x218)]/_0x20e110[_0x2a52ef(0x216)];},'pixelSize':function(){var _0x49bbf1=_0x44886a;return _0x4df413[_0x49bbf1(0x1d9)];},'lineWidth':function(){var _0x6270c0=_0x44886a;return _0x424703[_0x6270c0(0x231)];},'particleHeight':function(){var _0x1599ca=_0x44886a;return _0x424703[_0x1599ca(0x24f)];}},'vertexShaderSource':new _0x5a5a77[(_0x44886a(0x14e))]({'sources':[_0x5b4ad9['a']]}),'fragmentShaderSource':new _0x5a5a77[(_0x44886a(0x14e))]({'sources':[_0x112cd2['a']]}),'rawRenderState':_0x1cea77[_0x44886a(0x280)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x44886a(0x24b)]['segments'],'autoClear':!0x0}),'trails':new _0x44c832({'commandType':_0x44886a(0x163),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x1cea77['getFullscreenQuad'](),'primitiveType':_0x5a5a77[_0x44886a(0x14c)][_0x44886a(0x1fc)],'uniformMap':{'segmentsColorTexture':function(){var _0x2205e2=_0x44886a;return _0x4c1cf7[_0x2205e2(0x214)][_0x2205e2(0x1be)];},'segmentsDepthTexture':function(){var _0x1ffa76=_0x44886a;return _0x4c1cf7['textures'][_0x1ffa76(0x145)];},'currentTrailsColor':function(){var _0x323d1f=_0x44886a;return _0x4c1cf7[_0x323d1f(0x24b)]['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x265d4f=_0x44886a;return _0x4c1cf7[_0x265d4f(0x24b)][_0x265d4f(0x278)][_0x265d4f(0x13d)];},'fadeOpacity':function(){var _0x25a074=_0x44886a;return _0x424703[_0x25a074(0x168)];}},'vertexShaderSource':new _0x5a5a77[(_0x44886a(0x14e))]({'defines':[_0x44886a(0x257)],'sources':[_0x56369b['a']]}),'fragmentShaderSource':new _0x5a5a77[(_0x44886a(0x14e))]({'defines':[_0x44886a(0x210)],'sources':[_0x4d0712['a']]}),'rawRenderState':_0x1cea77['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x5a5a77[_0x44886a(0x194)][_0x44886a(0x155)]},'depthMask':!0x0}),'framebuffer':this['framebuffers']['nextTrails'],'autoClear':!0x0,'preExecute':function(){var _0x284baf=_0x44886a,_0x3d6635;_0x3d6635=_0x4c1cf7['framebuffers'][_0x284baf(0x278)],_0x4c1cf7[_0x284baf(0x24b)][_0x284baf(0x278)]=_0x4c1cf7[_0x284baf(0x24b)][_0x284baf(0x11f)],_0x4c1cf7[_0x284baf(0x24b)][_0x284baf(0x11f)]=_0x3d6635,_0x4c1cf7[_0x284baf(0x1dc)][_0x284baf(0x146)][_0x284baf(0x149)][_0x284baf(0x248)]=_0x4c1cf7['framebuffers'][_0x284baf(0x11f)],_0x4c1cf7[_0x284baf(0x1dc)][_0x284baf(0x146)]['clearCommand'][_0x284baf(0x248)]=_0x4c1cf7[_0x284baf(0x24b)][_0x284baf(0x11f)];}}),'screen':new _0x44c832({'commandType':_0x44886a(0x163),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x1cea77['getFullscreenQuad'](),'primitiveType':_0x5a5a77[_0x44886a(0x14c)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){var _0x24b066=_0x44886a;return _0x4c1cf7[_0x24b066(0x24b)]['nextTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x3d579c=_0x44886a;return _0x4c1cf7[_0x3d579c(0x24b)]['nextTrails'][_0x3d579c(0x13d)];}},'vertexShaderSource':new _0x5a5a77[(_0x44886a(0x14e))]({'defines':[_0x44886a(0x257)],'sources':[_0x56369b['a']]}),'fragmentShaderSource':new _0x5a5a77['ShaderSource']({'defines':[_0x44886a(0x210)],'sources':[_0x3097dc['a']]}),'rawRenderState':_0x1cea77['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0xade158;}(),_0x5e319f=_0xaa9ceb(0xc),_0x4a4d23=_0xaa9ceb['n'](_0x5e319f),_0x444a67=_0xaa9ceb(0xd),_0x3efc05=_0xaa9ceb['n'](_0x444a67),_0xad2695=_0xaa9ceb(0xe),_0x3d341f=_0xaa9ceb['n'](_0xad2695),_0x7e744e=_0xaa9ceb(0xf),_0x2cba09=_0xaa9ceb['n'](_0x7e744e),_0x24eaff=_0xaa9ceb(0x10),_0x554494=_0xaa9ceb['n'](_0x24eaff),_0x281804=function(){var _0x28b261=_0x72592d;function _0xdd4825(_0x4af836,_0x23b8f4,_0x44b988,_0x1c7ec1){var _0x307456=a0_0x3581;_0x4531f6()(this,_0xdd4825),this['data']=_0x23b8f4,this[_0x307456(0x1e2)](_0x4af836,_0x23b8f4),this[_0x307456(0x151)](_0x4af836,_0x44b988,_0x1c7ec1),this['createComputingPrimitives'](_0x23b8f4,_0x44b988,_0x1c7ec1);}return _0x50319d()(_0xdd4825,[{'key':_0x28b261(0x1e2),'value':function(_0x46ffbc,_0x380348){var _0x3e3995=_0x28b261,_0x46d5ef={'context':_0x46ffbc,'width':_0x380348[_0x3e3995(0x208)][_0x3e3995(0x240)],'height':_0x380348[_0x3e3995(0x208)][_0x3e3995(0x1e1)]*_0x380348[_0x3e3995(0x208)]['lev'],'pixelFormat':_0x5a5a77['PixelFormat']['LUMINANCE'],'pixelDatatype':_0x5a5a77[_0x3e3995(0x16c)][_0x3e3995(0x12a)],'flipY':!0x1,'sampler':new _0x5a5a77[(_0x3e3995(0x18c))]({'minificationFilter':_0x5a5a77[_0x3e3995(0x271)]['NEAREST'],'magnificationFilter':_0x5a5a77[_0x3e3995(0x258)][_0x3e3995(0x260)]})};this[_0x3e3995(0x268)]={'U':_0x1cea77['createTexture'](_0x46d5ef,_0x380348['U'][_0x3e3995(0x19a)]),'V':_0x1cea77['createTexture'](_0x46d5ef,_0x380348['V'][_0x3e3995(0x19a)])};}},{'key':_0x28b261(0x151),'value':function(_0x1054ac,_0x1b3f22,_0x255067){var _0x44ccce=_0x28b261,_0xd23d76={'context':_0x1054ac,'width':_0x1b3f22['particlesTextureSize'],'height':_0x1b3f22[_0x44ccce(0x1b6)],'pixelFormat':_0x5a5a77['PixelFormat']['RGBA'],'pixelDatatype':_0x5a5a77[_0x44ccce(0x16c)]['FLOAT'],'flipY':!0x1,'sampler':new _0x5a5a77['Sampler']({'minificationFilter':_0x5a5a77[_0x44ccce(0x271)][_0x44ccce(0x260)],'magnificationFilter':_0x5a5a77[_0x44ccce(0x258)][_0x44ccce(0x260)]})},_0x2eb9a4=this['randomizeParticles'](_0x1b3f22[_0x44ccce(0x1da)],_0x255067),_0x251c96=new Float32Array(0x4*_0x1b3f22[_0x44ccce(0x1da)])[_0x44ccce(0x171)](0x0);this[_0x44ccce(0x22e)]={'particlesWind':_0x1cea77[_0x44ccce(0x1ab)](_0xd23d76),'currentParticlesPosition':_0x1cea77[_0x44ccce(0x1ab)](_0xd23d76,_0x2eb9a4),'nextParticlesPosition':_0x1cea77[_0x44ccce(0x1ab)](_0xd23d76,_0x2eb9a4),'currentParticlesSpeed':_0x1cea77[_0x44ccce(0x1ab)](_0xd23d76,_0x251c96),'nextParticlesSpeed':_0x1cea77['createTexture'](_0xd23d76,_0x251c96),'postProcessingPosition':_0x1cea77[_0x44ccce(0x1ab)](_0xd23d76,_0x2eb9a4),'postProcessingSpeed':_0x1cea77[_0x44ccce(0x1ab)](_0xd23d76,_0x251c96)};}},{'key':'randomizeParticles','value':function(_0x5cc7e5,_0x3fc16e){var _0xc79934=_0x28b261;for(var _0x5e064d=new Float32Array(0x4*_0x5cc7e5),_0x3e91d2=0x0;_0x3e91d2<_0x5cc7e5;_0x3e91d2++)_0x5e064d[0x4*_0x3e91d2]=_0x5a5a77[_0xc79934(0x1b1)][_0xc79934(0x1f3)](_0x3fc16e[_0xc79934(0x27f)]['x'],_0x3fc16e['lonRange']['y']),_0x5e064d[0x4*_0x3e91d2+0x1]=_0x5a5a77[_0xc79934(0x1b1)][_0xc79934(0x1f3)](_0x3fc16e[_0xc79934(0x121)]['x'],_0x3fc16e[_0xc79934(0x121)]['y']),_0x5e064d[0x4*_0x3e91d2+0x2]=_0x5a5a77[_0xc79934(0x1b1)][_0xc79934(0x1f3)](this[_0xc79934(0x119)][_0xc79934(0x1ed)][_0xc79934(0x205)],this['data'][_0xc79934(0x1ed)]['max']),_0x5e064d[0x4*_0x3e91d2+0x3]=0x0;return _0x5e064d;}},{'key':_0x28b261(0x185),'value':function(){var _0x36a5d2=_0x28b261,_0x496ca9=this;Object['keys'](this[_0x36a5d2(0x22e)])[_0x36a5d2(0x277)](function(_0x426bf0){var _0x1d0fff=_0x36a5d2;_0x496ca9[_0x1d0fff(0x22e)][_0x426bf0][_0x1d0fff(0x21a)]();});}},{'key':_0x28b261(0x1a8),'value':function(_0x5433ef,_0x11d79a,_0x518746){var _0x593b78=_0x28b261,_0x5bb9c0=new _0x5a5a77[(_0x593b78(0x159))](_0x5433ef[_0x593b78(0x208)]['lon'],_0x5433ef['dimensions'][_0x593b78(0x1e1)],_0x5433ef[_0x593b78(0x208)][_0x593b78(0x1ed)]),_0x438a29=new _0x5a5a77[(_0x593b78(0x159))](_0x5433ef[_0x593b78(0x240)]['min'],_0x5433ef['lat'][_0x593b78(0x205)],_0x5433ef['lev'][_0x593b78(0x205)]),_0x4fb401=new _0x5a5a77['Cartesian3'](_0x5433ef[_0x593b78(0x240)]['max'],_0x5433ef[_0x593b78(0x1e1)][_0x593b78(0x16d)],_0x5433ef[_0x593b78(0x1ed)][_0x593b78(0x16d)]),_0x52007b=new _0x5a5a77[(_0x593b78(0x159))]((_0x4fb401['x']-_0x438a29['x'])/(_0x5bb9c0['x']-0x1),(_0x4fb401['y']-_0x438a29['y'])/(_0x5bb9c0['y']-0x1),_0x5bb9c0['z']>0x1?(_0x4fb401['z']-_0x438a29['z'])/(_0x5bb9c0['z']-0x1):0x1),_0x19eaad=new _0x5a5a77[(_0x593b78(0x270))](_0x5433ef['U'][_0x593b78(0x205)],_0x5433ef['U'][_0x593b78(0x16d)]),_0x577cd3=new _0x5a5a77[(_0x593b78(0x270))](_0x5433ef['V'][_0x593b78(0x205)],_0x5433ef['V']['max']),_0x2bb0b2=this;this['primitives']={'getWind':new _0x44c832({'commandType':_0x593b78(0x251),'uniformMap':{'U':function(){return _0x2bb0b2['windTextures']['U'];},'V':function(){return _0x2bb0b2['windTextures']['V'];},'currentParticlesPosition':function(){var _0x157caf=_0x593b78;return _0x2bb0b2[_0x157caf(0x22e)][_0x157caf(0x175)];},'dimension':function(){return _0x5bb9c0;},'minimum':function(){return _0x438a29;},'maximum':function(){return _0x4fb401;},'interval':function(){return _0x52007b;}},'fragmentShaderSource':new _0x5a5a77['ShaderSource']({'sources':[_0x4a4d23['a']]}),'outputTexture':this[_0x593b78(0x22e)][_0x593b78(0x204)],'preExecute':function(){var _0x575c70=_0x593b78;_0x2bb0b2[_0x575c70(0x1dc)][_0x575c70(0x246)][_0x575c70(0x149)][_0x575c70(0x184)]=_0x2bb0b2[_0x575c70(0x22e)][_0x575c70(0x204)];}}),'updateSpeed':new _0x44c832({'commandType':'Compute','uniformMap':{'currentParticlesSpeed':function(){var _0x19a244=_0x593b78;return _0x2bb0b2[_0x19a244(0x22e)][_0x19a244(0x157)];},'particlesWind':function(){var _0x318229=_0x593b78;return _0x2bb0b2[_0x318229(0x22e)][_0x318229(0x204)];},'uSpeedRange':function(){return _0x19eaad;},'vSpeedRange':function(){return _0x577cd3;},'pixelSize':function(){var _0x4b0211=_0x593b78;return _0x518746[_0x4b0211(0x1d9)];},'speedFactor':function(){var _0x574472=_0x593b78;return _0x11d79a[_0x574472(0x22d)];}},'fragmentShaderSource':new _0x5a5a77['ShaderSource']({'sources':[_0x3efc05['a']]}),'outputTexture':this['particlesTextures'][_0x593b78(0x134)],'preExecute':function(){var _0x4a9794=_0x593b78,_0x3102a4;_0x3102a4=_0x2bb0b2[_0x4a9794(0x22e)][_0x4a9794(0x157)],_0x2bb0b2[_0x4a9794(0x22e)][_0x4a9794(0x157)]=_0x2bb0b2['particlesTextures']['postProcessingSpeed'],_0x2bb0b2[_0x4a9794(0x22e)]['postProcessingSpeed']=_0x3102a4,_0x2bb0b2[_0x4a9794(0x1dc)]['updateSpeed'][_0x4a9794(0x149)]['outputTexture']=_0x2bb0b2[_0x4a9794(0x22e)][_0x4a9794(0x134)];}}),'updatePosition':new _0x44c832({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){return _0x2bb0b2['particlesTextures']['currentParticlesPosition'];},'currentParticlesSpeed':function(){var _0x13b103=_0x593b78;return _0x2bb0b2[_0x13b103(0x22e)]['currentParticlesSpeed'];}},'fragmentShaderSource':new _0x5a5a77[(_0x593b78(0x14e))]({'sources':[_0x3d341f['a']]}),'outputTexture':this[_0x593b78(0x22e)][_0x593b78(0x1c0)],'preExecute':function(){var _0x6f96b=_0x593b78,_0x2be2fc;_0x2be2fc=_0x2bb0b2[_0x6f96b(0x22e)][_0x6f96b(0x175)],_0x2bb0b2['particlesTextures'][_0x6f96b(0x175)]=_0x2bb0b2[_0x6f96b(0x22e)][_0x6f96b(0x183)],_0x2bb0b2[_0x6f96b(0x22e)][_0x6f96b(0x183)]=_0x2be2fc,_0x2bb0b2['primitives'][_0x6f96b(0x1f8)]['commandToExecute']['outputTexture']=_0x2bb0b2[_0x6f96b(0x22e)]['nextParticlesPosition'];}}),'postProcessingPosition':new _0x44c832({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){return _0x2bb0b2['particlesTextures']['nextParticlesPosition'];},'nextParticlesSpeed':function(){var _0x52fa93=_0x593b78;return _0x2bb0b2[_0x52fa93(0x22e)][_0x52fa93(0x134)];},'lonRange':function(){var _0x5869d7=_0x593b78;return _0x518746[_0x5869d7(0x27f)];},'latRange':function(){var _0x13528f=_0x593b78;return _0x518746[_0x13528f(0x121)];},'randomCoefficient':function(){var _0x1ddbd9=_0x593b78,_0x57f04d=Math[_0x1ddbd9(0x213)]();return _0x57f04d;},'dropRate':function(){return _0x11d79a['dropRate'];},'dropRateBump':function(){var _0x31f97c=_0x593b78;return _0x11d79a[_0x31f97c(0x161)];}},'fragmentShaderSource':new _0x5a5a77[(_0x593b78(0x14e))]({'sources':[_0x2cba09['a']]}),'outputTexture':this[_0x593b78(0x22e)][_0x593b78(0x183)],'preExecute':function(){var _0x324520=_0x593b78;_0x2bb0b2[_0x324520(0x1dc)]['postProcessingPosition']['commandToExecute'][_0x324520(0x184)]=_0x2bb0b2[_0x324520(0x22e)][_0x324520(0x183)];}}),'postProcessingSpeed':new _0x44c832({'commandType':_0x593b78(0x251),'uniformMap':{'postProcessingPosition':function(){var _0x25b74c=_0x593b78;return _0x2bb0b2[_0x25b74c(0x22e)][_0x25b74c(0x183)];},'nextParticlesSpeed':function(){var _0x140e06=_0x593b78;return _0x2bb0b2[_0x140e06(0x22e)][_0x140e06(0x134)];}},'fragmentShaderSource':new _0x5a5a77[(_0x593b78(0x14e))]({'sources':[_0x554494['a']]}),'outputTexture':this[_0x593b78(0x22e)]['postProcessingSpeed'],'preExecute':function(){var _0x315804=_0x593b78;_0x2bb0b2[_0x315804(0x1dc)]['postProcessingSpeed'][_0x315804(0x149)][_0x315804(0x184)]=_0x2bb0b2[_0x315804(0x22e)]['postProcessingSpeed'];}})};}}]),_0xdd4825;}(),_0xe51247=function(){var _0x66c27b=_0x72592d;function _0x5250df(_0x4c554f,_0x264b97,_0x9ec01d,_0x47c1c8){var _0x2e44d2=a0_0x3581;_0x4531f6()(this,_0x5250df),this['context']=_0x4c554f,this[_0x2e44d2(0x119)]=_0x264b97,this[_0x2e44d2(0x13a)]=_0x9ec01d,this[_0x2e44d2(0x1f5)]=_0x47c1c8,this[_0x2e44d2(0x144)]=new _0x281804(this['context'],this[_0x2e44d2(0x119)],this[_0x2e44d2(0x13a)],this[_0x2e44d2(0x1f5)]),this[_0x2e44d2(0x235)]=new _0x1b39f9(this['context'],this[_0x2e44d2(0x119)],this[_0x2e44d2(0x13a)],this[_0x2e44d2(0x1f5)],this[_0x2e44d2(0x144)]);}return _0x50319d()(_0x5250df,[{'key':'canvasResize','value':function(_0x3bff85){var _0x5d55cc=a0_0x3581,_0x221c46=this;this[_0x5d55cc(0x144)][_0x5d55cc(0x185)](),Object[_0x5d55cc(0x164)](this[_0x5d55cc(0x144)][_0x5d55cc(0x268)])[_0x5d55cc(0x277)](function(_0x7096fa){var _0x3bf0f0=_0x5d55cc;_0x221c46[_0x3bf0f0(0x144)][_0x3bf0f0(0x268)][_0x7096fa][_0x3bf0f0(0x21a)]();}),this['particlesRendering'][_0x5d55cc(0x214)]['colorTable'][_0x5d55cc(0x21a)](),Object[_0x5d55cc(0x164)](this[_0x5d55cc(0x235)]['framebuffers'])[_0x5d55cc(0x277)](function(_0x47cb94){var _0x50d4b9=_0x5d55cc;_0x221c46['particlesRendering'][_0x50d4b9(0x24b)][_0x47cb94][_0x50d4b9(0x21a)]();}),this[_0x5d55cc(0x125)]=_0x3bff85,this[_0x5d55cc(0x144)]=new _0x281804(this[_0x5d55cc(0x125)],this[_0x5d55cc(0x119)],this[_0x5d55cc(0x13a)],this[_0x5d55cc(0x1f5)]),this[_0x5d55cc(0x235)]=new _0x1b39f9(this['context'],this[_0x5d55cc(0x119)],this['userInput'],this[_0x5d55cc(0x1f5)],this[_0x5d55cc(0x144)]);}},{'key':_0x66c27b(0x138),'value':function(){var _0x4ea3aa=_0x66c27b,_0x4e6e03=this,_0x1c4644=new _0x5a5a77['ClearCommand']({'color':new _0x5a5a77[(_0x4ea3aa(0x265))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x5a5a77[_0x4ea3aa(0x224)][_0x4ea3aa(0x254)]});Object[_0x4ea3aa(0x164)](this[_0x4ea3aa(0x235)][_0x4ea3aa(0x24b)])[_0x4ea3aa(0x277)](function(_0x355436){var _0xed38c2=_0x4ea3aa;_0x1c4644['framebuffer']=_0x4e6e03['particlesRendering'][_0xed38c2(0x24b)][_0x355436],_0x1c4644['execute'](_0x4e6e03[_0xed38c2(0x125)]);});}},{'key':_0x66c27b(0x1d3),'value':function(_0x5e82c2){var _0x1e5777=_0x66c27b;if(this[_0x1e5777(0x138)](),this[_0x1e5777(0x144)][_0x1e5777(0x185)](),this[_0x1e5777(0x144)][_0x1e5777(0x151)](this[_0x1e5777(0x125)],this[_0x1e5777(0x13a)],this[_0x1e5777(0x1f5)]),_0x5e82c2){var _0x15e460=this[_0x1e5777(0x235)][_0x1e5777(0x1e6)](this[_0x1e5777(0x13a)]);this[_0x1e5777(0x235)][_0x1e5777(0x1dc)][_0x1e5777(0x191)]['geometry']=_0x15e460;var _0xf7a3ef=_0x5a5a77[_0x1e5777(0x1b4)][_0x1e5777(0x20f)]({'context':this[_0x1e5777(0x125)],'geometry':_0x15e460,'attributeLocations':this[_0x1e5777(0x235)][_0x1e5777(0x1dc)][_0x1e5777(0x191)][_0x1e5777(0x1b7)],'bufferUsage':_0x5a5a77[_0x1e5777(0x1eb)][_0x1e5777(0x15a)]});this[_0x1e5777(0x235)]['primitives'][_0x1e5777(0x191)]['commandToExecute'][_0x1e5777(0x128)]=_0xf7a3ef;}}},{'key':_0x66c27b(0x173),'value':function(_0x1c50b3){var _0x1f6675=_0x66c27b,_0x10daad=this,_0x3721ff=!0x1;this[_0x1f6675(0x13a)][_0x1f6675(0x1da)]!=_0x1c50b3['maxParticles']&&(_0x3721ff=!0x0),Object[_0x1f6675(0x164)](_0x1c50b3)['forEach'](function(_0x2ed04e){var _0x22df5a=_0x1f6675;_0x10daad[_0x22df5a(0x13a)][_0x2ed04e]=_0x1c50b3[_0x2ed04e];}),this[_0x1f6675(0x1d3)](_0x3721ff);}},{'key':_0x66c27b(0x13f),'value':function(_0x53b456){var _0x56b849=_0x66c27b,_0x39aac7=this;Object[_0x56b849(0x164)](_0x53b456)[_0x56b849(0x277)](function(_0x10d508){var _0x2a5679=_0x56b849;_0x39aac7[_0x2a5679(0x1f5)][_0x10d508]=_0x53b456[_0x10d508];}),this[_0x56b849(0x1d3)](!0x1);}}]),_0x5250df;}();function _0x81a58e(_0xf110f1){var _0x1ad90a=function(){var _0x21d39e=a0_0x3581;if(_0x21d39e(0x180)==typeof Reflect||!Reflect[_0x21d39e(0x26c)])return!0x1;if(Reflect['construct'][_0x21d39e(0x1db)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x21d39e(0x27e)][_0x21d39e(0x182)](Reflect[_0x21d39e(0x26c)](Boolean,[],function(){})),!0x0;}catch(_0x4672a8){return!0x1;}}();return function(){var _0x42a607=a0_0x3581,_0x18e584,_0x49d1fc=_0x3af1c5()(_0xf110f1);if(_0x1ad90a){var _0x44d265=_0x3af1c5()(this)[_0x42a607(0x18e)];_0x18e584=Reflect[_0x42a607(0x26c)](_0x49d1fc,arguments,_0x44d265);}else _0x18e584=_0x49d1fc[_0x42a607(0x186)](this,arguments);return _0x590ab8()(this,_0x18e584);};}var _0x3777f1=_0x1bf6a9[_0x72592d(0x281)]['BaseLayer'],_0x39d217=0x1000,_0x591667=0x64,_0x188013=0.996,_0x4bb938=0.003,_0x4201ef=0.01,_0x4f0e25=0.5,_0x2e2775=0x2,_0x13dc3a=function(_0x3c028b){var _0x406163=_0x72592d;_0x4af51b()(_0x32314a,_0x3c028b);var _0x69b317=_0x81a58e(_0x32314a);function _0x32314a(){var _0x10c36d=a0_0x3581,_0x293ff6,_0x6ddc79=arguments[_0x10c36d(0x192)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x4531f6()(this,_0x32314a),(_0x293ff6=_0x69b317[_0x10c36d(0x182)](this,_0x6ddc79))[_0x10c36d(0x1da)]=_0x39d217,_0x293ff6[_0x10c36d(0x24f)]=_0x591667,_0x293ff6[_0x10c36d(0x168)]=_0x188013,_0x293ff6[_0x10c36d(0x1a0)]=_0x4bb938,_0x293ff6[_0x10c36d(0x161)]=_0x4201ef,_0x293ff6[_0x10c36d(0x22d)]=_0x4f0e25,_0x293ff6['lineWidth']=_0x2e2775,_0x6ddc79){for(var _0x3cc877 in _0x6ddc79)_0x293ff6[_0x3cc877]=_0x6ddc79[_0x3cc877];}return _0x293ff6;}return _0x50319d()(_0x32314a,[{'key':_0x406163(0x281),'get':function(){var _0x272a4a=_0x406163;return this[_0x272a4a(0x1dc)];}},{'key':_0x406163(0x23e),'value':function(){}},{'key':_0x406163(0x16e),'value':function(){var _0x25640a=_0x406163;this[_0x25640a(0x1b0)]=this['_map'][_0x25640a(0x1b0)],this[_0x25640a(0x153)]=this['_map'][_0x25640a(0x153)],this[_0x25640a(0x1dc)]=new _0x5a5a77[(_0x25640a(0x172))](),this[_0x25640a(0x267)][_0x25640a(0x1b0)][_0x25640a(0x1dc)]['add'](this[_0x25640a(0x1dc)]),this[_0x25640a(0x1f5)]={'lonRange':new _0x5a5a77[(_0x25640a(0x270))](),'latRange':new _0x5a5a77[(_0x25640a(0x270))](),'pixelSize':0x0},this[_0x25640a(0x189)]=new _0x5a5a77['BoundingSphere'](_0x5a5a77['Cartesian3'][_0x25640a(0x256)],6314355.63),this[_0x25640a(0x26b)]();}},{'key':_0x406163(0x1c7),'value':function(){var _0x5d9756=_0x406163;this[_0x5d9756(0x1dc)][_0x5d9756(0x263)](),this[_0x5d9756(0x267)][_0x5d9756(0x1b0)][_0x5d9756(0x1dc)][_0x5d9756(0x23c)](this['primitives']);}},{'key':_0x406163(0x181),'value':function(_0x35f870){var _0xf7c81b=_0x406163;this['particleSystem']=new _0xe51247(this[_0xf7c81b(0x1b0)][_0xf7c81b(0x125)],_0x35f870,this[_0xf7c81b(0x1d4)](),this[_0xf7c81b(0x1f5)]),this[_0xf7c81b(0x1a6)](),this['setupEventListeners']();}},{'key':_0x406163(0x113),'value':function(_0x356c4c){var _0x44abb8=_0x406163;if(_0x356c4c){for(var _0x253d0e in _0x356c4c)this[_0x253d0e]=_0x356c4c[_0x253d0e];}return this[_0x44abb8(0x25c)]['applyUserInput'](this[_0x44abb8(0x1d4)]()),this;}},{'key':'getUserInput','value':function(){var _0xce3fae=_0x406163,_0x4a21c0=Math[_0xce3fae(0x1f0)](Math[_0xce3fae(0x11e)](this['maxParticles']));return this['maxParticles']=_0x4a21c0*_0x4a21c0,{'particlesTextureSize':_0x4a21c0,'maxParticles':this['maxParticles'],'particleHeight':this['particleHeight'],'fadeOpacity':this[_0xce3fae(0x168)],'dropRate':this[_0xce3fae(0x1a0)],'dropRateBump':this[_0xce3fae(0x161)],'speedFactor':this[_0xce3fae(0x22d)],'lineWidth':this['lineWidth'],'globeLayer':this[_0xce3fae(0x14d)],'WMS_URL':this[_0xce3fae(0x1b2)]};}},{'key':'addPrimitives','value':function(){var _0x5b43bb=_0x406163;this[_0x5b43bb(0x1dc)]['add'](this[_0x5b43bb(0x25c)][_0x5b43bb(0x144)][_0x5b43bb(0x1dc)][_0x5b43bb(0x246)]),this[_0x5b43bb(0x1dc)][_0x5b43bb(0x160)](this['particleSystem'][_0x5b43bb(0x144)][_0x5b43bb(0x1dc)]['updateSpeed']),this[_0x5b43bb(0x1dc)][_0x5b43bb(0x160)](this[_0x5b43bb(0x25c)][_0x5b43bb(0x144)][_0x5b43bb(0x1dc)][_0x5b43bb(0x1f8)]),this[_0x5b43bb(0x1dc)][_0x5b43bb(0x160)](this[_0x5b43bb(0x25c)]['particlesComputing'][_0x5b43bb(0x1dc)][_0x5b43bb(0x183)]),this['primitives'][_0x5b43bb(0x160)](this[_0x5b43bb(0x25c)][_0x5b43bb(0x144)]['primitives']['postProcessingSpeed']),this['primitives']['add'](this[_0x5b43bb(0x25c)][_0x5b43bb(0x235)]['primitives'][_0x5b43bb(0x191)]),this[_0x5b43bb(0x1dc)][_0x5b43bb(0x160)](this[_0x5b43bb(0x25c)]['particlesRendering'][_0x5b43bb(0x1dc)][_0x5b43bb(0x146)]),this[_0x5b43bb(0x1dc)][_0x5b43bb(0x160)](this[_0x5b43bb(0x25c)][_0x5b43bb(0x235)][_0x5b43bb(0x1dc)][_0x5b43bb(0x24d)]);}},{'key':_0x406163(0x26b),'value':function(){var _0x4e2c0b=_0x406163,_0x332bad=this[_0x4e2c0b(0x153)][_0x4e2c0b(0x230)](this[_0x4e2c0b(0x1b0)][_0x4e2c0b(0x1c4)][_0x4e2c0b(0x1d8)]);if(!_0x332bad){var _0x1e632c=this[_0x4e2c0b(0x267)]['getExtent']();_0x332bad=_0x5a5a77[_0x4e2c0b(0x1a2)][_0x4e2c0b(0x178)](_0x1e632c['xmin'],_0x1e632c[_0x4e2c0b(0x17c)],_0x1e632c[_0x4e2c0b(0x1a9)],_0x1e632c[_0x4e2c0b(0x24e)]);}var _0x220c0d=_0x1cea77['viewRectangleToLonLatRange'](_0x332bad);this[_0x4e2c0b(0x1f5)]['lonRange']['x']=_0x220c0d[_0x4e2c0b(0x240)][_0x4e2c0b(0x205)],this['viewerParameters'][_0x4e2c0b(0x27f)]['y']=_0x220c0d[_0x4e2c0b(0x240)][_0x4e2c0b(0x16d)],this['viewerParameters'][_0x4e2c0b(0x121)]['x']=_0x220c0d[_0x4e2c0b(0x1e1)][_0x4e2c0b(0x205)],this['viewerParameters']['latRange']['y']=_0x220c0d['lat'][_0x4e2c0b(0x16d)];var _0x985aa8=this[_0x4e2c0b(0x153)][_0x4e2c0b(0x174)](this[_0x4e2c0b(0x189)],this[_0x4e2c0b(0x1b0)]['drawingBufferWidth'],this[_0x4e2c0b(0x1b0)][_0x4e2c0b(0x216)]);_0x985aa8>0x0&&(this['viewerParameters'][_0x4e2c0b(0x1d9)]=_0x985aa8);}},{'key':_0x406163(0x1c2),'value':function(){var _0x32dc9a=_0x406163,_0x5e5cb3=this;this[_0x32dc9a(0x153)]['moveStart'][_0x32dc9a(0x12f)](function(){var _0x46789d=_0x32dc9a;_0x5e5cb3['_map']&&_0x5e5cb3['show']&&(_0x5e5cb3[_0x46789d(0x1dc)][_0x46789d(0x14b)]=!0x1);}),this[_0x32dc9a(0x153)][_0x32dc9a(0x234)]['addEventListener'](function(){var _0x566fe8=_0x32dc9a;_0x5e5cb3[_0x566fe8(0x267)]&&_0x5e5cb3['show']&&(_0x5e5cb3['updateViewerParameters'](),_0x5e5cb3[_0x566fe8(0x25c)]['applyViewerParameters'](_0x5e5cb3['viewerParameters']),_0x5e5cb3[_0x566fe8(0x1dc)][_0x566fe8(0x14b)]=!0x0);});var _0x5c80de=!0x1;window[_0x32dc9a(0x12f)]('resize',function(){var _0x4e6c07=_0x32dc9a;_0x5e5cb3[_0x4e6c07(0x267)]&&_0x5e5cb3[_0x4e6c07(0x14b)]&&(_0x5c80de=!0x0,_0x5e5cb3['primitives'][_0x4e6c07(0x14b)]=!0x1,_0x5e5cb3[_0x4e6c07(0x1dc)][_0x4e6c07(0x263)]());}),this['scene'][_0x32dc9a(0x1b5)][_0x32dc9a(0x12f)](function(){var _0x643878=_0x32dc9a;_0x5e5cb3['_map']&&_0x5c80de&&(_0x5e5cb3['particleSystem'][_0x643878(0x225)](_0x5e5cb3[_0x643878(0x1b0)][_0x643878(0x125)]),_0x5c80de=!0x1,_0x5e5cb3[_0x643878(0x1a6)](),_0x5e5cb3[_0x643878(0x1dc)][_0x643878(0x14b)]=!0x0);});}}]),_0x32314a;}(_0x3777f1);_0x1bf6a9[_0x72592d(0x177)][_0x72592d(0x16a)](_0x72592d(0x21d),_0x13dc3a),_0x1bf6a9[_0x72592d(0x281)]['WindLayer']=_0x13dc3a;var _0x8ccc3f=function _0xfe7111(){var _0x55db06=_0x72592d;_0x4531f6()(this,_0xfe7111),this[_0x55db06(0x1d7)]=null,this[_0x55db06(0x1e1)]=null,this[_0x55db06(0x1ef)]=null,this['tlat']=null,this[_0x55db06(0x27d)]=null;},_0x3a2e8f=function(){var _0x53e733=_0x72592d;function _0x435479(_0x57b6a9,_0x56a08c){var _0x48ddb8=a0_0x3581;_0x4531f6()(this,_0x435479),this[_0x48ddb8(0x16f)]=_0x57b6a9[_0x48ddb8(0x16f)],this['cols']=_0x57b6a9[_0x48ddb8(0x140)],this['xmin']=_0x57b6a9[_0x48ddb8(0x221)],this[_0x48ddb8(0x1a9)]=_0x57b6a9['xmax'],this[_0x48ddb8(0x17c)]=_0x57b6a9[_0x48ddb8(0x17c)],this[_0x48ddb8(0x24e)]=_0x57b6a9[_0x48ddb8(0x24e)],this['grid']=[];var _0xc1e678=_0x57b6a9['udata'],_0x13f517=_0x57b6a9[_0x48ddb8(0x1d1)],_0x34a666=!0x1;_0xc1e678['length']===this[_0x48ddb8(0x16f)]&&_0xc1e678[0x0][_0x48ddb8(0x192)]===this['cols']&&(_0x34a666=!0x0);for(var _0x8629d9=0x0,_0x3037de=null,_0x185f58=null,_0x1b97df=0x0;_0x1b97df<this[_0x48ddb8(0x16f)];_0x1b97df++){_0x3037de=[];for(var _0x50a312=0x0;_0x50a312<this[_0x48ddb8(0x140)];_0x50a312++,_0x8629d9++)_0x185f58=_0x34a666?this[_0x48ddb8(0x242)](_0xc1e678[_0x1b97df][_0x50a312],_0x13f517[_0x1b97df][_0x50a312]):this[_0x48ddb8(0x242)](_0xc1e678[_0x8629d9],_0x13f517[_0x8629d9]),_0x3037de[_0x48ddb8(0x19c)](_0x185f58);this[_0x48ddb8(0x1e9)][_0x48ddb8(0x19c)](_0x3037de);}_0x56a08c&&this[_0x48ddb8(0x1e9)]['reverse']();}return _0x50319d()(_0x435479,[{'key':_0x53e733(0x1e0),'value':function(_0x2e15e1,_0xa1cd2d){var _0x4beaeb=_0x53e733;return{'x':(_0x2e15e1-this['xmin'])/(this[_0x4beaeb(0x1a9)]-this[_0x4beaeb(0x221)])*(this[_0x4beaeb(0x140)]-0x1),'y':(this[_0x4beaeb(0x24e)]-_0xa1cd2d)/(this['ymax']-this[_0x4beaeb(0x17c)])*(this[_0x4beaeb(0x16f)]-0x1)};}},{'key':'getUVByXY','value':function(_0x1fca0c,_0x2d4360){var _0xd07d2=_0x53e733;if(_0x1fca0c<0x0||_0x1fca0c>=this[_0xd07d2(0x140)]||_0x2d4360>=this['rows'])return[0x0,0x0,0x0];var _0x356dbd,_0x1c60e5,_0xc54dfc=Math[_0xd07d2(0x207)](_0x1fca0c),_0x1f5405=Math[_0xd07d2(0x207)](_0x2d4360);if(_0xc54dfc===_0x1fca0c&&_0x1f5405===_0x2d4360)return this[_0xd07d2(0x1e9)][_0x2d4360][_0x1fca0c];_0x356dbd=_0xc54dfc+0x1,_0x1c60e5=_0x1f5405+0x1;var _0x18735d=this['getUVByXY'](_0xc54dfc,_0x1f5405),_0x315607=this[_0xd07d2(0x239)](_0x356dbd,_0x1f5405),_0x4513e3=this[_0xd07d2(0x239)](_0xc54dfc,_0x1c60e5),_0x2fa2b5=this[_0xd07d2(0x239)](_0x356dbd,_0x1c60e5),_0x4f222f=null;try{_0x4f222f=this[_0xd07d2(0x27a)](_0x1fca0c-_0xc54dfc,_0x2d4360-_0x1f5405,_0x18735d,_0x315607,_0x4513e3,_0x2fa2b5);}catch(_0x2f7d46){console[_0xd07d2(0x116)](_0x1fca0c,_0x2d4360);}return _0x4f222f;}},{'key':'_bilinearInterpolation','value':function(_0xe03cc7,_0x4af436,_0x1d81b0,_0x1972e3,_0x25c188,_0x2c2b44){var _0x5ad3e7=0x1-_0xe03cc7,_0x43ba4b=0x1-_0x4af436,_0x48eef2=_0x5ad3e7*_0x43ba4b,_0x29c052=_0xe03cc7*_0x43ba4b,_0x381a55=_0x5ad3e7*_0x4af436,_0x4672e3=_0xe03cc7*_0x4af436,_0x4c4e98=_0x1d81b0[0x0]*_0x48eef2+_0x1972e3[0x0]*_0x29c052+_0x25c188[0x0]*_0x381a55+_0x2c2b44[0x0]*_0x4672e3,_0x19857f=_0x1d81b0[0x1]*_0x48eef2+_0x1972e3[0x1]*_0x29c052+_0x25c188[0x1]*_0x381a55+_0x2c2b44[0x1]*_0x4672e3;return this['_calcUV'](_0x4c4e98,_0x19857f);}},{'key':'_calcUV','value':function(_0x350f25,_0x350368){var _0x51996d=_0x53e733;return[+_0x350f25,+_0x350368,Math[_0x51996d(0x11e)](_0x350f25*_0x350f25+_0x350368*_0x350368)];}},{'key':_0x53e733(0x166),'value':function(_0x44a13e,_0x155990){var _0x4f00b1=_0x53e733;if(!this['isInExtent'](_0x44a13e,_0x155990))return null;var _0x30013a=this[_0x4f00b1(0x1e0)](_0x44a13e,_0x155990);return this['getUVByXY'](_0x30013a['x'],_0x30013a['y']);}},{'key':_0x53e733(0x27c),'value':function(_0x3352b7,_0x238b7e){var _0x421813=_0x53e733;return _0x3352b7>=this[_0x421813(0x221)]&&_0x3352b7<=this[_0x421813(0x1a9)]&&_0x238b7e>=this[_0x421813(0x17c)]&&_0x238b7e<=this[_0x421813(0x24e)];}},{'key':_0x53e733(0x148),'value':function(){var _0x1d2b05=_0x53e733,_0x4180b3=_0x28a377(this[_0x1d2b05(0x221)],this[_0x1d2b05(0x1a9)]);return{'lat':_0x28a377(this[_0x1d2b05(0x17c)],this[_0x1d2b05(0x24e)]),'lng':_0x4180b3};}}]),_0x435479;}();function _0x28a377(_0x2ef680,_0x57cc8c){var _0x58f8b4=_0x72592d;return _0x2ef680+Math[_0x58f8b4(0x213)]()*(_0x57cc8c-_0x2ef680);}function _0xf57bc3(_0x509278){var _0x32b88c=function(){var _0x5e8ded=a0_0x3581;if(_0x5e8ded(0x180)==typeof Reflect||!Reflect[_0x5e8ded(0x26c)])return!0x1;if(Reflect[_0x5e8ded(0x26c)][_0x5e8ded(0x1db)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x5e8ded(0x27e)]['call'](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x307a7f){return!0x1;}}();return function(){var _0x1b251e=a0_0x3581,_0x5db7c8,_0x17fb68=_0x3af1c5()(_0x509278);if(_0x32b88c){var _0x4ddbe7=_0x3af1c5()(this)['constructor'];_0x5db7c8=Reflect[_0x1b251e(0x26c)](_0x17fb68,arguments,_0x4ddbe7);}else _0x5db7c8=_0x17fb68[_0x1b251e(0x186)](this,arguments);return _0x590ab8()(this,_0x5db7c8);};}var _0x12c893=function(_0x51f9bb){var _0x144a6c=_0x72592d;_0x4af51b()(_0xcb289,_0x51f9bb);var _0x1f5dfc=_0xf57bc3(_0xcb289);function _0xcb289(){var _0x182a5d=a0_0x3581,_0x369140,_0x56672d=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x4531f6()(this,_0xcb289),(_0x369140=_0x1f5dfc['call'](this,_0x56672d))['calc_speedRate']=[0x0,0x0],_0x369140['particles']=[],_0x369140[_0x182a5d(0x187)]=_0x56672d[_0x182a5d(0x187)]||0x32,_0x369140[_0x182a5d(0x200)]=_0x56672d['particlesNumber']||0x4e20,_0x369140[_0x182a5d(0x273)]=_0x56672d[_0x182a5d(0x1a7)]||0x78,_0x369140[_0x182a5d(0x1de)]=0x3e8/(_0x56672d[_0x182a5d(0x25b)]||0xa),_0x369140[_0x182a5d(0x1dd)]=_0x5a5a77[_0x182a5d(0x1a5)](_0x369140[_0x182a5d(0x21e)]['pointerEvents'],!0x1),_0x369140['color']=_0x56672d[_0x182a5d(0x1cc)]||_0x182a5d(0x249),_0x369140[_0x182a5d(0x231)]=_0x56672d[_0x182a5d(0x231)]||0x1,_0x369140[_0x182a5d(0x11b)]=_0x5a5a77[_0x182a5d(0x1a5)](_0x56672d[_0x182a5d(0x11b)],0x0),_0x369140[_0x182a5d(0x17a)]=_0x5a5a77[_0x182a5d(0x1a5)](_0x56672d[_0x182a5d(0x17a)],!0x1),_0x369140[_0x182a5d(0x264)]=null,_0x369140;}return _0x50319d()(_0xcb289,[{'key':_0x144a6c(0x281),'get':function(){var _0x21626e=_0x144a6c;return this[_0x21626e(0x264)];}},{'key':_0x144a6c(0x130),'get':function(){var _0x5b98f9=_0x144a6c;return this[_0x5b98f9(0x267)][_0x5b98f9(0x1b0)][_0x5b98f9(0x264)][_0x5b98f9(0x1f7)];}},{'key':_0x144a6c(0x137),'get':function(){var _0x488a71=_0x144a6c;return this['_map'][_0x488a71(0x1b0)]['canvas']['clientHeight'];}},{'key':'pointerEvents','get':function(){var _0xa60eb7=_0x144a6c;return this[_0xa60eb7(0x1dd)];},'set':function(_0x336c95){var _0x22de2d=_0x144a6c;this[_0x22de2d(0x1dd)]=_0x336c95,this[_0x22de2d(0x264)]&&(this[_0x22de2d(0x264)]['style'][_0x22de2d(0x1cb)]=_0x336c95?_0x22de2d(0x226):_0x22de2d(0x132));}},{'key':_0x144a6c(0x187),'get':function(){var _0xef6991=_0x144a6c;return this[_0xef6991(0x19f)];},'set':function(_0x479650){this['_speedRate']=0x64*(0x64-(_0x479650>0x63?0x63:_0x479650)),this['_calcStep']();}},{'key':_0x144a6c(0x179),'get':function(){var _0x50cfc3=_0x144a6c;return this[_0x50cfc3(0x200)];},'set':function(_0x274ffa){var _0x2e8189=_0x144a6c,_0x8afee6=this;this[_0x2e8189(0x200)]=_0x274ffa,clearTimeout(this[_0x2e8189(0x1ae)]),this[_0x2e8189(0x1ae)]=setTimeout(function(){_0x8afee6['redraw']();},0x1f4);}},{'key':_0x144a6c(0x1a7),'get':function(){return this['_maxAge'];},'set':function(_0x5bf2b8){var _0x3a0530=_0x144a6c,_0x5f2b4f=this;this['_maxAge']=_0x5bf2b8,clearTimeout(this[_0x3a0530(0x1ae)]),this[_0x3a0530(0x1ae)]=setTimeout(function(){_0x5f2b4f['redraw']();},0x1f4);}},{'key':_0x144a6c(0x119),'get':function(){return this['windData'];},'set':function(_0x115280){var _0x2f3d07=_0x144a6c;this[_0x2f3d07(0x215)](_0x115280);}},{'key':_0x144a6c(0x238),'value':function(_0xeb593c){var _0x2d4ee2=_0x144a6c;_0xeb593c?this[_0x2d4ee2(0x16e)]():(this[_0x2d4ee2(0x1c9)]&&(this[_0x2d4ee2(0x21e)]['data']=this[_0x2d4ee2(0x1c9)]),this[_0x2d4ee2(0x1c7)]());}},{'key':_0x144a6c(0x23e),'value':function(){}},{'key':_0x144a6c(0x16e),'value':function(){var _0x14acae=_0x144a6c;this[_0x14acae(0x264)]=this[_0x14acae(0x126)](),this[_0x14acae(0x198)]=this['canvas'][_0x14acae(0x162)]('2d'),this[_0x14acae(0x122)](),this[_0x14acae(0x21e)][_0x14acae(0x119)]&&this[_0x14acae(0x215)](this[_0x14acae(0x21e)]['data']);}},{'key':_0x144a6c(0x1c7),'value':function(){var _0x2f9461=_0x144a6c;this[_0x2f9461(0x276)](),this['unbindEvent'](),this['canvas']&&(this['_map'][_0x2f9461(0x22c)][_0x2f9461(0x217)](this[_0x2f9461(0x264)]),delete this[_0x2f9461(0x264)]);}},{'key':_0x144a6c(0x126),'value':function(){var _0x5d0ae1=_0x144a6c,_0x1e53db=document['createElement'](_0x5d0ae1(0x264));_0x1e53db['style'][_0x5d0ae1(0x243)]=_0x5d0ae1(0x20a),_0x1e53db['style'][_0x5d0ae1(0x15c)]=_0x5d0ae1(0x1ba),_0x1e53db[_0x5d0ae1(0x22a)][_0x5d0ae1(0x197)]=_0x5d0ae1(0x1ba),_0x1e53db[_0x5d0ae1(0x22a)][_0x5d0ae1(0x15f)]=_0x5d0ae1(0x17f),_0x1e53db[_0x5d0ae1(0x22a)][_0x5d0ae1(0x15d)]=_0x5d0ae1(0x17f),_0x1e53db[_0x5d0ae1(0x22a)][_0x5d0ae1(0x150)]=this[_0x5d0ae1(0x1dd)]?_0x5d0ae1(0x1df):'none',_0x1e53db[_0x5d0ae1(0x22a)][_0x5d0ae1(0x1ec)]=0xa,_0x1e53db['setAttribute']('id',_0x5d0ae1(0x23b)),_0x1e53db[_0x5d0ae1(0x1ea)](_0x5d0ae1(0x131),_0x5d0ae1(0x23b)),this['_map'][_0x5d0ae1(0x22c)][_0x5d0ae1(0x1ad)](_0x1e53db);var _0x31f96c=this['_map']['scene'];return _0x1e53db[_0x5d0ae1(0x15f)]=_0x31f96c['canvas'][_0x5d0ae1(0x1f7)],_0x1e53db['height']=_0x31f96c['canvas'][_0x5d0ae1(0x244)],_0x1e53db;}},{'key':_0x144a6c(0x118),'value':function(){var _0x211601=_0x144a6c;this[_0x211601(0x264)]&&(this[_0x211601(0x264)]['width']=this['canvasWidth'],this[_0x211601(0x264)][_0x211601(0x15d)]=this[_0x211601(0x137)]);}},{'key':_0x144a6c(0x122),'value':function(){var _0xc31c59=_0x144a6c,_0x4e77f=this,_0x181fc7=Date[_0xc31c59(0x1c5)]();!function _0x46689b(){var _0x1837b4=_0xc31c59;_0x4e77f[_0x1837b4(0x233)]=window[_0x1837b4(0x26d)](_0x46689b);var _0x11b2f2=Date[_0x1837b4(0x1c5)](),_0x239735=_0x11b2f2-_0x181fc7;_0x239735>_0x4e77f['frameTime']&&(_0x181fc7=_0x11b2f2-_0x239735%_0x4e77f[_0x1837b4(0x1de)],_0x4e77f[_0x1837b4(0x279)]());}(),window[_0xc31c59(0x12f)]('resize',this[_0xc31c59(0x118)][_0xc31c59(0x143)](this),!0x1),this['mouse_down']=!0x1,this[_0xc31c59(0x196)]=!0x1,this[_0xc31c59(0x267)]['on'](_0x1bf6a9[_0xc31c59(0x1a3)]['wheel'],this['_onMapWhellEvent'],this),this[_0xc31c59(0x267)]['on'](_0x1bf6a9[_0xc31c59(0x1a3)][_0xc31c59(0x21b)],this['_onMouseDownEvent'],this),this[_0xc31c59(0x267)]['on'](_0x1bf6a9['EventType']['mouseUp'],this[_0xc31c59(0x12c)],this),this[_0xc31c59(0x267)]['on'](_0x1bf6a9[_0xc31c59(0x1a3)][_0xc31c59(0x1b8)],this[_0xc31c59(0x16b)],this);}},{'key':'unbindEvent','value':function(){var _0x1bf4b1=_0x144a6c;window[_0x1bf4b1(0x11d)](this['animateFrame']),delete this[_0x1bf4b1(0x233)],window[_0x1bf4b1(0x25e)](_0x1bf4b1(0x118),this[_0x1bf4b1(0x118)]),this[_0x1bf4b1(0x267)][_0x1bf4b1(0x11c)](_0x1bf6a9['EventType'][_0x1bf4b1(0x241)],this[_0x1bf4b1(0x156)],this),this[_0x1bf4b1(0x267)][_0x1bf4b1(0x11c)](_0x1bf6a9[_0x1bf4b1(0x1a3)]['mouseDown'],this['_onMouseDownEvent'],this),this[_0x1bf4b1(0x267)][_0x1bf4b1(0x11c)](_0x1bf6a9[_0x1bf4b1(0x1a3)][_0x1bf4b1(0x18f)],this[_0x1bf4b1(0x12c)],this),this[_0x1bf4b1(0x267)][_0x1bf4b1(0x11c)](_0x1bf6a9[_0x1bf4b1(0x1a3)][_0x1bf4b1(0x1b8)],this[_0x1bf4b1(0x16b)],this);}},{'key':_0x144a6c(0x156),'value':function(_0x4e3216){var _0x4ff0c4=_0x144a6c,_0x554b05=this;clearTimeout(this[_0x4ff0c4(0x202)]),this[_0x4ff0c4(0x14b)]&&this[_0x4ff0c4(0x264)]&&(this[_0x4ff0c4(0x264)][_0x4ff0c4(0x22a)][_0x4ff0c4(0x24c)]=_0x4ff0c4(0x1d2),this['refreshTimer']=setTimeout(function(){var _0x3ee9ea=_0x4ff0c4;_0x554b05[_0x3ee9ea(0x14b)]&&(_0x554b05[_0x3ee9ea(0x1bb)](),_0x554b05['canvas']['style'][_0x3ee9ea(0x24c)]=_0x3ee9ea(0x1a1));},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0x316208){var _0x40e842=_0x144a6c;this[_0x40e842(0x1f6)]=!0x0;}},{'key':_0x144a6c(0x16b),'value':function(_0x506118){var _0x10f412=_0x144a6c;this[_0x10f412(0x14b)]&&this['canvas']&&this['mouse_down']&&(this[_0x10f412(0x264)][_0x10f412(0x22a)]['visibility']='hidden',this[_0x10f412(0x196)]=!0x0);}},{'key':_0x144a6c(0x12c),'value':function(_0x5456a4){var _0x7972cf=_0x144a6c;this[_0x7972cf(0x14b)]&&this[_0x7972cf(0x264)]&&(this[_0x7972cf(0x1f6)]&&this[_0x7972cf(0x196)]&&this[_0x7972cf(0x1bb)](),this[_0x7972cf(0x264)][_0x7972cf(0x22a)][_0x7972cf(0x24c)]=_0x7972cf(0x1a1),this['mouse_down']=!0x1,this[_0x7972cf(0x196)]=!0x1);}},{'key':_0x144a6c(0x1bb),'value':function(){var _0x4ff103=_0x144a6c;this[_0x4ff103(0x14b)]&&(this[_0x4ff103(0x1bd)]=[],this[_0x4ff103(0x199)]());}},{'key':_0x144a6c(0x215),'value':function(_0x41978e){var _0x366776=_0x144a6c;this[_0x366776(0x276)](),this[_0x366776(0x1c9)]=_0x41978e,this['windField']=new _0x3a2e8f(this[_0x366776(0x1c9)],this[_0x366776(0x17a)]),this[_0x366776(0x199)]();}},{'key':_0x144a6c(0x199),'value':function(){var _0x8ecbfd=_0x144a6c;this[_0x8ecbfd(0x26e)]();for(var _0xa9d6bd=0x0;_0xa9d6bd<this[_0x8ecbfd(0x179)];_0xa9d6bd++){var _0x1e3463=this[_0x8ecbfd(0x11a)](new _0x8ccc3f());this['particles'][_0x8ecbfd(0x19c)](_0x1e3463);}this[_0x8ecbfd(0x198)]['fillStyle']='rgba(0,\x200,\x200,\x200.97)',this[_0x8ecbfd(0x198)][_0x8ecbfd(0x228)]=0.6,this[_0x8ecbfd(0x279)]();}},{'key':_0x144a6c(0x26e),'value':function(){var _0x43bfdc=_0x144a6c;this[_0x43bfdc(0x18a)]&&(this[_0x43bfdc(0x193)]=[(this[_0x43bfdc(0x18a)][_0x43bfdc(0x1a9)]-this[_0x43bfdc(0x18a)][_0x43bfdc(0x221)])/this[_0x43bfdc(0x187)],(this[_0x43bfdc(0x18a)]['ymax']-this[_0x43bfdc(0x18a)][_0x43bfdc(0x17c)])/this[_0x43bfdc(0x187)]]);}},{'key':'update','value':function(){var _0x7a1375=_0x144a6c,_0x581854=this;if(this[_0x7a1375(0x14b)]&&!(this['particles'][_0x7a1375(0x192)]<=0x0)){var _0x55b8dd=null,_0x38b81e=null,_0x1a00e6=null;this[_0x7a1375(0x1bd)][_0x7a1375(0x277)](function(_0x52d570){var _0x51c5d8=_0x7a1375;if(_0x52d570['age']<=0x0&&_0x581854[_0x51c5d8(0x11a)](_0x52d570),_0x52d570[_0x51c5d8(0x27d)]>0x0){var _0x15dbad=_0x52d570[_0x51c5d8(0x1ef)],_0x503dfe=_0x52d570[_0x51c5d8(0x1d6)];(_0x1a00e6=_0x581854[_0x51c5d8(0x18a)]['getUVByPoint'](_0x15dbad,_0x503dfe))?(_0x55b8dd=_0x15dbad+_0x581854[_0x51c5d8(0x193)][0x0]*_0x1a00e6[0x0],_0x38b81e=_0x503dfe+_0x581854[_0x51c5d8(0x193)][0x1]*_0x1a00e6[0x1],_0x52d570['lng']=_0x15dbad,_0x52d570[_0x51c5d8(0x1e1)]=_0x503dfe,_0x52d570[_0x51c5d8(0x1ef)]=_0x55b8dd,_0x52d570[_0x51c5d8(0x1d6)]=_0x38b81e,_0x52d570[_0x51c5d8(0x27d)]--):_0x52d570[_0x51c5d8(0x27d)]=0x0;}}),this[_0x7a1375(0x201)]();}}},{'key':'_tomap','value':function(_0x5e2649,_0x8606f8,_0x1e311b){var _0xeec144=_0x144a6c,_0x590055=_0x5a5a77[_0xeec144(0x159)]['fromDegrees'](_0x5e2649,_0x8606f8,this[_0xeec144(0x11b)]),_0x345c8e=this[_0xeec144(0x267)]['scene'];if(_0x345c8e[_0xeec144(0x1cf)]===_0x5a5a77[_0xeec144(0x1c6)][_0xeec144(0x25a)]&&!new _0x5a5a77[(_0xeec144(0x245))](_0x345c8e[_0xeec144(0x1c4)][_0xeec144(0x1d8)],_0x345c8e['camera']['positionWC'])[_0xeec144(0x222)](_0x590055))return _0x1e311b[_0xeec144(0x27d)]=0x0,null;var _0x502bf5=_0x5a5a77['SceneTransforms'][_0xeec144(0x236)](this[_0xeec144(0x267)]['scene'],_0x590055);return _0x502bf5?[_0x502bf5['x'],_0x502bf5['y']]:null;}},{'key':_0x144a6c(0x201),'value':function(){var _0x23ae60=_0x144a6c,_0x10cde6=this,_0x1ee820=this[_0x23ae60(0x1bd)];this[_0x23ae60(0x198)]['lineWidth']=_0x10cde6[_0x23ae60(0x231)],this[_0x23ae60(0x198)][_0x23ae60(0x25f)]='destination-in',this[_0x23ae60(0x198)][_0x23ae60(0x19b)](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this[_0x23ae60(0x198)][_0x23ae60(0x25f)]=_0x23ae60(0x15e),this[_0x23ae60(0x198)]['globalAlpha']=0.9,this[_0x23ae60(0x198)][_0x23ae60(0x220)](),this['canvasContext']['strokeStyle']=this[_0x23ae60(0x1cc)];var _0x1ffa33=this['_map'][_0x23ae60(0x1b0)][_0x23ae60(0x1cf)]!==_0x5a5a77[_0x23ae60(0x1c6)][_0x23ae60(0x25a)];_0x1ee820[_0x23ae60(0x277)](function(_0x57febc){var _0x48228c=_0x23ae60,_0x1a112a=_0x10cde6[_0x48228c(0x203)](_0x57febc['lng'],_0x57febc[_0x48228c(0x1e1)],_0x57febc),_0x382320=_0x10cde6[_0x48228c(0x203)](_0x57febc['tlng'],_0x57febc[_0x48228c(0x1d6)],_0x57febc);if(null!=_0x1a112a&&null!=_0x382320){var _0x56284a=Math[_0x48228c(0x169)](_0x1a112a[0x0]-_0x382320[0x0]);_0x1ffa33&&_0x56284a>=_0x10cde6[_0x48228c(0x130)]||(_0x10cde6['canvasContext']['moveTo'](_0x1a112a[0x0],_0x1a112a[0x1]),_0x10cde6[_0x48228c(0x198)]['lineTo'](_0x382320[0x0],_0x382320[0x1]));}}),this[_0x23ae60(0x198)][_0x23ae60(0x1e4)]();}},{'key':_0x144a6c(0x11a),'value':function(_0x36ff09){var _0x5a7d9c=_0x144a6c;for(var _0x2c1b26,_0x357b09,_0x3c1d9d=0x0;_0x3c1d9d<0x1e&&(_0x2c1b26=this['windField']['getRandomLatLng'](),!((_0x357b09=this[_0x5a7d9c(0x18a)][_0x5a7d9c(0x166)](_0x2c1b26[_0x5a7d9c(0x1d7)],_0x2c1b26[_0x5a7d9c(0x1e1)]))&&_0x357b09[0x2]>0x0));_0x3c1d9d++);if(!_0x357b09)return _0x36ff09;var _0x610b3b=_0x2c1b26[_0x5a7d9c(0x1d7)]+this['calc_speedRate'][0x0]*_0x357b09[0x0],_0x451ad4=_0x2c1b26[_0x5a7d9c(0x1e1)]+this['calc_speedRate'][0x1]*_0x357b09[0x1];return _0x36ff09[_0x5a7d9c(0x1d7)]=_0x2c1b26['lng'],_0x36ff09[_0x5a7d9c(0x1e1)]=_0x2c1b26[_0x5a7d9c(0x1e1)],_0x36ff09[_0x5a7d9c(0x1ef)]=_0x610b3b,_0x36ff09[_0x5a7d9c(0x1d6)]=_0x451ad4,_0x36ff09['age']=Math[_0x5a7d9c(0x206)](Math['random']()*this[_0x5a7d9c(0x1a7)]),_0x36ff09;}},{'key':_0x144a6c(0x276),'value':function(){var _0xa63e2a=_0x144a6c;this[_0xa63e2a(0x1bd)]=[],delete this[_0xa63e2a(0x18a)],delete this['windData'];}}]),_0xcb289;}(_0x1bf6a9[_0x72592d(0x281)][_0x72592d(0x19e)]);function _0x461991(_0x5711e0,_0x11f36e){var _0x1bff3d=_0x72592d;return _0x5711e0*Math[_0x1bff3d(0x27b)](_0x5a5a77[_0x1bff3d(0x1b1)][_0x1bff3d(0x15b)](_0x11f36e));}function _0x2493f8(_0x30b0a0,_0x3e18c6){var _0x41388b=_0x72592d;return _0x30b0a0*Math[_0x41388b(0x165)](_0x5a5a77[_0x41388b(0x1b1)][_0x41388b(0x15b)](_0x3e18c6));}function _0x54f575(_0x34b929,_0xbcd7a6){var _0x5a6ad1=_0x72592d;return Math[_0x5a6ad1(0x11e)](Math[_0x5a6ad1(0x253)](_0x34b929,0x2)+Math['pow'](_0xbcd7a6,0x2));}function _0x17024d(_0x2029af,_0x53eca6){var _0x25765a=_0x72592d,_0x2e8577=_0x5a5a77[_0x25765a(0x1b1)][_0x25765a(0x23a)](Math['atan2'](_0x53eca6,_0x2029af));return _0x2e8577+=_0x2e8577<0x0?0x168:0x0;}_0x1bf6a9[_0x72592d(0x177)][_0x72592d(0x16a)](_0x72592d(0x136),_0x12c893),_0x1bf6a9[_0x72592d(0x281)][_0x72592d(0x152)]=_0x12c893,_0x1bf6a9[_0x72592d(0x229)]=_0x12f3d2;}]);}));function a0_0x2a30(){var _0x48ffbf=['toRadians','top','height','lighter','width','add','dropRateBump','getContext','Draw','keys','sin','getUVByPoint','UNSIGNED_BYTE','fadeOpacity','abs','register','_onMouseMoveEvent','PixelDatatype','max','_addedHook','rows','PixelFormat','fill','PrimitiveCollection','applyUserInput','getPixelSize','currentParticlesPosition','value','LayerUtil','fromDegrees','particlesNumber','reverseY','Appearance','ymin','commandType','Cesium','100%','undefined','setData','call','postProcessingPosition','outputTexture','destroyParticlesTextures','apply','speedRate','viewport','globeBoundingSphere','windField','mars3dWind','Sampler','102MFlHBq','constructor','mouseUp','geometry','segments','length','calc_speedRate','DepthFunction','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','mouse_move','left','canvasContext','drawWind','array','fillRect','push','setPrototypeOf','BaseLayer','_speedRate','dropRate','visible','Rectangle','EventType','TWO_PI','defaultValue','addPrimitives','maxAge','createComputingPrimitives','xmax','RGBA','createTexture','autoClear','appendChild','canrefresh','south','scene','Math','WMS_URL','1165580Mnicwd','VertexArray','preRender','particlesTextureSize','attributeLocations','mouseMove','PI_OVER_TWO','0px','redraw','3YupKJy','particles','segmentsColor','clampToLatitudeRange','nextParticlesPosition','mars3d-cesium','setupEventListeners','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','globe','now','SceneMode','_removedHook','GeometryAttribute','windData','WindLayer','pointer-events','color','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','createRenderingTextures','mode','shaderProgram','vdata','hidden','refreshParticles','getUserInput','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','tlat','lng','ellipsoid','pixelSize','maxParticles','sham','primitives','_pointerEvents','frameTime','auto','toGridXY','lat','createWindTextures','setGeometry','stroke','symbol','createSegmentsGeometry','372085MNZNbj','216492QnWjPG','grid','setAttribute','BufferUsage','zIndex','lev','configurable','tlng','ceil','colorNum','defined','randomBetween','getDirection','viewerParameters','mouse_down','clientWidth','updatePosition','ComponentDatatype','fragmentShaderSource','source','TRIANGLES','west','createRenderingPrimitives','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','_particlesNumber','_drawLines','refreshTimer','_tomap','particlesWind','min','round','floor','dimensions','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','absolute','ClearCommand','hasOwnProperty','32BOhAym','writable','fromGeometry','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','getV','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','random','textures','updateDate','drawingBufferHeight','removeChild','drawingBufferWidth','Texture','destroy','mouseDown','primitiveType','wind','options','object','beginPath','xmin','isPointVisible','LINEAR','Pass','canvasResize','all','getPrototypeOf','globalAlpha','WindUtil','style','preExecute','container','speedFactor','particlesTextures','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','computeViewRectangle','lineWidth','107415UVkVAV','animateFrame','moveEnd','particlesRendering','wgs84ToWindowCoordinates','3581360nHXXjj','_showHook','getUVByXY','toDegrees','canvasWindy','remove','RGB','_mountedHook','RenderState','lon','wheel','_calcUV','position','clientHeight','EllipsoidalOccluder','getWind','__esModule','framebuffer','#ffffff','Matrix4','framebuffers','visibility','screen','ymax','particleHeight','fromCache','Compute','PI_OVER_THREE','pow','OPAQUE','default','ZERO','DISABLE_GL_POSITION_LOG_DEPTH','TextureMagnificationFilter','rawRenderState','SCENE3D','frameRate','particleSystem','function','removeEventListener','globalCompositeOperation','NEAREST','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','string','removeAll','canvas','Color','enumerable','_map','windTextures','createRenderingFramebuffers','UNSIGNED_INT','updateViewerParameters','construct','requestAnimationFrame','_calcStep','exports','Cartesian2','TextureMinificationFilter','east','_maxAge','uniformMap','prototype','clear','forEach','currentTrails','update','_bilinearInterpolation','cos','isInExtent','age','valueOf','lonRange','createRawRenderState','layer','GeometryAttributes','setOptions','mars3d','969480JbJNdx','log','create','resize','data','randomParticle','fixedHeight','off','cancelAnimationFrame','sqrt','nextTrails','createCommand','latRange','bindEvent','mod','__proto__','context','_createCanvas','createFramebuffer','vertexArray','currentTrailsDepth','FLOAT','clearCommand','_onMouseUpEvent','143536KqRcLH','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','addEventListener','canvasWidth','class','none','vertexShaderSource','nextParticlesSpeed','Geometry','canvasWind','canvasHeight','clearFramebuffers','currentTrailsColor','userInput','commandList','blending','depthTexture','depthTest','applyViewerParameters','cols','getDefaultRenderState','getSpeed','bind','particlesComputing','segmentsDepth','trails','defineProperty','getRandomLatLng','commandToExecute','IDENTITY','show','PrimitiveType','globeLayer','ShaderSource','THREE_PI_OVER_TWO','pointerEvents','createParticlesTextures','CanvasWindLayer','camera','key','ALWAYS','_onMapWhellEvent','currentParticlesSpeed','colorTable','Cartesian3','STATIC_DRAW'];a0_0x2a30=function(){return _0x48ffbf;};return a0_0x2a30();}