function a0_0x4d60(_0x2e94eb,_0x1ce20a){var _0x2440d4=a0_0x2440();return a0_0x4d60=function(_0x4d6006,_0x59bdc1){_0x4d6006=_0x4d6006-0x65;var _0x46d939=_0x2440d4[_0x4d6006];return _0x46d939;},a0_0x4d60(_0x2e94eb,_0x1ce20a);}function a0_0x2440(){var _0x2a8cfc=['lineWidth','defined','setupEventListeners','ShaderSource','addEventListener','clearCommand','cancelAnimationFrame','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','isInExtent','createElement','call','Color','width','LayerUtil','_drawLines','Framebuffer','mars3d','mod','min','Compute','WMS_URL','particlesWind','dimensions','userInput','appendChild','speedRate','createParticlesTextures','camera','refreshParticles','globalAlpha','positionWC','Cesium','currentParticlesSpeed','west','_particlesNumber','mars3dWind','RGB','getPrototypeOf','dropRateBump','height','requestAnimationFrame','VertexArray','execute','valueOf','top','2161210FaWpsY','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','off','destination-in','UNSIGNED_BYTE','SceneMode','fromCache','PrimitiveType','DrawCommand','currentTrailsColor','commandToExecute','getUVByPoint','removeEventListener','length','Cartesian3','ellipsoid','setOptions','data','_removedHook','_onMapWhellEvent','globalCompositeOperation','defaultValue','viewerParameters','nextTrailsDepth','Math','shaderProgram','commandType','redraw','LUMINANCE','mouseMove','colorNum','pointer-events','createTexture','function','OPAQUE','8joMheP','none','auto','updateViewerParameters','rgba(0,\x200,\x200,\x200.97)','fromDegrees','mouseUp','textures','Module','RGBA','resize','rows','moveStart','latRange','symbol','preExecute','clear','removeAll','framebuffers','_calcUV','windTextures','7NbtVKA','abs','nextTrails','isPointVisible','_showHook','addPrimitives','PI_OVER_THREE','nextParticlesSpeed','getDefaultRenderState','33aGLUrp','ymax','nextParticlesPosition','keys','particlesNumber','SCENE3D','cols','object','reverseY','zIndex','animateFrame','depthMask','getRandomLatLng','_map','commandList','speedFactor','clampToLatitudeRange','TextureMinificationFilter','ceil','1894668zrRxRO','absolute','clientHeight','_bilinearInterpolation','globe','getUVByXY','getUserInput','RenderState','BufferUsage','sin','_pointerEvents','_maxAge','ComponentDatatype','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','pixelSize','particlesTextureSize','vertexArray','_onMouseDownEvent','segments','configurable','#ffffff','postProcessingPosition','destroyParticlesTextures','createFramebuffer','segmentsDepth','getFullscreenQuad','position','windField','xmin','remove','TextureMagnificationFilter','mars3d-cesium','currentTrails','particleHeight','random','round','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','createWindTextures','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','particles','apply','outputTexture','4179865lhIiir','writable','toGridXY','depthTest','FLOAT','drawingBufferHeight','uniformMap','setData','getContext','toStringTag','exports','refreshTimer','Cartesian2','Appearance','Pass','createRenderingFramebuffers','scene','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','mouseDown','viewport','options','PrimitiveCollection','ZERO','grid','array','604809dpILiD','undefined','pointerEvents','sqrt','register','reverse','WindLayer','north','push','getPixelSize','fragmentShaderSource','string','preRender','_onMouseMoveEvent','currentTrailsDepth','amd','tlat','canvasResize','lat','attributeLocations','isDestroyed','updatePosition','maxParticles','lonRange','getColorTexture','blending','Rectangle','mouse_down','canvasContext','LINEAR','applyViewerParameters','Geometry','lev','color','visibility','now','setAttribute','atan2','_speedRate','DEPTH_COMPONENT','all','fillStyle','createComputingPrimitives','destroy','moveEnd','context','source','888924fBVVaZ','update','3430VYAinb','autoClear','TRIANGLES','GeometryAttributes','uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}','enumerable','__esModule','key','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','createRenderingPrimitives','rawRenderState','createSegmentsGeometry','fadeOpacity','canvas','canvasWidth','defineProperty','toRadians','canvasWind','setPrototypeOf','currentParticlesPosition','randomParticle','particlesRendering','primitives','segmentsColor','udata','THREE_PI_OVER_TWO','depthTexture','getExtent','EllipsoidalOccluder','_onMouseUpEvent','destroyObject','colorTable','stroke','toDegrees','hidden','frameTime','100%','lon','value','add','create','fixedHeight','construct','arrayBufferView','pow','wgs84ToWindowCoordinates','ShaderProgram','moveTo','0px','particlesTextures','maxAge','beginPath','__proto__','PI_OVER_TWO','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','getWind','log','canvasWindy','viewRectangleToLonLatRange','getSpeed','wheel','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','createCommand','mode','drawingBufferWidth','EventType','postProcessingSpeed','forEach','globeLayer','iterator','PixelDatatype','_mountedHook','getV','frameRate','class','IDENTITY','BaseLayer','age','particleSystem','windData','randomizeParticles','mouse_move','cos','GeometryAttribute','style','lng','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','Sampler','vertexShaderSource','prototype','updateSpeed','createRenderingTextures','calc_speedRate','geometry','container','layer','4822731iSwgnc','primitiveType','applyUserInput','south','unbindEvent','clientWidth','dropRate','updateDate','randomBetween','max','globeBoundingSphere','clearFramebuffers','Draw','canvasHeight','PixelFormat','particlesComputing','WindUtil','sham','tlng','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','canrefresh','_calcStep','default','DISABLE_GL_POSITION_LOG_DEPTH','fromGeometry','framebuffer','NEAREST','trails','createRawRenderState','_createCanvas','removeChild','constructor','_tomap','STATIC_DRAW','show','_addedHook','UNSIGNED_INT','hasOwnProperty','drawWind','ymin','ClearCommand','getU','Texture','TWO_PI','xmax','floor','553sHJzvg'];a0_0x2440=function(){return _0x2a8cfc;};return a0_0x2440();}(function(_0x36833b,_0x18ebdd){var _0x4e25b0=a0_0x4d60,_0x5291b5=_0x36833b();while(!![]){try{var _0x369ea8=-parseInt(_0x4e25b0(0xeb))/0x1*(-parseInt(_0x4e25b0(0x1e1))/0x2)+parseInt(_0x4e25b0(0x1b0))/0x3+parseInt(_0x4e25b0(0x1df))/0x4+-parseInt(_0x4e25b0(0x197))/0x5+-parseInt(_0x4e25b0(0x16d))/0x6*(-parseInt(_0x4e25b0(0x151))/0x7)+parseInt(_0x4e25b0(0x13c))/0x8*(parseInt(_0x4e25b0(0xbd))/0x9)+parseInt(_0x4e25b0(0x119))/0xa*(-parseInt(_0x4e25b0(0x15a))/0xb);if(_0x369ea8===_0x18ebdd)break;else _0x5291b5['push'](_0x5291b5['shift']());}catch(_0x2d20d9){_0x5291b5['push'](_0x5291b5['shift']());}}}(a0_0x2440,0xb48ca),!function(_0x2caeeb,_0x2d48e0){var _0x54c83b=a0_0x4d60;_0x54c83b(0x161)==typeof exports&&_0x54c83b(0x161)==typeof module?module[_0x54c83b(0x1a1)]=_0x2d48e0(require(_0x54c83b(0x18c)),require(_0x54c83b(0xfc))):'function'==typeof define&&define[_0x54c83b(0x1bf)]?define(_0x54c83b(0x10f),['mars3d-cesium','mars3d'],_0x2d48e0):_0x54c83b(0x161)==typeof exports?exports[_0x54c83b(0x10f)]=_0x2d48e0(require(_0x54c83b(0x18c)),require(_0x54c83b(0xfc))):_0x2caeeb['mars3dWind']=_0x2d48e0(_0x2caeeb[_0x54c83b(0x10b)],_0x2caeeb[_0x54c83b(0xfc)]);}(window,function(_0x53d2b4,_0x16bd3b){return function(_0x557890){var _0x13d119={};function _0x4d78b4(_0x47ddb7){var _0x13f959=a0_0x4d60;if(_0x13d119[_0x47ddb7])return _0x13d119[_0x47ddb7]['exports'];var _0x4b9750=_0x13d119[_0x47ddb7]={'i':_0x47ddb7,'l':!0x1,'exports':{}};return _0x557890[_0x47ddb7]['call'](_0x4b9750['exports'],_0x4b9750,_0x4b9750[_0x13f959(0x1a1)],_0x4d78b4),_0x4b9750['l']=!0x0,_0x4b9750[_0x13f959(0x1a1)];}return _0x4d78b4['m']=_0x557890,_0x4d78b4['c']=_0x13d119,_0x4d78b4['d']=function(_0x7afb5e,_0x2dea44,_0x3596c9){_0x4d78b4['o'](_0x7afb5e,_0x2dea44)||Object['defineProperty'](_0x7afb5e,_0x2dea44,{'enumerable':!0x0,'get':_0x3596c9});},_0x4d78b4['r']=function(_0xb46ff6){var _0x9ced87=a0_0x4d60;_0x9ced87(0x1b1)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x9ced87(0x6c)](_0xb46ff6,Symbol[_0x9ced87(0x1a0)],{'value':_0x9ced87(0x144)}),Object[_0x9ced87(0x6c)](_0xb46ff6,_0x9ced87(0x1e7),{'value':!0x0});},_0x4d78b4['t']=function(_0x5bf8ec,_0xaa8982){var _0x50f52d=a0_0x4d60;if(0x1&_0xaa8982&&(_0x5bf8ec=_0x4d78b4(_0x5bf8ec)),0x8&_0xaa8982)return _0x5bf8ec;if(0x4&_0xaa8982&&'object'==typeof _0x5bf8ec&&_0x5bf8ec&&_0x5bf8ec['__esModule'])return _0x5bf8ec;var _0x4f39a9=Object[_0x50f52d(0x85)](null);if(_0x4d78b4['r'](_0x4f39a9),Object['defineProperty'](_0x4f39a9,_0x50f52d(0xd3),{'enumerable':!0x0,'value':_0x5bf8ec}),0x2&_0xaa8982&&_0x50f52d(0x1bb)!=typeof _0x5bf8ec){for(var _0x3a5198 in _0x5bf8ec)_0x4d78b4['d'](_0x4f39a9,_0x3a5198,function(_0x19adea){return _0x5bf8ec[_0x19adea];}['bind'](null,_0x3a5198));}return _0x4f39a9;},_0x4d78b4['n']=function(_0x5b185e){var _0x31da72=_0x5b185e&&_0x5b185e['__esModule']?function(){var _0x240776=a0_0x4d60;return _0x5b185e[_0x240776(0xd3)];}:function(){return _0x5b185e;};return _0x4d78b4['d'](_0x31da72,'a',_0x31da72),_0x31da72;},_0x4d78b4['o']=function(_0x4d324d,_0x1df1f1){var _0x3370ed=a0_0x4d60;return Object['prototype'][_0x3370ed(0xe2)][_0x3370ed(0xf6)](_0x4d324d,_0x1df1f1);},_0x4d78b4['p']='',_0x4d78b4(_0x4d78b4['s']=0x14);}([function(_0x1cd26e,_0x271808){var _0x542e4a=a0_0x4d60;_0x1cd26e[_0x542e4a(0x1a1)]=_0x53d2b4;},function(_0x7a575c,_0x14c406){_0x7a575c['exports']=_0x16bd3b;},function(_0x3a461d,_0x56610d){var _0x37ff35=a0_0x4d60;_0x3a461d[_0x37ff35(0x1a1)]=function(_0x1fd33e,_0x5ad815){var _0x1f515f=_0x37ff35;if(!(_0x1fd33e instanceof _0x5ad815))throw new TypeError(_0x1f515f(0x193));},_0x3a461d[_0x37ff35(0x1a1)][_0x37ff35(0xd3)]=_0x3a461d[_0x37ff35(0x1a1)],_0x3a461d['exports'][_0x37ff35(0x1e7)]=!0x0;},function(_0x3f93b2,_0xdfd4d7){var _0x37cad7=a0_0x4d60;function _0x49850e(_0x2a4e4b,_0x35d22d){var _0x140d7c=a0_0x4d60;for(var _0x21f453=0x0;_0x21f453<_0x35d22d[_0x140d7c(0x126)];_0x21f453++){var _0x390aab=_0x35d22d[_0x21f453];_0x390aab[_0x140d7c(0x1e6)]=_0x390aab[_0x140d7c(0x1e6)]||!0x1,_0x390aab[_0x140d7c(0x180)]=!0x0,_0x140d7c(0x83)in _0x390aab&&(_0x390aab[_0x140d7c(0x198)]=!0x0),Object[_0x140d7c(0x6c)](_0x2a4e4b,_0x390aab[_0x140d7c(0x1e8)],_0x390aab);}}_0x3f93b2[_0x37cad7(0x1a1)]=function(_0x586f86,_0x2af1c4,_0x40e580){return _0x2af1c4&&_0x49850e(_0x586f86['prototype'],_0x2af1c4),_0x40e580&&_0x49850e(_0x586f86,_0x40e580),_0x586f86;},_0x3f93b2['exports'][_0x37cad7(0xd3)]=_0x3f93b2['exports'],_0x3f93b2['exports'][_0x37cad7(0x1e7)]=!0x0;},function(_0x25b86a,_0x179c45){var _0xf4e94=a0_0x4d60;function _0x4ad512(_0x31a4f8){var _0xa60fe4=a0_0x4d60;return _0x25b86a[_0xa60fe4(0x1a1)]=_0x4ad512=Object[_0xa60fe4(0x6f)]?Object[_0xa60fe4(0x111)]:function(_0x58187a){var _0x58f6d3=_0xa60fe4;return _0x58187a['__proto__']||Object[_0x58f6d3(0x111)](_0x58187a);},_0x25b86a[_0xa60fe4(0x1a1)][_0xa60fe4(0xd3)]=_0x25b86a['exports'],_0x25b86a[_0xa60fe4(0x1a1)][_0xa60fe4(0x1e7)]=!0x0,_0x4ad512(_0x31a4f8);}_0x25b86a[_0xf4e94(0x1a1)]=_0x4ad512,_0x25b86a[_0xf4e94(0x1a1)]['default']=_0x25b86a['exports'],_0x25b86a['exports'][_0xf4e94(0x1e7)]=!0x0;},function(_0x931f97,_0x30c16d,_0x519a73){var _0x3401fe=a0_0x4d60,_0x4f20f7=_0x519a73(0x11);_0x931f97[_0x3401fe(0x1a1)]=function(_0xf60a60,_0x479edf){var _0x22119d=_0x3401fe;if('function'!=typeof _0x479edf&&null!==_0x479edf)throw new TypeError(_0x22119d(0x65));_0xf60a60[_0x22119d(0xb6)]=Object[_0x22119d(0x85)](_0x479edf&&_0x479edf['prototype'],{'constructor':{'value':_0xf60a60,'writable':!0x0,'configurable':!0x0}}),_0x479edf&&_0x4f20f7(_0xf60a60,_0x479edf);},_0x931f97['exports'][_0x3401fe(0xd3)]=_0x931f97[_0x3401fe(0x1a1)],_0x931f97[_0x3401fe(0x1a1)][_0x3401fe(0x1e7)]=!0x0;},function(_0x44a7b8,_0x5a8742,_0x139ed1){var _0x5d8068=a0_0x4d60,_0x2235d8=_0x139ed1(0x12)[_0x5d8068(0xd3)],_0x36b08c=_0x139ed1(0x13);_0x44a7b8[_0x5d8068(0x1a1)]=function(_0x3a8bb3,_0x4438c9){var _0x36c110=_0x5d8068;if(_0x4438c9&&(_0x36c110(0x161)===_0x2235d8(_0x4438c9)||_0x36c110(0x13a)==typeof _0x4438c9))return _0x4438c9;if(void 0x0!==_0x4438c9)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');return _0x36b08c(_0x3a8bb3);},_0x44a7b8['exports'][_0x5d8068(0xd3)]=_0x44a7b8[_0x5d8068(0x1a1)],_0x44a7b8[_0x5d8068(0x1a1)][_0x5d8068(0x1e7)]=!0x0;},function(_0x2704df,_0x54971d){var _0x2983e3=a0_0x4d60;_0x2704df['exports']=_0x2983e3(0x17a);},function(_0x35279e,_0x24601c){var _0x1a96cb=a0_0x4d60;_0x35279e[_0x1a96cb(0x1a1)]=_0x1a96cb(0x11a);},function(_0x2600ed,_0x5d1afe){var _0x3e3c88=a0_0x4d60;_0x2600ed['exports']=_0x3e3c88(0x191);},function(_0x251062,_0x1e1a00){var _0x36606a=a0_0x4d60;_0x251062[_0x36606a(0x1a1)]=_0x36606a(0xf3);},function(_0x5a57bc,_0x671a5b){var _0x57e555=a0_0x4d60;_0x5a57bc[_0x57e555(0x1a1)]='uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}';},function(_0x470b26,_0x36ce64){var _0x1f3ca7=a0_0x4d60;_0x470b26[_0x1f3ca7(0x1a1)]=_0x1f3ca7(0xb3);},function(_0x485ba2,_0x24feea){var _0x54b460=a0_0x4d60;_0x485ba2[_0x54b460(0x1a1)]=_0x54b460(0x1a8);},function(_0x255a25,_0x2e4ebb){var _0x2a4821=a0_0x4d60;_0x255a25['exports']=_0x2a4821(0x1e5);},function(_0x322f9c,_0x132a21){var _0x3d9039=a0_0x4d60;_0x322f9c[_0x3d9039(0x1a1)]='uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}';},function(_0x33f022,_0x158937){var _0x172e12=a0_0x4d60;_0x33f022[_0x172e12(0x1a1)]=_0x172e12(0x9a);},function(_0x43be68,_0x5438cc){var _0x2e448c=a0_0x4d60;function _0x1260c1(_0x31048d,_0x5d24f3){var _0x68129b=a0_0x4d60;return _0x43be68[_0x68129b(0x1a1)]=_0x1260c1=Object[_0x68129b(0x6f)]||function(_0x134e9d,_0x269176){var _0x243394=_0x68129b;return _0x134e9d[_0x243394(0x91)]=_0x269176,_0x134e9d;},_0x43be68['exports']['default']=_0x43be68[_0x68129b(0x1a1)],_0x43be68[_0x68129b(0x1a1)][_0x68129b(0x1e7)]=!0x0,_0x1260c1(_0x31048d,_0x5d24f3);}_0x43be68[_0x2e448c(0x1a1)]=_0x1260c1,_0x43be68[_0x2e448c(0x1a1)][_0x2e448c(0xd3)]=_0x43be68[_0x2e448c(0x1a1)],_0x43be68['exports'][_0x2e448c(0x1e7)]=!0x0;},function(_0x379ca4,_0x477ca7){var _0x5ad2ff=a0_0x4d60;function _0x1cc5fd(_0x4b9e54){var _0x19e596=a0_0x4d60;return _0x19e596(0x13a)==typeof Symbol&&_0x19e596(0x14a)==typeof Symbol[_0x19e596(0xa2)]?(_0x379ca4['exports']=_0x1cc5fd=function(_0x5bfe30){return typeof _0x5bfe30;},_0x379ca4[_0x19e596(0x1a1)]['default']=_0x379ca4['exports'],_0x379ca4[_0x19e596(0x1a1)][_0x19e596(0x1e7)]=!0x0):(_0x379ca4[_0x19e596(0x1a1)]=_0x1cc5fd=function(_0x25bc35){var _0xbab60e=_0x19e596;return _0x25bc35&&_0xbab60e(0x13a)==typeof Symbol&&_0x25bc35[_0xbab60e(0xdc)]===Symbol&&_0x25bc35!==Symbol[_0xbab60e(0xb6)]?_0xbab60e(0x14a):typeof _0x25bc35;},_0x379ca4['exports']['default']=_0x379ca4[_0x19e596(0x1a1)],_0x379ca4[_0x19e596(0x1a1)][_0x19e596(0x1e7)]=!0x0),_0x1cc5fd(_0x4b9e54);}_0x379ca4[_0x5ad2ff(0x1a1)]=_0x1cc5fd,_0x379ca4[_0x5ad2ff(0x1a1)][_0x5ad2ff(0xd3)]=_0x379ca4[_0x5ad2ff(0x1a1)],_0x379ca4['exports'][_0x5ad2ff(0x1e7)]=!0x0;},function(_0x1ed4c5,_0x22757b){var _0x375828=a0_0x4d60;_0x1ed4c5['exports']=function(_0x423d4e){var _0x48e710=a0_0x4d60;if(void 0x0===_0x423d4e)throw new ReferenceError(_0x48e710(0x93));return _0x423d4e;},_0x1ed4c5[_0x375828(0x1a1)][_0x375828(0xd3)]=_0x1ed4c5['exports'],_0x1ed4c5[_0x375828(0x1a1)]['__esModule']=!0x0;},function(_0x226a42,_0x2b1d89,_0x5e70de){'use strict';var _0x5701de=a0_0x4d60;_0x5e70de['r'](_0x2b1d89),_0x5e70de['d'](_0x2b1d89,_0x5701de(0x1b6),function(){return _0x1de823;}),_0x5e70de['d'](_0x2b1d89,'CanvasWindLayer',function(){return _0x210dcd;}),_0x5e70de['d'](_0x2b1d89,_0x5701de(0xcd),function(){return _0x127fea;});var _0x127fea={};_0x5e70de['r'](_0x127fea),_0x5e70de['d'](_0x127fea,_0x5701de(0xe6),function(){return _0x2f82a7;}),_0x5e70de['d'](_0x127fea,_0x5701de(0xa5),function(){return _0x26d5ce;}),_0x5e70de['d'](_0x127fea,_0x5701de(0x98),function(){return _0x344fd8;}),_0x5e70de['d'](_0x127fea,'getDirection',function(){return _0x7920ef;});var _0x44878e=_0x5e70de(0x1),_0x232355=_0x5e70de(0x2),_0x4fcb50=_0x5e70de['n'](_0x232355),_0xf9142c=_0x5e70de(0x3),_0x3d9da7=_0x5e70de['n'](_0xf9142c),_0x471185=_0x5e70de(0x5),_0x53c6cb=_0x5e70de['n'](_0x471185),_0x319f00=_0x5e70de(0x6),_0x3652b9=_0x5e70de['n'](_0x319f00),_0x42f212=_0x5e70de(0x4),_0x1c7a39=_0x5e70de['n'](_0x42f212),_0x1b1a0c=_0x5e70de(0x0),_0xfd2c79=function(){var _0x1a8285=_0x5701de;function _0x40e9de(_0x65073d){var _0x2ad7c6=a0_0x4d60;_0x4fcb50()(this,_0x40e9de),this[_0x2ad7c6(0x133)]=_0x65073d[_0x2ad7c6(0x133)],this['geometry']=_0x65073d[_0x2ad7c6(0xba)],this['attributeLocations']=_0x65073d[_0x2ad7c6(0x1c3)],this[_0x2ad7c6(0xbe)]=_0x65073d['primitiveType'],this['uniformMap']=_0x65073d[_0x2ad7c6(0x19d)],this[_0x2ad7c6(0xb5)]=_0x65073d['vertexShaderSource'],this[_0x2ad7c6(0x1ba)]=_0x65073d[_0x2ad7c6(0x1ba)],this[_0x2ad7c6(0x67)]=_0x65073d[_0x2ad7c6(0x67)],this[_0x2ad7c6(0xd6)]=_0x65073d['framebuffer'],this[_0x2ad7c6(0x196)]=_0x65073d[_0x2ad7c6(0x196)],this['autoClear']=_0x1b1a0c[_0x2ad7c6(0x12e)](_0x65073d[_0x2ad7c6(0x1e2)],!0x1),this[_0x2ad7c6(0x14b)]=_0x65073d[_0x2ad7c6(0x14b)],this[_0x2ad7c6(0xdf)]=!0x0,this[_0x2ad7c6(0x123)]=void 0x0,this['clearCommand']=void 0x0,this[_0x2ad7c6(0x1e2)]&&(this[_0x2ad7c6(0xf1)]=new _0x1b1a0c[(_0x2ad7c6(0xe5))]({'color':new _0x1b1a0c[(_0x2ad7c6(0xf7))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x2ad7c6(0xd6)],'pass':_0x1b1a0c['Pass'][_0x2ad7c6(0x13b)]}));}return _0x3d9da7()(_0x40e9de,[{'key':_0x1a8285(0x9b),'value':function(_0x39cb14){var _0x58270b=_0x1a8285;switch(this[_0x58270b(0x133)]){case _0x58270b(0xc9):var _0xd9726=_0x1b1a0c['VertexArray'][_0x58270b(0xd5)]({'context':_0x39cb14,'geometry':this['geometry'],'attributeLocations':this[_0x58270b(0x1c3)],'bufferUsage':_0x1b1a0c[_0x58270b(0x175)]['STATIC_DRAW']}),_0x3b8fda=_0x1b1a0c[_0x58270b(0x8b)][_0x58270b(0x11f)]({'context':_0x39cb14,'attributeLocations':this[_0x58270b(0x1c3)],'vertexShaderSource':this[_0x58270b(0xb5)],'fragmentShaderSource':this[_0x58270b(0x1ba)]}),_0x4ccf17=_0x1b1a0c[_0x58270b(0x174)][_0x58270b(0x11f)](this[_0x58270b(0x67)]);return new _0x1b1a0c[(_0x58270b(0x121))]({'owner':this,'vertexArray':_0xd9726,'primitiveType':this[_0x58270b(0xbe)],'uniformMap':this[_0x58270b(0x19d)],'modelMatrix':_0x1b1a0c['Matrix4'][_0x58270b(0xa8)],'shaderProgram':_0x3b8fda,'framebuffer':this[_0x58270b(0xd6)],'renderState':_0x4ccf17,'pass':_0x1b1a0c[_0x58270b(0x1a5)]['OPAQUE']});case _0x58270b(0xff):return new _0x1b1a0c['ComputeCommand']({'owner':this,'fragmentShaderSource':this[_0x58270b(0x1ba)],'uniformMap':this['uniformMap'],'outputTexture':this[_0x58270b(0x196)],'persists':!0x0});}}},{'key':'setGeometry','value':function(_0x335104,_0x2249fb){var _0x3cc042=_0x1a8285;this[_0x3cc042(0xba)]=_0x2249fb;var _0x4a88e1=_0x1b1a0c[_0x3cc042(0x115)][_0x3cc042(0xd5)]({'context':_0x335104,'geometry':this['geometry'],'attributeLocations':this[_0x3cc042(0x1c3)],'bufferUsage':_0x1b1a0c[_0x3cc042(0x175)][_0x3cc042(0xde)]});this[_0x3cc042(0x123)][_0x3cc042(0x17d)]=_0x4a88e1;}},{'key':_0x1a8285(0x1e0),'value':function(_0x3c2f40){var _0x41a190=_0x1a8285;this[_0x41a190(0xdf)]&&_0x3c2f40[_0x41a190(0x9c)]==_0x1b1a0c['SceneMode'][_0x41a190(0x15f)]&&(_0x1b1a0c[_0x41a190(0xed)](this[_0x41a190(0x123)])||(this[_0x41a190(0x123)]=this[_0x41a190(0x9b)](_0x3c2f40[_0x41a190(0x1dd)])),_0x1b1a0c[_0x41a190(0xed)](this[_0x41a190(0x14b)])&&this[_0x41a190(0x14b)](),_0x1b1a0c['defined'](this['clearCommand'])&&_0x3c2f40[_0x41a190(0x168)][_0x41a190(0x1b8)](this[_0x41a190(0xf1)]),_0x3c2f40['commandList'][_0x41a190(0x1b8)](this[_0x41a190(0x123)]));}},{'key':_0x1a8285(0x1c4),'value':function(){return!0x1;}},{'key':_0x1a8285(0x1db),'value':function(){var _0x5253ea=_0x1a8285;return _0x1b1a0c[_0x5253ea(0xed)](this[_0x5253ea(0x123)])&&(this[_0x5253ea(0x123)][_0x5253ea(0x132)]=this['commandToExecute'][_0x5253ea(0x132)]&&this[_0x5253ea(0x123)][_0x5253ea(0x132)][_0x5253ea(0x1db)]()),_0x1b1a0c[_0x5253ea(0x7b)](this);}}]),_0x40e9de;}(),_0xd32a26={'getFullscreenQuad':function(){var _0x97237d=_0x5701de;return new _0x1b1a0c['Geometry']({'attributes':new _0x1b1a0c[(_0x97237d(0x1e4))]({'position':new _0x1b1a0c['GeometryAttribute']({'componentDatatype':_0x1b1a0c['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x1b1a0c[(_0x97237d(0xb0))]({'componentDatatype':_0x1b1a0c[_0x97237d(0x179)][_0x97237d(0x19b)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0xbc51ac,_0x29d788){var _0x44ff3d=_0x5701de;if(_0x1b1a0c[_0x44ff3d(0xed)](_0x29d788)){var _0x1092bd={};_0x1092bd[_0x44ff3d(0x88)]=_0x29d788,_0xbc51ac[_0x44ff3d(0x1de)]=_0x1092bd;}return new _0x1b1a0c[(_0x44ff3d(0xe7))](_0xbc51ac);},'createFramebuffer':function(_0x5144b5,_0x8d0760,_0x5b368c){var _0x52d10a=_0x5701de;return new _0x1b1a0c[(_0x52d10a(0xfb))]({'context':_0x5144b5,'colorTextures':[_0x8d0760],'depthTexture':_0x5b368c});},'createRawRenderState':function(_0x1491e0){var _0x5c5583=_0x5701de,_0x362366={'viewport':_0x1491e0[_0x5c5583(0x1aa)],'depthTest':_0x1491e0[_0x5c5583(0x19a)],'depthMask':_0x1491e0[_0x5c5583(0x165)],'blending':_0x1491e0[_0x5c5583(0x1c9)]};return _0x1b1a0c[_0x5c5583(0x1a4)][_0x5c5583(0x159)](!0x0,!0x1,_0x362366);},'viewRectangleToLonLatRange':function(_0x1f8f7b){var _0x58c89d=_0x5701de,_0x4a7dbb,_0x3a24ec,_0x3216d1={},_0xc65654=_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0xfd)](_0x1f8f7b[_0x58c89d(0x10d)],_0x1b1a0c[_0x58c89d(0x131)]['TWO_PI']),_0x219f0a=_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0xfd)](_0x1f8f7b['east'],_0x1b1a0c[_0x58c89d(0x131)]['TWO_PI']),_0x4cd1f1=_0x1f8f7b[_0x58c89d(0xf8)];_0x4cd1f1>_0x1b1a0c['Math'][_0x58c89d(0x76)]?(_0x4a7dbb=0x0,_0x3a24ec=_0x1b1a0c['Math'][_0x58c89d(0xe8)]):_0x219f0a-_0xc65654<_0x4cd1f1?(_0x4a7dbb=_0xc65654,_0x3a24ec=_0xc65654+_0x4cd1f1):(_0x4a7dbb=_0xc65654,_0x3a24ec=_0x219f0a),_0x3216d1[_0x58c89d(0x82)]={'min':_0x1b1a0c[_0x58c89d(0x131)]['toDegrees'](_0x4a7dbb),'max':_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0x7e)](_0x3a24ec)};var _0x43c0e1=_0x1f8f7b[_0x58c89d(0xc0)],_0x2eb16b=_0x1f8f7b[_0x58c89d(0x1b7)],_0x22ebf5=_0x1f8f7b[_0x58c89d(0x113)],_0x468249=_0x22ebf5>_0x1b1a0c[_0x58c89d(0x131)]['PI']/0xc?_0x22ebf5/0x2:0x0,_0x46eb51=_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0x16a)](_0x43c0e1-_0x468249),_0x2c1e3b=_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0x16a)](_0x2eb16b+_0x468249);return _0x46eb51<-_0x1b1a0c['Math'][_0x58c89d(0x157)]&&(_0x46eb51=-_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0x92)]),_0x2c1e3b>_0x1b1a0c[_0x58c89d(0x131)][_0x58c89d(0x157)]&&(_0x2c1e3b=_0x1b1a0c['Math'][_0x58c89d(0x92)]),_0x3216d1['lat']={'min':_0x1b1a0c[_0x58c89d(0x131)]['toDegrees'](_0x46eb51),'max':_0x1b1a0c[_0x58c89d(0x131)]['toDegrees'](_0x2c1e3b)},_0x3216d1;}},_0x1a01a2=_0x5e70de(0x8),_0x429105=_0x5e70de['n'](_0x1a01a2),_0x35b292=_0x5e70de(0x9),_0x3ea268=_0x5e70de['n'](_0x35b292),_0x37cada=_0x5e70de(0x7),_0x13b5df=_0x5e70de['n'](_0x37cada),_0x2904cd=_0x5e70de(0xa),_0x1ecf24=_0x5e70de['n'](_0x2904cd),_0x5b0f21=_0x5e70de(0xb),_0x409d28=_0x5e70de['n'](_0x5b0f21),_0x1f2906=function(){var _0x520378=_0x5701de;function _0x16c3f6(_0x46727f,_0x59ceb7,_0x3c5a9f,_0x6ddff6,_0x3567c0){var _0x504664=a0_0x4d60;_0x4fcb50()(this,_0x16c3f6),this[_0x504664(0xb8)](_0x46727f,_0x59ceb7),this[_0x504664(0x1a6)](_0x46727f),this[_0x504664(0x66)](_0x46727f,_0x3c5a9f,_0x6ddff6,_0x3567c0);}return _0x3d9da7()(_0x16c3f6,[{'key':_0x520378(0xb8),'value':function(_0x1ea9ae,_0x2ff935){var _0x5a49fc=_0x520378,_0x210df0={'context':_0x1ea9ae,'width':_0x1ea9ae[_0x5a49fc(0x9d)],'height':_0x1ea9ae['drawingBufferHeight'],'pixelFormat':_0x1b1a0c[_0x5a49fc(0xcb)]['RGBA'],'pixelDatatype':_0x1b1a0c['PixelDatatype'][_0x5a49fc(0x11d)]},_0x4691f2={'context':_0x1ea9ae,'width':_0x1ea9ae[_0x5a49fc(0x9d)],'height':_0x1ea9ae[_0x5a49fc(0x19c)],'pixelFormat':_0x1b1a0c['PixelFormat'][_0x5a49fc(0x1d7)],'pixelDatatype':_0x1b1a0c[_0x5a49fc(0xa3)][_0x5a49fc(0xe1)]},_0x27887c={'context':_0x1ea9ae,'width':_0x2ff935['colorTable'][_0x5a49fc(0x137)],'height':0x1,'pixelFormat':_0x1b1a0c[_0x5a49fc(0xcb)][_0x5a49fc(0x110)],'pixelDatatype':_0x1b1a0c[_0x5a49fc(0xa3)]['FLOAT'],'sampler':new _0x1b1a0c[(_0x5a49fc(0xb4))]({'minificationFilter':_0x1b1a0c[_0x5a49fc(0x16b)][_0x5a49fc(0x1cd)],'magnificationFilter':_0x1b1a0c[_0x5a49fc(0x18b)]['LINEAR']})};this[_0x5a49fc(0x143)]={'segmentsColor':_0xd32a26[_0x5a49fc(0x139)](_0x210df0),'segmentsDepth':_0xd32a26[_0x5a49fc(0x139)](_0x4691f2),'currentTrailsColor':_0xd32a26[_0x5a49fc(0x139)](_0x210df0),'currentTrailsDepth':_0xd32a26[_0x5a49fc(0x139)](_0x4691f2),'nextTrailsColor':_0xd32a26[_0x5a49fc(0x139)](_0x210df0),'nextTrailsDepth':_0xd32a26[_0x5a49fc(0x139)](_0x4691f2),'colorTable':_0xd32a26[_0x5a49fc(0x139)](_0x27887c,_0x2ff935['colorTable'][_0x5a49fc(0x1af)])};}},{'key':_0x520378(0x1a6),'value':function(_0x345f3f){var _0x52ff5f=_0x520378;this[_0x52ff5f(0x14e)]={'segments':_0xd32a26['createFramebuffer'](_0x345f3f,this[_0x52ff5f(0x143)][_0x52ff5f(0x74)],this['textures'][_0x52ff5f(0x185)]),'currentTrails':_0xd32a26['createFramebuffer'](_0x345f3f,this[_0x52ff5f(0x143)][_0x52ff5f(0x122)],this['textures'][_0x52ff5f(0x1be)]),'nextTrails':_0xd32a26[_0x52ff5f(0x184)](_0x345f3f,this[_0x52ff5f(0x143)]['nextTrailsColor'],this[_0x52ff5f(0x143)][_0x52ff5f(0x130)])};}},{'key':_0x520378(0x68),'value':function(_0x17d7b1){var _0x2afe76=_0x520378;for(var _0x335c17=[],_0x41ec3b=0x0;_0x41ec3b<_0x17d7b1['particlesTextureSize'];_0x41ec3b++)for(var _0x1cba8f=0x0;_0x1cba8f<_0x17d7b1[_0x2afe76(0x17c)];_0x1cba8f++)for(var _0x470291=0x0;_0x470291<0x4;_0x470291++)_0x335c17[_0x2afe76(0x1b8)](_0x41ec3b/_0x17d7b1['particlesTextureSize']),_0x335c17[_0x2afe76(0x1b8)](_0x1cba8f/_0x17d7b1[_0x2afe76(0x17c)]);_0x335c17=new Float32Array(_0x335c17);for(var _0x453ffc=[],_0x2fb262=[-0x1,0x1],_0x566600=[-0x1,0x1],_0x10e6f6=0x0;_0x10e6f6<_0x17d7b1[_0x2afe76(0x1c6)];_0x10e6f6++)for(var _0x22abe7=0x0;_0x22abe7<0x2;_0x22abe7++)for(var _0x1308ba=0x0;_0x1308ba<0x2;_0x1308ba++)_0x453ffc[_0x2afe76(0x1b8)](_0x2fb262[_0x22abe7]),_0x453ffc[_0x2afe76(0x1b8)](_0x566600[_0x1308ba]),_0x453ffc['push'](0x0);_0x453ffc=new Float32Array(_0x453ffc);for(var _0x34de=0x6*_0x17d7b1[_0x2afe76(0x1c6)],_0x40453c=new Uint32Array(_0x34de),_0x173264=0x0,_0x1cc52d=0x0,_0x3d65a=0x0;_0x173264<_0x17d7b1[_0x2afe76(0x1c6)];_0x173264++)_0x40453c[_0x1cc52d++]=_0x3d65a+0x0,_0x40453c[_0x1cc52d++]=_0x3d65a+0x1,_0x40453c[_0x1cc52d++]=_0x3d65a+0x2,_0x40453c[_0x1cc52d++]=_0x3d65a+0x2,_0x40453c[_0x1cc52d++]=_0x3d65a+0x1,_0x40453c[_0x1cc52d++]=_0x3d65a+0x3,_0x3d65a+=0x4;return new _0x1b1a0c[(_0x2afe76(0x1cf))]({'attributes':new _0x1b1a0c[(_0x2afe76(0x1e4))]({'st':new _0x1b1a0c[(_0x2afe76(0xb0))]({'componentDatatype':_0x1b1a0c['ComponentDatatype'][_0x2afe76(0x19b)],'componentsPerAttribute':0x2,'values':_0x335c17}),'normal':new _0x1b1a0c['GeometryAttribute']({'componentDatatype':_0x1b1a0c[_0x2afe76(0x179)][_0x2afe76(0x19b)],'componentsPerAttribute':0x3,'values':_0x453ffc})}),'indices':_0x40453c});}},{'key':_0x520378(0x66),'value':function(_0x20d007,_0x52803c,_0x4420e6,_0x5efb0b){var _0xc7f5e7=_0x520378,_0x4707a7=this;this[_0xc7f5e7(0x73)]={'segments':new _0xfd2c79({'commandType':_0xc7f5e7(0xc9),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0xc7f5e7(0x68)](_0x52803c),'primitiveType':_0x1b1a0c[_0xc7f5e7(0x120)][_0xc7f5e7(0x1e3)],'uniformMap':{'currentParticlesPosition':function(){var _0x32becc=_0xc7f5e7;return _0x5efb0b[_0x32becc(0x8e)][_0x32becc(0x70)];},'postProcessingPosition':function(){var _0x122250=_0xc7f5e7;return _0x5efb0b[_0x122250(0x8e)][_0x122250(0x182)];},'postProcessingSpeed':function(){var _0x160bc7=_0xc7f5e7;return _0x5efb0b[_0x160bc7(0x8e)][_0x160bc7(0x9f)];},'colorTable':function(){var _0x58c660=_0xc7f5e7;return _0x4707a7[_0x58c660(0x143)][_0x58c660(0x7c)];},'aspect':function(){return _0x20d007['drawingBufferWidth']/_0x20d007['drawingBufferHeight'];},'pixelSize':function(){var _0x374789=_0xc7f5e7;return _0x4420e6[_0x374789(0x17b)];},'lineWidth':function(){var _0x9d8936=_0xc7f5e7;return _0x52803c[_0x9d8936(0xec)];},'particleHeight':function(){var _0x37cc28=_0xc7f5e7;return _0x52803c[_0x37cc28(0x18e)];}},'vertexShaderSource':new _0x1b1a0c['ShaderSource']({'sources':[_0x429105['a']]}),'fragmentShaderSource':new _0x1b1a0c['ShaderSource']({'sources':[_0x3ea268['a']]}),'rawRenderState':_0xd32a26[_0xc7f5e7(0xd9)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0xc7f5e7(0x14e)][_0xc7f5e7(0x17f)],'autoClear':!0x0}),'trails':new _0xfd2c79({'commandType':_0xc7f5e7(0xc9),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0xd32a26[_0xc7f5e7(0x186)](),'primitiveType':_0x1b1a0c[_0xc7f5e7(0x120)][_0xc7f5e7(0x1e3)],'uniformMap':{'segmentsColorTexture':function(){var _0x5dd4ca=_0xc7f5e7;return _0x4707a7[_0x5dd4ca(0x143)][_0x5dd4ca(0x74)];},'segmentsDepthTexture':function(){var _0x590268=_0xc7f5e7;return _0x4707a7['textures'][_0x590268(0x185)];},'currentTrailsColor':function(){var _0x823b00=_0xc7f5e7;return _0x4707a7['framebuffers'][_0x823b00(0x18d)][_0x823b00(0x1c8)](0x0);},'trailsDepthTexture':function(){var _0x23c071=_0xc7f5e7;return _0x4707a7[_0x23c071(0x14e)][_0x23c071(0x18d)][_0x23c071(0x77)];},'fadeOpacity':function(){var _0x384371=_0xc7f5e7;return _0x52803c[_0x384371(0x69)];}},'vertexShaderSource':new _0x1b1a0c[(_0xc7f5e7(0xef))]({'defines':[_0xc7f5e7(0xd4)],'sources':[_0x13b5df['a']]}),'fragmentShaderSource':new _0x1b1a0c[(_0xc7f5e7(0xef))]({'defines':[_0xc7f5e7(0xd0)],'sources':[_0x1ecf24['a']]}),'rawRenderState':_0xd32a26[_0xc7f5e7(0xd9)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x1b1a0c['DepthFunction']['ALWAYS']},'depthMask':!0x0}),'framebuffer':this[_0xc7f5e7(0x14e)][_0xc7f5e7(0x153)],'autoClear':!0x0,'preExecute':function(){var _0x34437a=_0xc7f5e7,_0x5ff2af;_0x5ff2af=_0x4707a7[_0x34437a(0x14e)][_0x34437a(0x18d)],_0x4707a7[_0x34437a(0x14e)]['currentTrails']=_0x4707a7['framebuffers'][_0x34437a(0x153)],_0x4707a7[_0x34437a(0x14e)][_0x34437a(0x153)]=_0x5ff2af,_0x4707a7[_0x34437a(0x73)][_0x34437a(0xd8)][_0x34437a(0x123)][_0x34437a(0xd6)]=_0x4707a7[_0x34437a(0x14e)]['nextTrails'],_0x4707a7[_0x34437a(0x73)][_0x34437a(0xd8)][_0x34437a(0xf1)][_0x34437a(0xd6)]=_0x4707a7[_0x34437a(0x14e)][_0x34437a(0x153)];}}),'screen':new _0xfd2c79({'commandType':_0xc7f5e7(0xc9),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0xd32a26[_0xc7f5e7(0x186)](),'primitiveType':_0x1b1a0c['PrimitiveType'][_0xc7f5e7(0x1e3)],'uniformMap':{'trailsColorTexture':function(){var _0x37d566=_0xc7f5e7;return _0x4707a7[_0x37d566(0x14e)][_0x37d566(0x153)][_0x37d566(0x1c8)](0x0);},'trailsDepthTexture':function(){var _0xf018d3=_0xc7f5e7;return _0x4707a7[_0xf018d3(0x14e)]['nextTrails'][_0xf018d3(0x77)];}},'vertexShaderSource':new _0x1b1a0c[(_0xc7f5e7(0xef))]({'defines':[_0xc7f5e7(0xd4)],'sources':[_0x13b5df['a']]}),'fragmentShaderSource':new _0x1b1a0c[(_0xc7f5e7(0xef))]({'defines':[_0xc7f5e7(0xd0)],'sources':[_0x409d28['a']]}),'rawRenderState':_0xd32a26[_0xc7f5e7(0xd9)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x16c3f6;}(),_0x13b693=_0x5e70de(0xc),_0x210a7b=_0x5e70de['n'](_0x13b693),_0x4dcf20=_0x5e70de(0xd),_0x1f4c7a=_0x5e70de['n'](_0x4dcf20),_0x4e164a=_0x5e70de(0xe),_0x223eb2=_0x5e70de['n'](_0x4e164a),_0x2f4dfe=_0x5e70de(0xf),_0x16fda5=_0x5e70de['n'](_0x2f4dfe),_0x492031=_0x5e70de(0x10),_0x40fbd6=_0x5e70de['n'](_0x492031),_0x52f2bc=function(){var _0x2f57af=_0x5701de;function _0x4aa459(_0x31218d,_0x49204b,_0x5bde62,_0x55eb85){var _0x5861f8=a0_0x4d60;_0x4fcb50()(this,_0x4aa459),this[_0x5861f8(0x12a)]=_0x49204b,this[_0x5861f8(0x192)](_0x31218d,_0x49204b),this[_0x5861f8(0x106)](_0x31218d,_0x5bde62,_0x55eb85),this[_0x5861f8(0x1da)](_0x49204b,_0x5bde62,_0x55eb85);}return _0x3d9da7()(_0x4aa459,[{'key':_0x2f57af(0x192),'value':function(_0x2b2aa6,_0x4e87c6){var _0x381c89=_0x2f57af,_0x59b299={'context':_0x2b2aa6,'width':_0x4e87c6[_0x381c89(0x102)]['lon'],'height':_0x4e87c6[_0x381c89(0x102)][_0x381c89(0x1c2)]*_0x4e87c6['dimensions'][_0x381c89(0x1d0)],'pixelFormat':_0x1b1a0c[_0x381c89(0xcb)][_0x381c89(0x135)],'pixelDatatype':_0x1b1a0c[_0x381c89(0xa3)]['FLOAT'],'flipY':!0x1,'sampler':new _0x1b1a0c['Sampler']({'minificationFilter':_0x1b1a0c['TextureMinificationFilter'][_0x381c89(0xd7)],'magnificationFilter':_0x1b1a0c[_0x381c89(0x18b)]['NEAREST']})};this['windTextures']={'U':_0xd32a26[_0x381c89(0x139)](_0x59b299,_0x4e87c6['U'][_0x381c89(0x1af)]),'V':_0xd32a26[_0x381c89(0x139)](_0x59b299,_0x4e87c6['V'][_0x381c89(0x1af)])};}},{'key':_0x2f57af(0x106),'value':function(_0x10efb7,_0xecf22d,_0x1a98a1){var _0x2ffbb5=_0x2f57af,_0x390b3e={'context':_0x10efb7,'width':_0xecf22d[_0x2ffbb5(0x17c)],'height':_0xecf22d['particlesTextureSize'],'pixelFormat':_0x1b1a0c['PixelFormat'][_0x2ffbb5(0x145)],'pixelDatatype':_0x1b1a0c['PixelDatatype'][_0x2ffbb5(0x19b)],'flipY':!0x1,'sampler':new _0x1b1a0c['Sampler']({'minificationFilter':_0x1b1a0c[_0x2ffbb5(0x16b)][_0x2ffbb5(0xd7)],'magnificationFilter':_0x1b1a0c[_0x2ffbb5(0x18b)][_0x2ffbb5(0xd7)]})},_0x3243a3=this[_0x2ffbb5(0xad)](_0xecf22d[_0x2ffbb5(0x1c6)],_0x1a98a1),_0x58cdf8=new Float32Array(0x4*_0xecf22d[_0x2ffbb5(0x1c6)])['fill'](0x0);this[_0x2ffbb5(0x8e)]={'particlesWind':_0xd32a26['createTexture'](_0x390b3e),'currentParticlesPosition':_0xd32a26[_0x2ffbb5(0x139)](_0x390b3e,_0x3243a3),'nextParticlesPosition':_0xd32a26[_0x2ffbb5(0x139)](_0x390b3e,_0x3243a3),'currentParticlesSpeed':_0xd32a26[_0x2ffbb5(0x139)](_0x390b3e,_0x58cdf8),'nextParticlesSpeed':_0xd32a26[_0x2ffbb5(0x139)](_0x390b3e,_0x58cdf8),'postProcessingPosition':_0xd32a26[_0x2ffbb5(0x139)](_0x390b3e,_0x3243a3),'postProcessingSpeed':_0xd32a26['createTexture'](_0x390b3e,_0x58cdf8)};}},{'key':_0x2f57af(0xad),'value':function(_0x5a506c,_0x2ef5f4){var _0x513142=_0x2f57af;for(var _0x867ff9=new Float32Array(0x4*_0x5a506c),_0x4620f9=0x0;_0x4620f9<_0x5a506c;_0x4620f9++)_0x867ff9[0x4*_0x4620f9]=_0x1b1a0c[_0x513142(0x131)][_0x513142(0xc5)](_0x2ef5f4[_0x513142(0x1c7)]['x'],_0x2ef5f4[_0x513142(0x1c7)]['y']),_0x867ff9[0x4*_0x4620f9+0x1]=_0x1b1a0c['Math'][_0x513142(0xc5)](_0x2ef5f4[_0x513142(0x149)]['x'],_0x2ef5f4['latRange']['y']),_0x867ff9[0x4*_0x4620f9+0x2]=_0x1b1a0c['Math']['randomBetween'](this[_0x513142(0x12a)][_0x513142(0x1d0)][_0x513142(0xfe)],this[_0x513142(0x12a)][_0x513142(0x1d0)]['max']),_0x867ff9[0x4*_0x4620f9+0x3]=0x0;return _0x867ff9;}},{'key':_0x2f57af(0x183),'value':function(){var _0xc80e26=_0x2f57af,_0x275e3a=this;Object[_0xc80e26(0x15d)](this[_0xc80e26(0x8e)])[_0xc80e26(0xa0)](function(_0x297fd0){var _0x50781f=_0xc80e26;_0x275e3a[_0x50781f(0x8e)][_0x297fd0]['destroy']();});}},{'key':'createComputingPrimitives','value':function(_0x5431e2,_0x2c22cb,_0x4af99f){var _0x3883c3=_0x2f57af,_0x1656f9=new _0x1b1a0c[(_0x3883c3(0x127))](_0x5431e2[_0x3883c3(0x102)][_0x3883c3(0x82)],_0x5431e2[_0x3883c3(0x102)][_0x3883c3(0x1c2)],_0x5431e2['dimensions']['lev']),_0xb33a16=new _0x1b1a0c[(_0x3883c3(0x127))](_0x5431e2['lon'][_0x3883c3(0xfe)],_0x5431e2[_0x3883c3(0x1c2)][_0x3883c3(0xfe)],_0x5431e2['lev'][_0x3883c3(0xfe)]),_0x15b080=new _0x1b1a0c[(_0x3883c3(0x127))](_0x5431e2[_0x3883c3(0x82)][_0x3883c3(0xc6)],_0x5431e2[_0x3883c3(0x1c2)][_0x3883c3(0xc6)],_0x5431e2[_0x3883c3(0x1d0)][_0x3883c3(0xc6)]),_0x3acb50=new _0x1b1a0c[(_0x3883c3(0x127))]((_0x15b080['x']-_0xb33a16['x'])/(_0x1656f9['x']-0x1),(_0x15b080['y']-_0xb33a16['y'])/(_0x1656f9['y']-0x1),_0x1656f9['z']>0x1?(_0x15b080['z']-_0xb33a16['z'])/(_0x1656f9['z']-0x1):0x1),_0x58ab61=new _0x1b1a0c[(_0x3883c3(0x1a3))](_0x5431e2['U'][_0x3883c3(0xfe)],_0x5431e2['U'][_0x3883c3(0xc6)]),_0x202b18=new _0x1b1a0c[(_0x3883c3(0x1a3))](_0x5431e2['V'][_0x3883c3(0xfe)],_0x5431e2['V'][_0x3883c3(0xc6)]),_0xc14352=this;this[_0x3883c3(0x73)]={'getWind':new _0xfd2c79({'commandType':_0x3883c3(0xff),'uniformMap':{'U':function(){var _0x2af5aa=_0x3883c3;return _0xc14352[_0x2af5aa(0x150)]['U'];},'V':function(){var _0x9a5dd3=_0x3883c3;return _0xc14352[_0x9a5dd3(0x150)]['V'];},'currentParticlesPosition':function(){var _0x5b8338=_0x3883c3;return _0xc14352[_0x5b8338(0x8e)][_0x5b8338(0x70)];},'dimension':function(){return _0x1656f9;},'minimum':function(){return _0xb33a16;},'maximum':function(){return _0x15b080;},'interval':function(){return _0x3acb50;}},'fragmentShaderSource':new _0x1b1a0c[(_0x3883c3(0xef))]({'sources':[_0x210a7b['a']]}),'outputTexture':this[_0x3883c3(0x8e)][_0x3883c3(0x101)],'preExecute':function(){var _0x1717cc=_0x3883c3;_0xc14352[_0x1717cc(0x73)]['getWind'][_0x1717cc(0x123)][_0x1717cc(0x196)]=_0xc14352['particlesTextures']['particlesWind'];}}),'updateSpeed':new _0xfd2c79({'commandType':_0x3883c3(0xff),'uniformMap':{'currentParticlesSpeed':function(){var _0x825085=_0x3883c3;return _0xc14352[_0x825085(0x8e)]['currentParticlesSpeed'];},'particlesWind':function(){var _0x55e04c=_0x3883c3;return _0xc14352[_0x55e04c(0x8e)]['particlesWind'];},'uSpeedRange':function(){return _0x58ab61;},'vSpeedRange':function(){return _0x202b18;},'pixelSize':function(){var _0x8eadef=_0x3883c3;return _0x4af99f[_0x8eadef(0x17b)];},'speedFactor':function(){var _0x56296d=_0x3883c3;return _0x2c22cb[_0x56296d(0x169)];}},'fragmentShaderSource':new _0x1b1a0c['ShaderSource']({'sources':[_0x1f4c7a['a']]}),'outputTexture':this[_0x3883c3(0x8e)][_0x3883c3(0x158)],'preExecute':function(){var _0x189441=_0x3883c3,_0x43fae9;_0x43fae9=_0xc14352['particlesTextures']['currentParticlesSpeed'],_0xc14352['particlesTextures'][_0x189441(0x10c)]=_0xc14352['particlesTextures'][_0x189441(0x9f)],_0xc14352[_0x189441(0x8e)][_0x189441(0x9f)]=_0x43fae9,_0xc14352[_0x189441(0x73)][_0x189441(0xb7)][_0x189441(0x123)][_0x189441(0x196)]=_0xc14352[_0x189441(0x8e)]['nextParticlesSpeed'];}}),'updatePosition':new _0xfd2c79({'commandType':_0x3883c3(0xff),'uniformMap':{'currentParticlesPosition':function(){var _0x3b9933=_0x3883c3;return _0xc14352['particlesTextures'][_0x3b9933(0x70)];},'currentParticlesSpeed':function(){var _0x21511e=_0x3883c3;return _0xc14352[_0x21511e(0x8e)][_0x21511e(0x10c)];}},'fragmentShaderSource':new _0x1b1a0c[(_0x3883c3(0xef))]({'sources':[_0x223eb2['a']]}),'outputTexture':this[_0x3883c3(0x8e)][_0x3883c3(0x15c)],'preExecute':function(){var _0x496c28=_0x3883c3,_0x3edd02;_0x3edd02=_0xc14352[_0x496c28(0x8e)][_0x496c28(0x70)],_0xc14352[_0x496c28(0x8e)][_0x496c28(0x70)]=_0xc14352[_0x496c28(0x8e)][_0x496c28(0x182)],_0xc14352[_0x496c28(0x8e)][_0x496c28(0x182)]=_0x3edd02,_0xc14352['primitives']['updatePosition'][_0x496c28(0x123)][_0x496c28(0x196)]=_0xc14352[_0x496c28(0x8e)]['nextParticlesPosition'];}}),'postProcessingPosition':new _0xfd2c79({'commandType':_0x3883c3(0xff),'uniformMap':{'nextParticlesPosition':function(){var _0x2766c9=_0x3883c3;return _0xc14352[_0x2766c9(0x8e)][_0x2766c9(0x15c)];},'nextParticlesSpeed':function(){var _0x3afa62=_0x3883c3;return _0xc14352['particlesTextures'][_0x3afa62(0x158)];},'lonRange':function(){return _0x4af99f['lonRange'];},'latRange':function(){return _0x4af99f['latRange'];},'randomCoefficient':function(){var _0x11c05e=_0x3883c3,_0x499212=Math[_0x11c05e(0x18f)]();return _0x499212;},'dropRate':function(){return _0x2c22cb['dropRate'];},'dropRateBump':function(){var _0xd53f68=_0x3883c3;return _0x2c22cb[_0xd53f68(0x112)];}},'fragmentShaderSource':new _0x1b1a0c[(_0x3883c3(0xef))]({'sources':[_0x16fda5['a']]}),'outputTexture':this[_0x3883c3(0x8e)]['postProcessingPosition'],'preExecute':function(){var _0x4f0627=_0x3883c3;_0xc14352['primitives'][_0x4f0627(0x182)][_0x4f0627(0x123)][_0x4f0627(0x196)]=_0xc14352[_0x4f0627(0x8e)]['postProcessingPosition'];}}),'postProcessingSpeed':new _0xfd2c79({'commandType':'Compute','uniformMap':{'postProcessingPosition':function(){var _0x1adc82=_0x3883c3;return _0xc14352[_0x1adc82(0x8e)]['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x4476ed=_0x3883c3;return _0xc14352[_0x4476ed(0x8e)][_0x4476ed(0x158)];}},'fragmentShaderSource':new _0x1b1a0c[(_0x3883c3(0xef))]({'sources':[_0x40fbd6['a']]}),'outputTexture':this['particlesTextures']['postProcessingSpeed'],'preExecute':function(){var _0x502f8a=_0x3883c3;_0xc14352['primitives'][_0x502f8a(0x9f)]['commandToExecute'][_0x502f8a(0x196)]=_0xc14352['particlesTextures'][_0x502f8a(0x9f)];}})};}}]),_0x4aa459;}(),_0x532034=function(){var _0x2b03b0=_0x5701de;function _0x2ab1db(_0x470c71,_0x56b11c,_0x1b43fb,_0x38cca2){var _0x4e3e48=a0_0x4d60;_0x4fcb50()(this,_0x2ab1db),this[_0x4e3e48(0x1dd)]=_0x470c71,this[_0x4e3e48(0x12a)]=_0x56b11c,this[_0x4e3e48(0x103)]=_0x1b43fb,this[_0x4e3e48(0x12f)]=_0x38cca2,this[_0x4e3e48(0xcc)]=new _0x52f2bc(this['context'],this[_0x4e3e48(0x12a)],this[_0x4e3e48(0x103)],this[_0x4e3e48(0x12f)]),this[_0x4e3e48(0x72)]=new _0x1f2906(this[_0x4e3e48(0x1dd)],this['data'],this[_0x4e3e48(0x103)],this[_0x4e3e48(0x12f)],this[_0x4e3e48(0xcc)]);}return _0x3d9da7()(_0x2ab1db,[{'key':'canvasResize','value':function(_0x28daf4){var _0x20a82b=a0_0x4d60,_0x2324fb=this;this['particlesComputing'][_0x20a82b(0x183)](),Object[_0x20a82b(0x15d)](this[_0x20a82b(0xcc)][_0x20a82b(0x150)])[_0x20a82b(0xa0)](function(_0x97922e){var _0xd7aedf=_0x20a82b;_0x2324fb[_0xd7aedf(0xcc)][_0xd7aedf(0x150)][_0x97922e]['destroy']();}),this[_0x20a82b(0x72)]['textures'][_0x20a82b(0x7c)][_0x20a82b(0x1db)](),Object[_0x20a82b(0x15d)](this['particlesRendering'][_0x20a82b(0x14e)])[_0x20a82b(0xa0)](function(_0x45597d){var _0x513b69=_0x20a82b;_0x2324fb[_0x513b69(0x72)][_0x513b69(0x14e)][_0x45597d][_0x513b69(0x1db)]();}),this['context']=_0x28daf4,this[_0x20a82b(0xcc)]=new _0x52f2bc(this[_0x20a82b(0x1dd)],this[_0x20a82b(0x12a)],this[_0x20a82b(0x103)],this[_0x20a82b(0x12f)]),this[_0x20a82b(0x72)]=new _0x1f2906(this['context'],this[_0x20a82b(0x12a)],this[_0x20a82b(0x103)],this[_0x20a82b(0x12f)],this[_0x20a82b(0xcc)]);}},{'key':_0x2b03b0(0xc8),'value':function(){var _0x53c664=_0x2b03b0,_0x2c5dd2=this,_0x2eca2c=new _0x1b1a0c[(_0x53c664(0xe5))]({'color':new _0x1b1a0c[(_0x53c664(0xf7))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x1b1a0c['Pass'][_0x53c664(0x13b)]});Object[_0x53c664(0x15d)](this[_0x53c664(0x72)][_0x53c664(0x14e)])[_0x53c664(0xa0)](function(_0x38d765){var _0x3d1d2b=_0x53c664;_0x2eca2c[_0x3d1d2b(0xd6)]=_0x2c5dd2[_0x3d1d2b(0x72)][_0x3d1d2b(0x14e)][_0x38d765],_0x2eca2c[_0x3d1d2b(0x116)](_0x2c5dd2[_0x3d1d2b(0x1dd)]);});}},{'key':'refreshParticles','value':function(_0xa5a3a7){var _0x2dd629=_0x2b03b0;if(this['clearFramebuffers'](),this[_0x2dd629(0xcc)][_0x2dd629(0x183)](),this[_0x2dd629(0xcc)][_0x2dd629(0x106)](this[_0x2dd629(0x1dd)],this[_0x2dd629(0x103)],this[_0x2dd629(0x12f)]),_0xa5a3a7){var _0xcbbbad=this['particlesRendering'][_0x2dd629(0x68)](this[_0x2dd629(0x103)]);this[_0x2dd629(0x72)][_0x2dd629(0x73)][_0x2dd629(0x17f)][_0x2dd629(0xba)]=_0xcbbbad;var _0x3ef687=_0x1b1a0c[_0x2dd629(0x115)][_0x2dd629(0xd5)]({'context':this[_0x2dd629(0x1dd)],'geometry':_0xcbbbad,'attributeLocations':this['particlesRendering'][_0x2dd629(0x73)]['segments'][_0x2dd629(0x1c3)],'bufferUsage':_0x1b1a0c[_0x2dd629(0x175)][_0x2dd629(0xde)]});this[_0x2dd629(0x72)][_0x2dd629(0x73)][_0x2dd629(0x17f)][_0x2dd629(0x123)][_0x2dd629(0x17d)]=_0x3ef687;}}},{'key':_0x2b03b0(0xbf),'value':function(_0x8ba055){var _0x3add4d=_0x2b03b0,_0x1c1fad=this,_0x2f2398=!0x1;this[_0x3add4d(0x103)]['maxParticles']!=_0x8ba055[_0x3add4d(0x1c6)]&&(_0x2f2398=!0x0),Object[_0x3add4d(0x15d)](_0x8ba055)[_0x3add4d(0xa0)](function(_0x3a0bf2){_0x1c1fad['userInput'][_0x3a0bf2]=_0x8ba055[_0x3a0bf2];}),this['refreshParticles'](_0x2f2398);}},{'key':_0x2b03b0(0x1ce),'value':function(_0x3e4f3f){var _0x3227d0=_0x2b03b0,_0x276404=this;Object[_0x3227d0(0x15d)](_0x3e4f3f)[_0x3227d0(0xa0)](function(_0x4950e7){var _0x2aae40=_0x3227d0;_0x276404[_0x2aae40(0x12f)][_0x4950e7]=_0x3e4f3f[_0x4950e7];}),this[_0x3227d0(0x108)](!0x1);}}]),_0x2ab1db;}();function _0x446dff(_0x589782){var _0x577757=function(){var _0x23b046=a0_0x4d60;if(_0x23b046(0x1b1)==typeof Reflect||!Reflect[_0x23b046(0x87)])return!0x1;if(Reflect['construct'][_0x23b046(0xce)])return!0x1;if(_0x23b046(0x13a)==typeof Proxy)return!0x0;try{return Boolean[_0x23b046(0xb6)][_0x23b046(0x117)]['call'](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0xce34cc){return!0x1;}}();return function(){var _0x1850c1=a0_0x4d60,_0x2c566f,_0x7c0329=_0x1c7a39()(_0x589782);if(_0x577757){var _0x48186e=_0x1c7a39()(this)[_0x1850c1(0xdc)];_0x2c566f=Reflect[_0x1850c1(0x87)](_0x7c0329,arguments,_0x48186e);}else _0x2c566f=_0x7c0329['apply'](this,arguments);return _0x3652b9()(this,_0x2c566f);};}var _0x46cd91=_0x44878e[_0x5701de(0xbc)][_0x5701de(0xa9)],_0x23bc48=0x1000,_0x3376eb=0x64,_0x46118e=0.996,_0x26ef21=0.003,_0x313dc0=0.01,_0x542e64=0.5,_0xde0fe8=0x2,_0x1de823=function(_0xf99b25){var _0x407b19=_0x5701de;_0x53c6cb()(_0x3a9518,_0xf99b25);var _0x1a3aac=_0x446dff(_0x3a9518);function _0x3a9518(){var _0x26ece2=a0_0x4d60,_0x466794,_0x9c3944=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x4fcb50()(this,_0x3a9518),(_0x466794=_0x1a3aac['call'](this,_0x9c3944))[_0x26ece2(0x1c6)]=_0x23bc48,_0x466794[_0x26ece2(0x18e)]=_0x3376eb,_0x466794[_0x26ece2(0x69)]=_0x46118e,_0x466794[_0x26ece2(0xc3)]=_0x26ef21,_0x466794[_0x26ece2(0x112)]=_0x313dc0,_0x466794['speedFactor']=_0x542e64,_0x466794['lineWidth']=_0xde0fe8,_0x9c3944){for(var _0x15a0ab in _0x9c3944)_0x466794[_0x15a0ab]=_0x9c3944[_0x15a0ab];}return _0x466794;}return _0x3d9da7()(_0x3a9518,[{'key':_0x407b19(0xbc),'get':function(){return this['primitives'];}},{'key':_0x407b19(0xa4),'value':function(){}},{'key':'_addedHook','value':function(){var _0x2b2209=_0x407b19;this[_0x2b2209(0x1a7)]=this[_0x2b2209(0x167)][_0x2b2209(0x1a7)],this['camera']=this[_0x2b2209(0x167)][_0x2b2209(0x107)],this[_0x2b2209(0x73)]=new _0x1b1a0c[(_0x2b2209(0x1ac))](),this[_0x2b2209(0x167)][_0x2b2209(0x1a7)][_0x2b2209(0x73)][_0x2b2209(0x84)](this['primitives']),this[_0x2b2209(0x12f)]={'lonRange':new _0x1b1a0c[(_0x2b2209(0x1a3))](),'latRange':new _0x1b1a0c[(_0x2b2209(0x1a3))](),'pixelSize':0x0},this[_0x2b2209(0xc7)]=new _0x1b1a0c['BoundingSphere'](_0x1b1a0c[_0x2b2209(0x127)][_0x2b2209(0x1ad)],6314355.63),this[_0x2b2209(0x13f)]();}},{'key':_0x407b19(0x12b),'value':function(){var _0x1c6115=_0x407b19;this[_0x1c6115(0x73)][_0x1c6115(0x14d)](),this['_map'][_0x1c6115(0x1a7)][_0x1c6115(0x73)][_0x1c6115(0x18a)](this[_0x1c6115(0x73)]);}},{'key':_0x407b19(0x19e),'value':function(_0x3fd999){var _0x25c45b=_0x407b19;this[_0x25c45b(0xab)]=new _0x532034(this[_0x25c45b(0x1a7)]['context'],_0x3fd999,this[_0x25c45b(0x173)](),this[_0x25c45b(0x12f)]),this['addPrimitives'](),this[_0x25c45b(0xee)]();}},{'key':_0x407b19(0x129),'value':function(_0x35a120){var _0xc6c509=_0x407b19;if(_0x35a120){for(var _0x30a7e7 in _0x35a120)this[_0x30a7e7]=_0x35a120[_0x30a7e7];}return this[_0xc6c509(0xab)][_0xc6c509(0xbf)](this['getUserInput']()),this;}},{'key':'getUserInput','value':function(){var _0x1de6ff=_0x407b19,_0x59bf65=Math[_0x1de6ff(0x16c)](Math[_0x1de6ff(0x1b3)](this[_0x1de6ff(0x1c6)]));return this['maxParticles']=_0x59bf65*_0x59bf65,{'particlesTextureSize':_0x59bf65,'maxParticles':this['maxParticles'],'particleHeight':this[_0x1de6ff(0x18e)],'fadeOpacity':this[_0x1de6ff(0x69)],'dropRate':this[_0x1de6ff(0xc3)],'dropRateBump':this[_0x1de6ff(0x112)],'speedFactor':this[_0x1de6ff(0x169)],'lineWidth':this['lineWidth'],'globeLayer':this[_0x1de6ff(0xa1)],'WMS_URL':this[_0x1de6ff(0x100)]};}},{'key':_0x407b19(0x156),'value':function(){var _0x1a1288=_0x407b19;this['primitives'][_0x1a1288(0x84)](this[_0x1a1288(0xab)]['particlesComputing']['primitives'][_0x1a1288(0x94)]),this['primitives'][_0x1a1288(0x84)](this[_0x1a1288(0xab)][_0x1a1288(0xcc)]['primitives']['updateSpeed']),this[_0x1a1288(0x73)][_0x1a1288(0x84)](this['particleSystem'][_0x1a1288(0xcc)][_0x1a1288(0x73)][_0x1a1288(0x1c5)]),this[_0x1a1288(0x73)][_0x1a1288(0x84)](this['particleSystem'][_0x1a1288(0xcc)][_0x1a1288(0x73)][_0x1a1288(0x182)]),this[_0x1a1288(0x73)][_0x1a1288(0x84)](this[_0x1a1288(0xab)][_0x1a1288(0xcc)][_0x1a1288(0x73)][_0x1a1288(0x9f)]),this[_0x1a1288(0x73)]['add'](this['particleSystem'][_0x1a1288(0x72)][_0x1a1288(0x73)][_0x1a1288(0x17f)]),this[_0x1a1288(0x73)][_0x1a1288(0x84)](this[_0x1a1288(0xab)][_0x1a1288(0x72)][_0x1a1288(0x73)][_0x1a1288(0xd8)]),this[_0x1a1288(0x73)][_0x1a1288(0x84)](this[_0x1a1288(0xab)][_0x1a1288(0x72)][_0x1a1288(0x73)]['screen']);}},{'key':'updateViewerParameters','value':function(){var _0x413129=_0x407b19,_0x13c797=this['camera']['computeViewRectangle'](this[_0x413129(0x1a7)][_0x413129(0x171)][_0x413129(0x128)]);if(!_0x13c797){var _0x322b94=this[_0x413129(0x167)][_0x413129(0x78)]();_0x13c797=_0x1b1a0c[_0x413129(0x1ca)][_0x413129(0x141)](_0x322b94['xmin'],_0x322b94['ymin'],_0x322b94['xmax'],_0x322b94[_0x413129(0x15b)]);}var _0x1ecea9=_0xd32a26[_0x413129(0x97)](_0x13c797);this['viewerParameters'][_0x413129(0x1c7)]['x']=_0x1ecea9[_0x413129(0x82)]['min'],this[_0x413129(0x12f)][_0x413129(0x1c7)]['y']=_0x1ecea9[_0x413129(0x82)][_0x413129(0xc6)],this['viewerParameters']['latRange']['x']=_0x1ecea9[_0x413129(0x1c2)][_0x413129(0xfe)],this[_0x413129(0x12f)][_0x413129(0x149)]['y']=_0x1ecea9[_0x413129(0x1c2)]['max'];var _0x26440e=this[_0x413129(0x107)][_0x413129(0x1b9)](this['globeBoundingSphere'],this[_0x413129(0x1a7)][_0x413129(0x9d)],this['scene'][_0x413129(0x19c)]);_0x26440e>0x0&&(this[_0x413129(0x12f)][_0x413129(0x17b)]=_0x26440e);}},{'key':'setupEventListeners','value':function(){var _0x43feba=_0x407b19,_0x4f36e9=this;this['camera'][_0x43feba(0x148)][_0x43feba(0xf0)](function(){var _0x295f25=_0x43feba;_0x4f36e9[_0x295f25(0x167)]&&_0x4f36e9[_0x295f25(0xdf)]&&(_0x4f36e9[_0x295f25(0x73)][_0x295f25(0xdf)]=!0x1);}),this[_0x43feba(0x107)][_0x43feba(0x1dc)][_0x43feba(0xf0)](function(){var _0x47d587=_0x43feba;_0x4f36e9[_0x47d587(0x167)]&&_0x4f36e9[_0x47d587(0xdf)]&&(_0x4f36e9[_0x47d587(0x13f)](),_0x4f36e9[_0x47d587(0xab)][_0x47d587(0x1ce)](_0x4f36e9['viewerParameters']),_0x4f36e9[_0x47d587(0x73)][_0x47d587(0xdf)]=!0x0);});var _0x58616c=!0x1;window['addEventListener']('resize',function(){var _0x4d0b13=_0x43feba;_0x4f36e9[_0x4d0b13(0x167)]&&_0x4f36e9[_0x4d0b13(0xdf)]&&(_0x58616c=!0x0,_0x4f36e9[_0x4d0b13(0x73)][_0x4d0b13(0xdf)]=!0x1,_0x4f36e9[_0x4d0b13(0x73)]['removeAll']());}),this[_0x43feba(0x1a7)][_0x43feba(0x1bc)]['addEventListener'](function(){var _0xbb8e70=_0x43feba;_0x4f36e9['_map']&&_0x58616c&&(_0x4f36e9[_0xbb8e70(0xab)][_0xbb8e70(0x1c1)](_0x4f36e9['scene'][_0xbb8e70(0x1dd)]),_0x58616c=!0x1,_0x4f36e9[_0xbb8e70(0x156)](),_0x4f36e9[_0xbb8e70(0x73)]['show']=!0x0);});}}]),_0x3a9518;}(_0x46cd91);_0x44878e[_0x5701de(0xf9)][_0x5701de(0x1b4)]('wind',_0x1de823),_0x44878e[_0x5701de(0xbc)][_0x5701de(0x1b6)]=_0x1de823;var _0x1b68ff=function _0x197998(){var _0x2bb22f=_0x5701de;_0x4fcb50()(this,_0x197998),this[_0x2bb22f(0xb2)]=null,this[_0x2bb22f(0x1c2)]=null,this[_0x2bb22f(0xcf)]=null,this[_0x2bb22f(0x1c0)]=null,this[_0x2bb22f(0xaa)]=null;},_0xc2b50b=function(){var _0x2e91f6=_0x5701de;function _0x54ab81(_0x1d0bfe,_0xf6fc6){var _0x11f78c=a0_0x4d60;_0x4fcb50()(this,_0x54ab81),this[_0x11f78c(0x147)]=_0x1d0bfe[_0x11f78c(0x147)],this['cols']=_0x1d0bfe[_0x11f78c(0x160)],this[_0x11f78c(0x189)]=_0x1d0bfe[_0x11f78c(0x189)],this[_0x11f78c(0xe9)]=_0x1d0bfe[_0x11f78c(0xe9)],this[_0x11f78c(0xe4)]=_0x1d0bfe[_0x11f78c(0xe4)],this[_0x11f78c(0x15b)]=_0x1d0bfe[_0x11f78c(0x15b)],this['grid']=[];var _0x381701=_0x1d0bfe[_0x11f78c(0x75)],_0x525494=_0x1d0bfe['vdata'],_0x2df31f=!0x1;_0x381701[_0x11f78c(0x126)]===this[_0x11f78c(0x147)]&&_0x381701[0x0][_0x11f78c(0x126)]===this['cols']&&(_0x2df31f=!0x0);for(var _0x349bfd=0x0,_0x4e901a=null,_0x4ff63d=null,_0x1373d3=0x0;_0x1373d3<this[_0x11f78c(0x147)];_0x1373d3++){_0x4e901a=[];for(var _0x3923ee=0x0;_0x3923ee<this['cols'];_0x3923ee++,_0x349bfd++)_0x4ff63d=_0x2df31f?this[_0x11f78c(0x14f)](_0x381701[_0x1373d3][_0x3923ee],_0x525494[_0x1373d3][_0x3923ee]):this[_0x11f78c(0x14f)](_0x381701[_0x349bfd],_0x525494[_0x349bfd]),_0x4e901a['push'](_0x4ff63d);this[_0x11f78c(0x1ae)][_0x11f78c(0x1b8)](_0x4e901a);}_0xf6fc6&&this['grid'][_0x11f78c(0x1b5)]();}return _0x3d9da7()(_0x54ab81,[{'key':'toGridXY','value':function(_0x4d52ec,_0x163a4f){var _0x164eaf=a0_0x4d60;return{'x':(_0x4d52ec-this['xmin'])/(this['xmax']-this['xmin'])*(this[_0x164eaf(0x160)]-0x1),'y':(this[_0x164eaf(0x15b)]-_0x163a4f)/(this[_0x164eaf(0x15b)]-this[_0x164eaf(0xe4)])*(this['rows']-0x1)};}},{'key':'getUVByXY','value':function(_0x582c9f,_0x12cc28){var _0x4977ec=a0_0x4d60;if(_0x582c9f<0x0||_0x582c9f>=this[_0x4977ec(0x160)]||_0x12cc28>=this[_0x4977ec(0x147)])return[0x0,0x0,0x0];var _0x2e1de8,_0x13dcce,_0x4a1b21=Math[_0x4977ec(0xea)](_0x582c9f),_0xaa5326=Math[_0x4977ec(0xea)](_0x12cc28);if(_0x4a1b21===_0x582c9f&&_0xaa5326===_0x12cc28)return this[_0x4977ec(0x1ae)][_0x12cc28][_0x582c9f];_0x2e1de8=_0x4a1b21+0x1,_0x13dcce=_0xaa5326+0x1;var _0xd186fa=this[_0x4977ec(0x172)](_0x4a1b21,_0xaa5326),_0x4c29ca=this['getUVByXY'](_0x2e1de8,_0xaa5326),_0x2946eb=this[_0x4977ec(0x172)](_0x4a1b21,_0x13dcce),_0x1fddaa=this[_0x4977ec(0x172)](_0x2e1de8,_0x13dcce),_0x31c8c5=null;try{_0x31c8c5=this[_0x4977ec(0x170)](_0x582c9f-_0x4a1b21,_0x12cc28-_0xaa5326,_0xd186fa,_0x4c29ca,_0x2946eb,_0x1fddaa);}catch(_0x13c1b1){console[_0x4977ec(0x95)](_0x582c9f,_0x12cc28);}return _0x31c8c5;}},{'key':'_bilinearInterpolation','value':function(_0x1ac0dc,_0x25fb6b,_0x26a3f2,_0x584d7b,_0x541db8,_0xbbd8f8){var _0x57a949=a0_0x4d60,_0x1374ac=0x1-_0x1ac0dc,_0x451468=0x1-_0x25fb6b,_0x1253f0=_0x1374ac*_0x451468,_0x5a16ec=_0x1ac0dc*_0x451468,_0x1887af=_0x1374ac*_0x25fb6b,_0x5b1714=_0x1ac0dc*_0x25fb6b,_0x1225d7=_0x26a3f2[0x0]*_0x1253f0+_0x584d7b[0x0]*_0x5a16ec+_0x541db8[0x0]*_0x1887af+_0xbbd8f8[0x0]*_0x5b1714,_0x102431=_0x26a3f2[0x1]*_0x1253f0+_0x584d7b[0x1]*_0x5a16ec+_0x541db8[0x1]*_0x1887af+_0xbbd8f8[0x1]*_0x5b1714;return this[_0x57a949(0x14f)](_0x1225d7,_0x102431);}},{'key':_0x2e91f6(0x14f),'value':function(_0x2b7368,_0x137af5){return[+_0x2b7368,+_0x137af5,Math['sqrt'](_0x2b7368*_0x2b7368+_0x137af5*_0x137af5)];}},{'key':_0x2e91f6(0x124),'value':function(_0x5ca459,_0x451b16){var _0x163dad=_0x2e91f6;if(!this[_0x163dad(0xf4)](_0x5ca459,_0x451b16))return null;var _0x35353a=this[_0x163dad(0x199)](_0x5ca459,_0x451b16);return this[_0x163dad(0x172)](_0x35353a['x'],_0x35353a['y']);}},{'key':_0x2e91f6(0xf4),'value':function(_0xcb4e88,_0x146c0a){var _0x405620=_0x2e91f6;return _0xcb4e88>=this[_0x405620(0x189)]&&_0xcb4e88<=this[_0x405620(0xe9)]&&_0x146c0a>=this['ymin']&&_0x146c0a<=this[_0x405620(0x15b)];}},{'key':'getRandomLatLng','value':function(){var _0x2f1738=_0x2e91f6,_0x410d04=_0x22e939(this['xmin'],this[_0x2f1738(0xe9)]);return{'lat':_0x22e939(this[_0x2f1738(0xe4)],this[_0x2f1738(0x15b)]),'lng':_0x410d04};}}]),_0x54ab81;}();function _0x22e939(_0x2de728,_0x33ee6a){var _0x7e1b27=_0x5701de;return _0x2de728+Math[_0x7e1b27(0x18f)]()*(_0x33ee6a-_0x2de728);}function _0x1be20b(_0xd79873){var _0x17cc40=function(){var _0x4e1452=a0_0x4d60;if(_0x4e1452(0x1b1)==typeof Reflect||!Reflect[_0x4e1452(0x87)])return!0x1;if(Reflect['construct'][_0x4e1452(0xce)])return!0x1;if(_0x4e1452(0x13a)==typeof Proxy)return!0x0;try{return Boolean[_0x4e1452(0xb6)][_0x4e1452(0x117)]['call'](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x22e5f2){return!0x1;}}();return function(){var _0x4b0850=a0_0x4d60,_0x4cd616,_0x317de7=_0x1c7a39()(_0xd79873);if(_0x17cc40){var _0x5afc22=_0x1c7a39()(this)[_0x4b0850(0xdc)];_0x4cd616=Reflect['construct'](_0x317de7,arguments,_0x5afc22);}else _0x4cd616=_0x317de7[_0x4b0850(0x195)](this,arguments);return _0x3652b9()(this,_0x4cd616);};}var _0x210dcd=function(_0x11287f){var _0xf78aeb=_0x5701de;_0x53c6cb()(_0x502adc,_0x11287f);var _0x51e332=_0x1be20b(_0x502adc);function _0x502adc(){var _0x22f80c=a0_0x4d60,_0x6443fb,_0x6cd077=arguments[_0x22f80c(0x126)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x4fcb50()(this,_0x502adc),(_0x6443fb=_0x51e332[_0x22f80c(0xf6)](this,_0x6cd077))['calc_speedRate']=[0x0,0x0],_0x6443fb[_0x22f80c(0x194)]=[],_0x6443fb[_0x22f80c(0x105)]=_0x6cd077[_0x22f80c(0x105)]||0x32,_0x6443fb[_0x22f80c(0x10e)]=_0x6cd077['particlesNumber']||0x4e20,_0x6443fb['_maxAge']=_0x6cd077[_0x22f80c(0x8f)]||0x78,_0x6443fb['frameTime']=0x3e8/(_0x6cd077[_0x22f80c(0xa6)]||0xa),_0x6443fb['_pointerEvents']=_0x1b1a0c['defaultValue'](_0x6443fb[_0x22f80c(0x1ab)][_0x22f80c(0x1b2)],!0x1),_0x6443fb[_0x22f80c(0x1d1)]=_0x6cd077[_0x22f80c(0x1d1)]||_0x22f80c(0x181),_0x6443fb[_0x22f80c(0xec)]=_0x6cd077[_0x22f80c(0xec)]||0x1,_0x6443fb['fixedHeight']=_0x1b1a0c[_0x22f80c(0x12e)](_0x6cd077['fixedHeight'],0x0),_0x6443fb['reverseY']=_0x1b1a0c[_0x22f80c(0x12e)](_0x6cd077[_0x22f80c(0x162)],!0x1),_0x6443fb['canvas']=null,_0x6443fb;}return _0x3d9da7()(_0x502adc,[{'key':_0xf78aeb(0xbc),'get':function(){var _0x455d09=_0xf78aeb;return this[_0x455d09(0x6a)];}},{'key':'canvasWidth','get':function(){var _0x491980=_0xf78aeb;return this[_0x491980(0x167)]['scene'][_0x491980(0x6a)][_0x491980(0xc2)];}},{'key':_0xf78aeb(0xca),'get':function(){var _0x3aef37=_0xf78aeb;return this[_0x3aef37(0x167)][_0x3aef37(0x1a7)]['canvas'][_0x3aef37(0x16f)];}},{'key':'pointerEvents','get':function(){var _0x49cf70=_0xf78aeb;return this[_0x49cf70(0x177)];},'set':function(_0x3dde30){var _0x7fc131=_0xf78aeb;this[_0x7fc131(0x177)]=_0x3dde30,this[_0x7fc131(0x6a)]&&(this[_0x7fc131(0x6a)][_0x7fc131(0xb1)][_0x7fc131(0x138)]=_0x3dde30?_0x7fc131(0x1d8):_0x7fc131(0x13d));}},{'key':_0xf78aeb(0x105),'get':function(){var _0x2b5ade=_0xf78aeb;return this[_0x2b5ade(0x1d6)];},'set':function(_0x353c4c){var _0x596d54=_0xf78aeb;this['_speedRate']=0x64*(0x64-(_0x353c4c>0x63?0x63:_0x353c4c)),this[_0x596d54(0xd2)]();}},{'key':_0xf78aeb(0x15e),'get':function(){var _0x594ada=_0xf78aeb;return this[_0x594ada(0x10e)];},'set':function(_0x21a3c2){var _0x79fcb=_0xf78aeb,_0x24b1ae=this;this[_0x79fcb(0x10e)]=_0x21a3c2,clearTimeout(this[_0x79fcb(0xd1)]),this[_0x79fcb(0xd1)]=setTimeout(function(){var _0x1bcb8c=_0x79fcb;_0x24b1ae[_0x1bcb8c(0x134)]();},0x1f4);}},{'key':'maxAge','get':function(){var _0x3bc668=_0xf78aeb;return this[_0x3bc668(0x178)];},'set':function(_0x90916e){var _0x510ef9=_0xf78aeb,_0x3c06f1=this;this['_maxAge']=_0x90916e,clearTimeout(this[_0x510ef9(0xd1)]),this[_0x510ef9(0xd1)]=setTimeout(function(){var _0x30099c=_0x510ef9;_0x3c06f1[_0x30099c(0x134)]();},0x1f4);}},{'key':_0xf78aeb(0x12a),'get':function(){var _0x430db4=_0xf78aeb;return this[_0x430db4(0xac)];},'set':function(_0x213b28){this['updateDate'](_0x213b28);}},{'key':_0xf78aeb(0x155),'value':function(_0x2fddab){var _0x39264b=_0xf78aeb;_0x2fddab?this['_addedHook']():(this['windData']&&(this[_0x39264b(0x1ab)][_0x39264b(0x12a)]=this[_0x39264b(0xac)]),this[_0x39264b(0x12b)]());}},{'key':'_mountedHook','value':function(){}},{'key':_0xf78aeb(0xe0),'value':function(){var _0x1fa628=_0xf78aeb;this[_0x1fa628(0x6a)]=this[_0x1fa628(0xda)](),this[_0x1fa628(0x1cc)]=this[_0x1fa628(0x6a)][_0x1fa628(0x19f)]('2d'),this['bindEvent'](),this[_0x1fa628(0x1ab)][_0x1fa628(0x12a)]&&this[_0x1fa628(0xc4)](this[_0x1fa628(0x1ab)]['data']);}},{'key':'_removedHook','value':function(){var _0x2536b0=_0xf78aeb;this['clear'](),this[_0x2536b0(0xc1)](),this['canvas']&&(this[_0x2536b0(0x167)][_0x2536b0(0xbb)][_0x2536b0(0xdb)](this[_0x2536b0(0x6a)]),delete this[_0x2536b0(0x6a)]);}},{'key':_0xf78aeb(0xda),'value':function(){var _0x4cc982=_0xf78aeb,_0x55005b=document[_0x4cc982(0xf5)](_0x4cc982(0x6a));_0x55005b[_0x4cc982(0xb1)][_0x4cc982(0x187)]=_0x4cc982(0x16e),_0x55005b[_0x4cc982(0xb1)][_0x4cc982(0x118)]=_0x4cc982(0x8d),_0x55005b[_0x4cc982(0xb1)]['left']=_0x4cc982(0x8d),_0x55005b[_0x4cc982(0xb1)][_0x4cc982(0xf8)]=_0x4cc982(0x81),_0x55005b[_0x4cc982(0xb1)][_0x4cc982(0x113)]=_0x4cc982(0x81),_0x55005b['style'][_0x4cc982(0x1b2)]=this['_pointerEvents']?_0x4cc982(0x13e):_0x4cc982(0x13d),_0x55005b[_0x4cc982(0xb1)][_0x4cc982(0x163)]=0xa,_0x55005b[_0x4cc982(0x1d4)]('id',_0x4cc982(0x96)),_0x55005b[_0x4cc982(0x1d4)](_0x4cc982(0xa7),_0x4cc982(0x96)),this['_map'][_0x4cc982(0xbb)][_0x4cc982(0x104)](_0x55005b);var _0x5b1b63=this[_0x4cc982(0x167)][_0x4cc982(0x1a7)];return _0x55005b[_0x4cc982(0xf8)]=_0x5b1b63['canvas'][_0x4cc982(0xc2)],_0x55005b[_0x4cc982(0x113)]=_0x5b1b63[_0x4cc982(0x6a)]['clientHeight'],_0x55005b;}},{'key':_0xf78aeb(0x146),'value':function(){var _0x26100e=_0xf78aeb;this['canvas']&&(this[_0x26100e(0x6a)][_0x26100e(0xf8)]=this[_0x26100e(0x6b)],this[_0x26100e(0x6a)][_0x26100e(0x113)]=this[_0x26100e(0xca)]);}},{'key':'bindEvent','value':function(){var _0x1dbbd0=_0xf78aeb,_0x2c9bac=this,_0x423560=Date[_0x1dbbd0(0x1d3)]();!function _0xaa4408(){var _0x3c973a=_0x1dbbd0;_0x2c9bac[_0x3c973a(0x164)]=window[_0x3c973a(0x114)](_0xaa4408);var _0x254b2e=Date['now'](),_0x2145f8=_0x254b2e-_0x423560;_0x2145f8>_0x2c9bac[_0x3c973a(0x80)]&&(_0x423560=_0x254b2e-_0x2145f8%_0x2c9bac[_0x3c973a(0x80)],_0x2c9bac['update']());}(),window[_0x1dbbd0(0xf0)](_0x1dbbd0(0x146),this['resize']['bind'](this),!0x1),this[_0x1dbbd0(0x1cb)]=!0x1,this[_0x1dbbd0(0xae)]=!0x1,this[_0x1dbbd0(0x167)]['on'](_0x44878e[_0x1dbbd0(0x9e)][_0x1dbbd0(0x99)],this[_0x1dbbd0(0x12c)],this),this[_0x1dbbd0(0x167)]['on'](_0x44878e[_0x1dbbd0(0x9e)][_0x1dbbd0(0x1a9)],this[_0x1dbbd0(0x17e)],this),this[_0x1dbbd0(0x167)]['on'](_0x44878e['EventType'][_0x1dbbd0(0x142)],this[_0x1dbbd0(0x7a)],this),this['_map']['on'](_0x44878e[_0x1dbbd0(0x9e)][_0x1dbbd0(0x136)],this['_onMouseMoveEvent'],this);}},{'key':'unbindEvent','value':function(){var _0xf9b547=_0xf78aeb;window[_0xf9b547(0xf2)](this[_0xf9b547(0x164)]),delete this[_0xf9b547(0x164)],window[_0xf9b547(0x125)](_0xf9b547(0x146),this[_0xf9b547(0x146)]),this[_0xf9b547(0x167)]['off'](_0x44878e['EventType'][_0xf9b547(0x99)],this[_0xf9b547(0x12c)],this),this['_map'][_0xf9b547(0x11b)](_0x44878e[_0xf9b547(0x9e)][_0xf9b547(0x1a9)],this[_0xf9b547(0x17e)],this),this['_map']['off'](_0x44878e[_0xf9b547(0x9e)]['mouseUp'],this[_0xf9b547(0x7a)],this),this[_0xf9b547(0x167)][_0xf9b547(0x11b)](_0x44878e[_0xf9b547(0x9e)][_0xf9b547(0x136)],this[_0xf9b547(0x1bd)],this);}},{'key':'_onMapWhellEvent','value':function(_0x299846){var _0x3ac42d=_0xf78aeb,_0x2dc186=this;clearTimeout(this['refreshTimer']),this['show']&&this[_0x3ac42d(0x6a)]&&(this['canvas']['style'][_0x3ac42d(0x1d2)]='hidden',this[_0x3ac42d(0x1a2)]=setTimeout(function(){var _0x47692d=_0x3ac42d;_0x2dc186['show']&&(_0x2dc186['redraw'](),_0x2dc186['canvas'][_0x47692d(0xb1)]['visibility']='visible');},0xc8));}},{'key':_0xf78aeb(0x17e),'value':function(_0x43fe24){var _0x4523e1=_0xf78aeb;this[_0x4523e1(0x1cb)]=!0x0;}},{'key':_0xf78aeb(0x1bd),'value':function(_0x450512){var _0x1175df=_0xf78aeb;this[_0x1175df(0xdf)]&&this['canvas']&&this[_0x1175df(0x1cb)]&&(this['canvas'][_0x1175df(0xb1)][_0x1175df(0x1d2)]=_0x1175df(0x7f),this[_0x1175df(0xae)]=!0x0);}},{'key':_0xf78aeb(0x7a),'value':function(_0x117d7a){var _0x438ab0=_0xf78aeb;this[_0x438ab0(0xdf)]&&this['canvas']&&(this[_0x438ab0(0x1cb)]&&this[_0x438ab0(0xae)]&&this[_0x438ab0(0x134)](),this[_0x438ab0(0x6a)][_0x438ab0(0xb1)]['visibility']='visible',this[_0x438ab0(0x1cb)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0xf78aeb(0x134),'value':function(){var _0x3c269e=_0xf78aeb;this['show']&&(this['particles']=[],this[_0x3c269e(0xe3)]());}},{'key':_0xf78aeb(0xc4),'value':function(_0x4339c6){var _0x4321f4=_0xf78aeb;this[_0x4321f4(0x14c)](),this['windData']=_0x4339c6,this[_0x4321f4(0x188)]=new _0xc2b50b(this[_0x4321f4(0xac)],this['reverseY']),this[_0x4321f4(0xe3)]();}},{'key':_0xf78aeb(0xe3),'value':function(){var _0x52e750=_0xf78aeb;this[_0x52e750(0xd2)]();for(var _0x485517=0x0;_0x485517<this[_0x52e750(0x15e)];_0x485517++){var _0x1cba82=this['randomParticle'](new _0x1b68ff());this[_0x52e750(0x194)][_0x52e750(0x1b8)](_0x1cba82);}this['canvasContext'][_0x52e750(0x1d9)]=_0x52e750(0x140),this['canvasContext'][_0x52e750(0x109)]=0.6,this[_0x52e750(0x1e0)]();}},{'key':_0xf78aeb(0xd2),'value':function(){var _0x501d1b=_0xf78aeb;this[_0x501d1b(0x188)]&&(this[_0x501d1b(0xb9)]=[(this[_0x501d1b(0x188)][_0x501d1b(0xe9)]-this['windField'][_0x501d1b(0x189)])/this['speedRate'],(this[_0x501d1b(0x188)][_0x501d1b(0x15b)]-this[_0x501d1b(0x188)]['ymin'])/this['speedRate']]);}},{'key':_0xf78aeb(0x1e0),'value':function(){var _0x27ac53=_0xf78aeb,_0x428fe1=this;if(this[_0x27ac53(0xdf)]&&!(this[_0x27ac53(0x194)][_0x27ac53(0x126)]<=0x0)){var _0x2f7b0d=null,_0x3e01f5=null,_0x158198=null;this[_0x27ac53(0x194)][_0x27ac53(0xa0)](function(_0x5cce3e){var _0x353b57=_0x27ac53;if(_0x5cce3e[_0x353b57(0xaa)]<=0x0&&_0x428fe1[_0x353b57(0x71)](_0x5cce3e),_0x5cce3e['age']>0x0){var _0x44a7a6=_0x5cce3e[_0x353b57(0xcf)],_0x8fd6e0=_0x5cce3e[_0x353b57(0x1c0)];(_0x158198=_0x428fe1[_0x353b57(0x188)][_0x353b57(0x124)](_0x44a7a6,_0x8fd6e0))?(_0x2f7b0d=_0x44a7a6+_0x428fe1[_0x353b57(0xb9)][0x0]*_0x158198[0x0],_0x3e01f5=_0x8fd6e0+_0x428fe1[_0x353b57(0xb9)][0x1]*_0x158198[0x1],_0x5cce3e['lng']=_0x44a7a6,_0x5cce3e['lat']=_0x8fd6e0,_0x5cce3e[_0x353b57(0xcf)]=_0x2f7b0d,_0x5cce3e['tlat']=_0x3e01f5,_0x5cce3e[_0x353b57(0xaa)]--):_0x5cce3e[_0x353b57(0xaa)]=0x0;}}),this[_0x27ac53(0xfa)]();}}},{'key':'_tomap','value':function(_0x3ef860,_0x3ababa,_0xb6284c){var _0x4caa58=_0xf78aeb,_0x35f2fa=_0x1b1a0c['Cartesian3'][_0x4caa58(0x141)](_0x3ef860,_0x3ababa,this[_0x4caa58(0x86)]),_0x1fae37=this[_0x4caa58(0x167)]['scene'];if(_0x1fae37[_0x4caa58(0x9c)]===_0x1b1a0c['SceneMode'][_0x4caa58(0x15f)]&&!new _0x1b1a0c[(_0x4caa58(0x79))](_0x1fae37[_0x4caa58(0x171)]['ellipsoid'],_0x1fae37['camera'][_0x4caa58(0x10a)])[_0x4caa58(0x154)](_0x35f2fa))return _0xb6284c[_0x4caa58(0xaa)]=0x0,null;var _0x1912b5=_0x1b1a0c['SceneTransforms'][_0x4caa58(0x8a)](this['_map']['scene'],_0x35f2fa);return _0x1912b5?[_0x1912b5['x'],_0x1912b5['y']]:null;}},{'key':_0xf78aeb(0xfa),'value':function(){var _0x521d34=_0xf78aeb,_0x49bb71=this,_0xc1deb1=this[_0x521d34(0x194)];this[_0x521d34(0x1cc)][_0x521d34(0xec)]=_0x49bb71[_0x521d34(0xec)],this[_0x521d34(0x1cc)][_0x521d34(0x12d)]=_0x521d34(0x11c),this[_0x521d34(0x1cc)]['fillRect'](0x0,0x0,this['canvasWidth'],this[_0x521d34(0xca)]),this[_0x521d34(0x1cc)][_0x521d34(0x12d)]='lighter',this[_0x521d34(0x1cc)][_0x521d34(0x109)]=0.9,this[_0x521d34(0x1cc)][_0x521d34(0x90)](),this[_0x521d34(0x1cc)]['strokeStyle']=this[_0x521d34(0x1d1)];var _0x5ae2de=this['_map'][_0x521d34(0x1a7)][_0x521d34(0x9c)]!==_0x1b1a0c[_0x521d34(0x11e)][_0x521d34(0x15f)];_0xc1deb1[_0x521d34(0xa0)](function(_0xe14184){var _0x3c2796=_0x521d34,_0x3ae842=_0x49bb71[_0x3c2796(0xdd)](_0xe14184['lng'],_0xe14184[_0x3c2796(0x1c2)],_0xe14184),_0x5ca193=_0x49bb71[_0x3c2796(0xdd)](_0xe14184[_0x3c2796(0xcf)],_0xe14184['tlat'],_0xe14184);if(null!=_0x3ae842&&null!=_0x5ca193){var _0x3bc572=Math[_0x3c2796(0x152)](_0x3ae842[0x0]-_0x5ca193[0x0]);_0x5ae2de&&_0x3bc572>=_0x49bb71[_0x3c2796(0x6b)]||(_0x49bb71[_0x3c2796(0x1cc)][_0x3c2796(0x8c)](_0x3ae842[0x0],_0x3ae842[0x1]),_0x49bb71[_0x3c2796(0x1cc)]['lineTo'](_0x5ca193[0x0],_0x5ca193[0x1]));}}),this[_0x521d34(0x1cc)][_0x521d34(0x7d)]();}},{'key':_0xf78aeb(0x71),'value':function(_0x1c8cdc){var _0x549209=_0xf78aeb;for(var _0x373479,_0x51cb7b,_0x713734=0x0;_0x713734<0x1e&&(_0x373479=this[_0x549209(0x188)][_0x549209(0x166)](),!((_0x51cb7b=this[_0x549209(0x188)][_0x549209(0x124)](_0x373479[_0x549209(0xb2)],_0x373479[_0x549209(0x1c2)]))&&_0x51cb7b[0x2]>0x0));_0x713734++);if(!_0x51cb7b)return _0x1c8cdc;var _0x4a2104=_0x373479[_0x549209(0xb2)]+this['calc_speedRate'][0x0]*_0x51cb7b[0x0],_0x1b673a=_0x373479[_0x549209(0x1c2)]+this[_0x549209(0xb9)][0x1]*_0x51cb7b[0x1];return _0x1c8cdc['lng']=_0x373479['lng'],_0x1c8cdc[_0x549209(0x1c2)]=_0x373479[_0x549209(0x1c2)],_0x1c8cdc[_0x549209(0xcf)]=_0x4a2104,_0x1c8cdc[_0x549209(0x1c0)]=_0x1b673a,_0x1c8cdc[_0x549209(0xaa)]=Math[_0x549209(0x190)](Math[_0x549209(0x18f)]()*this[_0x549209(0x8f)]),_0x1c8cdc;}},{'key':'clear','value':function(){var _0x492120=_0xf78aeb;this[_0x492120(0x194)]=[],delete this[_0x492120(0x188)],delete this['windData'];}}]),_0x502adc;}(_0x44878e[_0x5701de(0xbc)][_0x5701de(0xa9)]);function _0x2f82a7(_0x365a41,_0x413f78){var _0x48d36f=_0x5701de;return _0x365a41*Math[_0x48d36f(0xaf)](_0x1b1a0c['Math'][_0x48d36f(0x6d)](_0x413f78));}function _0x26d5ce(_0x4abb07,_0x2de196){var _0x179b97=_0x5701de;return _0x4abb07*Math[_0x179b97(0x176)](_0x1b1a0c['Math']['toRadians'](_0x2de196));}function _0x344fd8(_0x4d3aaf,_0x320dbc){var _0x411d5b=_0x5701de;return Math[_0x411d5b(0x1b3)](Math[_0x411d5b(0x89)](_0x4d3aaf,0x2)+Math[_0x411d5b(0x89)](_0x320dbc,0x2));}function _0x7920ef(_0x5a8e6a,_0x1f5d22){var _0x46b237=_0x5701de,_0x596edb=_0x1b1a0c[_0x46b237(0x131)]['toDegrees'](Math[_0x46b237(0x1d5)](_0x1f5d22,_0x5a8e6a));return _0x596edb+=_0x596edb<0x0?0x168:0x0;}_0x44878e[_0x5701de(0xf9)][_0x5701de(0x1b4)](_0x5701de(0x6e),_0x210dcd),_0x44878e[_0x5701de(0xbc)]['CanvasWindLayer']=_0x210dcd,_0x44878e[_0x5701de(0xcd)]=_0x127fea;}]);}));